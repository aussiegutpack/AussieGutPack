var xb=Object.defineProperty;var Ob=(n,e,t)=>e in n?xb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var hi=(n,e,t)=>Ob(n,typeof e!="symbol"?e+"":e,t);function Ts(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Db(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Sm={exports:{}},Su={},Im={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function Nb(){if(NE)return be;NE=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,b={};function C(j,X,me){this.props=j,this.context=X,this.refs=b,this.updater=me||T}C.prototype.isReactComponent={},C.prototype.setState=function(j,X){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,X,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function D(){}D.prototype=C.prototype;function H(j,X,me){this.props=j,this.context=X,this.refs=b,this.updater=me||T}var F=H.prototype=new D;F.constructor=H,A(F,C.prototype),F.isPureReactComponent=!0;var G=Array.isArray,Q=Object.prototype.hasOwnProperty,ne={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function P(j,X,me){var Ce,ke={},Le=null,je=null;if(X!=null)for(Ce in X.ref!==void 0&&(je=X.ref),X.key!==void 0&&(Le=""+X.key),X)Q.call(X,Ce)&&!O.hasOwnProperty(Ce)&&(ke[Ce]=X[Ce]);var $e=arguments.length-2;if($e===1)ke.children=me;else if(1<$e){for(var qe=Array($e),Rt=0;Rt<$e;Rt++)qe[Rt]=arguments[Rt+2];ke.children=qe}if(j&&j.defaultProps)for(Ce in $e=j.defaultProps,$e)ke[Ce]===void 0&&(ke[Ce]=$e[Ce]);return{$$typeof:n,type:j,key:Le,ref:je,props:ke,_owner:ne.current}}function R(j,X){return{$$typeof:n,type:j.type,key:X,ref:j.ref,props:j.props,_owner:j._owner}}function N(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function U(j){var X={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(me){return X[me]})}var $=/\/+/g;function x(j,X){return typeof j=="object"&&j!==null&&j.key!=null?U(""+j.key):X.toString(36)}function Ze(j,X,me,Ce,ke){var Le=typeof j;(Le==="undefined"||Le==="boolean")&&(j=null);var je=!1;if(j===null)je=!0;else switch(Le){case"string":case"number":je=!0;break;case"object":switch(j.$$typeof){case n:case e:je=!0}}if(je)return je=j,ke=ke(je),j=Ce===""?"."+x(je,0):Ce,G(ke)?(me="",j!=null&&(me=j.replace($,"$&/")+"/"),Ze(ke,X,me,"",function(Rt){return Rt})):ke!=null&&(N(ke)&&(ke=R(ke,me+(!ke.key||je&&je.key===ke.key?"":(""+ke.key).replace($,"$&/")+"/")+j)),X.push(ke)),1;if(je=0,Ce=Ce===""?".":Ce+":",G(j))for(var $e=0;$e<j.length;$e++){Le=j[$e];var qe=Ce+x(Le,$e);je+=Ze(Le,X,me,qe,ke)}else if(qe=w(j),typeof qe=="function")for(j=qe.call(j),$e=0;!(Le=j.next()).done;)Le=Le.value,qe=Ce+x(Le,$e++),je+=Ze(Le,X,me,qe,ke);else if(Le==="object")throw X=String(j),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return je}function Vt(j,X,me){if(j==null)return j;var Ce=[],ke=0;return Ze(j,Ce,"","",function(Le){return X.call(me,Le,ke++)}),Ce}function Mt(j){if(j._status===-1){var X=j._result;X=X(),X.then(function(me){(j._status===0||j._status===-1)&&(j._status=1,j._result=me)},function(me){(j._status===0||j._status===-1)&&(j._status=2,j._result=me)}),j._status===-1&&(j._status=0,j._result=X)}if(j._status===1)return j._result.default;throw j._result}var Ie={current:null},ie={transition:null},fe={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:ie,ReactCurrentOwner:ne};function oe(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:Vt,forEach:function(j,X,me){Vt(j,function(){X.apply(this,arguments)},me)},count:function(j){var X=0;return Vt(j,function(){X++}),X},toArray:function(j){return Vt(j,function(X){return X})||[]},only:function(j){if(!N(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},be.Component=C,be.Fragment=t,be.Profiler=i,be.PureComponent=H,be.StrictMode=r,be.Suspense=h,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,be.act=oe,be.cloneElement=function(j,X,me){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var Ce=A({},j.props),ke=j.key,Le=j.ref,je=j._owner;if(X!=null){if(X.ref!==void 0&&(Le=X.ref,je=ne.current),X.key!==void 0&&(ke=""+X.key),j.type&&j.type.defaultProps)var $e=j.type.defaultProps;for(qe in X)Q.call(X,qe)&&!O.hasOwnProperty(qe)&&(Ce[qe]=X[qe]===void 0&&$e!==void 0?$e[qe]:X[qe])}var qe=arguments.length-2;if(qe===1)Ce.children=me;else if(1<qe){$e=Array(qe);for(var Rt=0;Rt<qe;Rt++)$e[Rt]=arguments[Rt+2];Ce.children=$e}return{$$typeof:n,type:j.type,key:ke,ref:Le,props:Ce,_owner:je}},be.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:o,_context:j},j.Consumer=j},be.createElement=P,be.createFactory=function(j){var X=P.bind(null,j);return X.type=j,X},be.createRef=function(){return{current:null}},be.forwardRef=function(j){return{$$typeof:u,render:j}},be.isValidElement=N,be.lazy=function(j){return{$$typeof:m,_payload:{_status:-1,_result:j},_init:Mt}},be.memo=function(j,X){return{$$typeof:f,type:j,compare:X===void 0?null:X}},be.startTransition=function(j){var X=ie.transition;ie.transition={};try{j()}finally{ie.transition=X}},be.unstable_act=oe,be.useCallback=function(j,X){return Ie.current.useCallback(j,X)},be.useContext=function(j){return Ie.current.useContext(j)},be.useDebugValue=function(){},be.useDeferredValue=function(j){return Ie.current.useDeferredValue(j)},be.useEffect=function(j,X){return Ie.current.useEffect(j,X)},be.useId=function(){return Ie.current.useId()},be.useImperativeHandle=function(j,X,me){return Ie.current.useImperativeHandle(j,X,me)},be.useInsertionEffect=function(j,X){return Ie.current.useInsertionEffect(j,X)},be.useLayoutEffect=function(j,X){return Ie.current.useLayoutEffect(j,X)},be.useMemo=function(j,X){return Ie.current.useMemo(j,X)},be.useReducer=function(j,X,me){return Ie.current.useReducer(j,X,me)},be.useRef=function(j){return Ie.current.useRef(j)},be.useState=function(j){return Ie.current.useState(j)},be.useSyncExternalStore=function(j,X,me){return Ie.current.useSyncExternalStore(j,X,me)},be.useTransition=function(){return Ie.current.useTransition()},be.version="18.3.1",be}var LE;function Cy(){return LE||(LE=1,Im.exports=Nb()),Im.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function Lb(){if(VE)return Su;VE=1;var n=Cy(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,f){var m,y={},w=null,T=null;f!==void 0&&(w=""+f),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(T=h.ref);for(m in h)r.call(h,m)&&!o.hasOwnProperty(m)&&(y[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)y[m]===void 0&&(y[m]=h[m]);return{$$typeof:e,type:u,key:w,ref:T,props:y,_owner:i.current}}return Su.Fragment=t,Su.jsx=l,Su.jsxs=l,Su}var ME;function Vb(){return ME||(ME=1,Sm.exports=Lb()),Sm.exports}var gi=Vb(),V=Cy();const Qe=Ts(V);var Zh={},Am={exports:{}},yn={},Pm={exports:{}},Cm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function Mb(){return UE||(UE=1,function(n){function e(ie,fe){var oe=ie.length;ie.push(fe);e:for(;0<oe;){var j=oe-1>>>1,X=ie[j];if(0<i(X,fe))ie[j]=fe,ie[oe]=X,oe=j;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var fe=ie[0],oe=ie.pop();if(oe!==fe){ie[0]=oe;e:for(var j=0,X=ie.length,me=X>>>1;j<me;){var Ce=2*(j+1)-1,ke=ie[Ce],Le=Ce+1,je=ie[Le];if(0>i(ke,oe))Le<X&&0>i(je,ke)?(ie[j]=je,ie[Le]=oe,j=Le):(ie[j]=ke,ie[Ce]=oe,j=Ce);else if(Le<X&&0>i(je,oe))ie[j]=je,ie[Le]=oe,j=Le;else break e}}return fe}function i(ie,fe){var oe=ie.sortIndex-fe.sortIndex;return oe!==0?oe:ie.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],f=[],m=1,y=null,w=3,T=!1,A=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(ie){for(var fe=t(f);fe!==null;){if(fe.callback===null)r(f);else if(fe.startTime<=ie)r(f),fe.sortIndex=fe.expirationTime,e(h,fe);else break;fe=t(f)}}function G(ie){if(b=!1,F(ie),!A)if(t(h)!==null)A=!0,Mt(Q);else{var fe=t(f);fe!==null&&Ie(G,fe.startTime-ie)}}function Q(ie,fe){A=!1,b&&(b=!1,D(P),P=-1),T=!0;var oe=w;try{for(F(fe),y=t(h);y!==null&&(!(y.expirationTime>fe)||ie&&!U());){var j=y.callback;if(typeof j=="function"){y.callback=null,w=y.priorityLevel;var X=j(y.expirationTime<=fe);fe=n.unstable_now(),typeof X=="function"?y.callback=X:y===t(h)&&r(h),F(fe)}else r(h);y=t(h)}if(y!==null)var me=!0;else{var Ce=t(f);Ce!==null&&Ie(G,Ce.startTime-fe),me=!1}return me}finally{y=null,w=oe,T=!1}}var ne=!1,O=null,P=-1,R=5,N=-1;function U(){return!(n.unstable_now()-N<R)}function $(){if(O!==null){var ie=n.unstable_now();N=ie;var fe=!0;try{fe=O(!0,ie)}finally{fe?x():(ne=!1,O=null)}}else ne=!1}var x;if(typeof H=="function")x=function(){H($)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,Vt=Ze.port2;Ze.port1.onmessage=$,x=function(){Vt.postMessage(null)}}else x=function(){C($,0)};function Mt(ie){O=ie,ne||(ne=!0,x())}function Ie(ie,fe){P=C(function(){ie(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){A||T||(A=!0,Mt(Q))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ie){switch(w){case 1:case 2:case 3:var fe=3;break;default:fe=w}var oe=w;w=fe;try{return ie()}finally{w=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,fe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var oe=w;w=ie;try{return fe()}finally{w=oe}},n.unstable_scheduleCallback=function(ie,fe,oe){var j=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?j+oe:j):oe=j,ie){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=oe+X,ie={id:m++,callback:fe,priorityLevel:ie,startTime:oe,expirationTime:X,sortIndex:-1},oe>j?(ie.sortIndex=oe,e(f,ie),t(h)===null&&ie===t(f)&&(b?(D(P),P=-1):b=!0,Ie(G,oe-j))):(ie.sortIndex=X,e(h,ie),A||T||(A=!0,Mt(Q))),ie},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(ie){var fe=w;return function(){var oe=w;w=fe;try{return ie.apply(this,arguments)}finally{w=oe}}}}(Cm)),Cm}var FE;function Ub(){return FE||(FE=1,Pm.exports=Mb()),Pm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE;function Fb(){if(jE)return yn;jE=1;var n=Cy(),e=Ub();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function w(s){return h.call(y,s)?!0:h.call(m,s)?!1:f.test(s)?y[s]=!0:(m[s]=!0,!1)}function T(s,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function A(s,a,c,p){if(a===null||typeof a>"u"||T(s,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function b(s,a,c,p,g,v,S){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=v,this.removeEmptyString=S}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){C[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];C[a]=new b(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){C[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){C[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){C[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){C[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){C[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){C[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){C[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function H(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(D,H);C[a]=new b(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(D,H);C[a]=new b(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(D,H);C[a]=new b(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){C[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),C.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){C[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function F(s,a,c,p){var g=C.hasOwnProperty(a)?C[a]:null;(g!==null?g.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(A(a,c,g,p)&&(c=null),p||g===null?w(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,p=g.attributeNamespace,c===null?s.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,p?s.setAttributeNS(p,a,c):s.setAttribute(a,c))))}var G=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),ne=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),U=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),Vt=Symbol.for("react.memo"),Mt=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),ie=Symbol.iterator;function fe(s){return s===null||typeof s!="object"?null:(s=ie&&s[ie]||s["@@iterator"],typeof s=="function"?s:null)}var oe=Object.assign,j;function X(s){if(j===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);j=a&&a[1]||""}return`
`+j+s}var me=!1;function Ce(s,a){if(!s||me)return"";me=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(W){var p=W}Reflect.construct(s,[],a)}else{try{a.call()}catch(W){p=W}s.call(a.prototype)}else{try{throw Error()}catch(W){p=W}s()}}catch(W){if(W&&p&&typeof W.stack=="string"){for(var g=W.stack.split(`
`),v=p.stack.split(`
`),S=g.length-1,k=v.length-1;1<=S&&0<=k&&g[S]!==v[k];)k--;for(;1<=S&&0<=k;S--,k--)if(g[S]!==v[k]){if(S!==1||k!==1)do if(S--,k--,0>k||g[S]!==v[k]){var L=`
`+g[S].replace(" at new "," at ");return s.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",s.displayName)),L}while(1<=S&&0<=k);break}}}finally{me=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?X(s):""}function ke(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=Ce(s.type,!1),s;case 11:return s=Ce(s.type.render,!1),s;case 1:return s=Ce(s.type,!0),s;default:return""}}function Le(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case O:return"Fragment";case ne:return"Portal";case R:return"Profiler";case P:return"StrictMode";case x:return"Suspense";case Ze:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case U:return(s.displayName||"Context")+".Consumer";case N:return(s._context.displayName||"Context")+".Provider";case $:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Vt:return a=s.displayName||null,a!==null?a:Le(s.type)||"Memo";case Mt:a=s._payload,s=s._init;try{return Le(s(a))}catch{}}return null}function je(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(a);case 8:return a===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function $e(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function qe(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Rt(s){var a=qe(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,v=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(S){p=""+S,v.call(this,S)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(S){p=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Kr(s){s._valueTracker||(s._valueTracker=Rt(s))}function Vo(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return s&&(p=qe(s)?s.checked?"true":"false":s.value),s=p,s!==c?(a.setValue(s),!0):!1}function Ai(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ks(s,a){var c=a.checked;return oe({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Mo(s,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=$e(a.value!=null?a.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function kl(s,a){a=a.checked,a!=null&&F(s,"checked",a,!1)}function bl(s,a){kl(s,a);var c=$e(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Uo(s,a.type,c):a.hasOwnProperty("defaultValue")&&Uo(s,a.type,$e(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Uc(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Uo(s,a,c){(a!=="number"||Ai(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Gr=Array.isArray;function Qr(s,a,c,p){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&p&&(s[c].defaultSelected=!0)}else{for(c=""+$e(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,p&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function xl(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Fo(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(Gr(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:$e(c)}}function jo(s,a){var c=$e(a.value),p=$e(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function Ol(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function wt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Et(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?wt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Jr,Dl=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,g){MSApp.execUnsafeLocalFunction(function(){return s(a,c,p,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Jr=Jr||document.createElement("div"),Jr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Jr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Pi(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xs=["Webkit","ms","Moz","O"];Object.keys(bs).forEach(function(s){xs.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),bs[a]=bs[s]})});function Nl(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||bs.hasOwnProperty(s)&&bs[s]?(""+a).trim():a+"px"}function Ll(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,g=Nl(c,a[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,g):s[c]=g}}var Vl=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ml(s,a){if(a){if(Vl[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Ul(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Os=null;function $o(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Bo=null,Nn=null,Sr=null;function zo(s){if(s=lu(s)){if(typeof Bo!="function")throw Error(t(280));var a=s.stateNode;a&&(a=ph(a),Bo(s.stateNode,s.type,a))}}function Ir(s){Nn?Sr?Sr.push(s):Sr=[s]:Nn=s}function Fl(){if(Nn){var s=Nn,a=Sr;if(Sr=Nn=null,zo(s),a)for(s=0;s<a.length;s++)zo(a[s])}}function Ds(s,a){return s(a)}function jl(){}var Xr=!1;function $l(s,a,c){if(Xr)return s(a,c);Xr=!0;try{return Ds(s,a,c)}finally{Xr=!1,(Nn!==null||Sr!==null)&&(jl(),Fl())}}function ft(s,a){var c=s.stateNode;if(c===null)return null;var p=ph(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var Ho=!1;if(u)try{var tr={};Object.defineProperty(tr,"passive",{get:function(){Ho=!0}}),window.addEventListener("test",tr,tr),window.removeEventListener("test",tr,tr)}catch{Ho=!1}function Ns(s,a,c,p,g,v,S,k,L){var W=Array.prototype.slice.call(arguments,3);try{a.apply(c,W)}catch(Z){this.onError(Z)}}var Ls=!1,qo=null,nr=!1,Bl=null,Xf={onError:function(s){Ls=!0,qo=s}};function Wo(s,a,c,p,g,v,S,k,L){Ls=!1,qo=null,Ns.apply(Xf,arguments)}function Fc(s,a,c,p,g,v,S,k,L){if(Wo.apply(this,arguments),Ls){if(Ls){var W=qo;Ls=!1,qo=null}else throw Error(t(198));nr||(nr=!0,Bl=W)}}function rr(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Vs(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function ir(s){if(rr(s)!==s)throw Error(t(188))}function jc(s){var a=s.alternate;if(!a){if(a=rr(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,p=a;;){var g=c.return;if(g===null)break;var v=g.alternate;if(v===null){if(p=g.return,p!==null){c=p;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===c)return ir(g),s;if(v===p)return ir(g),a;v=v.sibling}throw Error(t(188))}if(c.return!==p.return)c=g,p=v;else{for(var S=!1,k=g.child;k;){if(k===c){S=!0,c=g,p=v;break}if(k===p){S=!0,p=g,c=v;break}k=k.sibling}if(!S){for(k=v.child;k;){if(k===c){S=!0,c=v,p=g;break}if(k===p){S=!0,p=v,c=g;break}k=k.sibling}if(!S)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function zl(s){return s=jc(s),s!==null?Ko(s):null}function Ko(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Ko(s);if(a!==null)return a;s=s.sibling}return null}var Go=e.unstable_scheduleCallback,Hl=e.unstable_cancelCallback,$c=e.unstable_shouldYield,Yf=e.unstable_requestPaint,We=e.unstable_now,Bc=e.unstable_getCurrentPriorityLevel,Ms=e.unstable_ImmediatePriority,Ci=e.unstable_UserBlockingPriority,Ln=e.unstable_NormalPriority,ql=e.unstable_LowPriority,zc=e.unstable_IdlePriority,Us=null,In=null;function Hc(s){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Us,s,void 0,(s.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:Wc,Wl=Math.log,qc=Math.LN2;function Wc(s){return s>>>=0,s===0?32:31-(Wl(s)/qc|0)|0}var Qo=64,Jo=4194304;function Ri(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Fs(s,a){var c=s.pendingLanes;if(c===0)return 0;var p=0,g=s.suspendedLanes,v=s.pingedLanes,S=c&268435455;if(S!==0){var k=S&~g;k!==0?p=Ri(k):(v&=S,v!==0&&(p=Ri(v)))}else S=c&~g,S!==0?p=Ri(S):v!==0&&(p=Ri(v));if(p===0)return 0;if(a!==0&&a!==p&&!(a&g)&&(g=p&-p,v=a&-a,g>=v||g===16&&(v&4194240)!==0))return a;if(p&4&&(p|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)c=31-rn(a),g=1<<c,p|=s[c],a&=~g;return p}function Zf(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yr(s,a){for(var c=s.suspendedLanes,p=s.pingedLanes,g=s.expirationTimes,v=s.pendingLanes;0<v;){var S=31-rn(v),k=1<<S,L=g[S];L===-1?(!(k&c)||k&p)&&(g[S]=Zf(k,a)):L<=a&&(s.expiredLanes|=k),v&=~k}}function An(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function js(){var s=Qo;return Qo<<=1,!(Qo&4194240)&&(Qo=64),s}function ki(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function bi(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-rn(a),s[a]=c}function He(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-rn(c),v=1<<g;a[g]=0,p[g]=-1,s[g]=-1,c&=~v}}function xi(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var p=31-rn(c),g=1<<p;g&a|s[p]&a&&(s[p]|=a),c&=~g}}var Ne=0;function Oi(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Kc,Xo,Gc,Qc,Jc,Kl=!1,Ar=[],Ut=null,sr=null,or=null,Di=new Map,Vn=new Map,Pr=[],ep="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xc(s,a){switch(s){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":Di.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vn.delete(a.pointerId)}}function cn(s,a,c,p,g,v){return s===null||s.nativeEvent!==v?(s={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:v,targetContainers:[g]},a!==null&&(a=lu(a),a!==null&&Xo(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function tp(s,a,c,p,g){switch(a){case"focusin":return Ut=cn(Ut,s,a,c,p,g),!0;case"dragenter":return sr=cn(sr,s,a,c,p,g),!0;case"mouseover":return or=cn(or,s,a,c,p,g),!0;case"pointerover":var v=g.pointerId;return Di.set(v,cn(Di.get(v)||null,s,a,c,p,g)),!0;case"gotpointercapture":return v=g.pointerId,Vn.set(v,cn(Vn.get(v)||null,s,a,c,p,g)),!0}return!1}function Yc(s){var a=qs(s.target);if(a!==null){var c=rr(a);if(c!==null){if(a=c.tag,a===13){if(a=Vs(c),a!==null){s.blockedOn=a,Jc(s.priority,function(){Gc(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Zr(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Yo(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);Os=p,c.target.dispatchEvent(p),Os=null}else return a=lu(c),a!==null&&Xo(a),s.blockedOn=c,!1;a.shift()}return!0}function $s(s,a,c){Zr(s)&&c.delete(a)}function Zc(){Kl=!1,Ut!==null&&Zr(Ut)&&(Ut=null),sr!==null&&Zr(sr)&&(sr=null),or!==null&&Zr(or)&&(or=null),Di.forEach($s),Vn.forEach($s)}function ar(s,a){s.blockedOn===a&&(s.blockedOn=null,Kl||(Kl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Zc)))}function lr(s){function a(g){return ar(g,s)}if(0<Ar.length){ar(Ar[0],s);for(var c=1;c<Ar.length;c++){var p=Ar[c];p.blockedOn===s&&(p.blockedOn=null)}}for(Ut!==null&&ar(Ut,s),sr!==null&&ar(sr,s),or!==null&&ar(or,s),Di.forEach(a),Vn.forEach(a),c=0;c<Pr.length;c++)p=Pr[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<Pr.length&&(c=Pr[0],c.blockedOn===null);)Yc(c),c.blockedOn===null&&Pr.shift()}var ei=G.ReactCurrentBatchConfig,Ni=!0;function et(s,a,c,p){var g=Ne,v=ei.transition;ei.transition=null;try{Ne=1,Gl(s,a,c,p)}finally{Ne=g,ei.transition=v}}function np(s,a,c,p){var g=Ne,v=ei.transition;ei.transition=null;try{Ne=4,Gl(s,a,c,p)}finally{Ne=g,ei.transition=v}}function Gl(s,a,c,p){if(Ni){var g=Yo(s,a,c,p);if(g===null)fp(s,a,p,Bs,c),Xc(s,p);else if(tp(g,s,a,c,p))p.stopPropagation();else if(Xc(s,p),a&4&&-1<ep.indexOf(s)){for(;g!==null;){var v=lu(g);if(v!==null&&Kc(v),v=Yo(s,a,c,p),v===null&&fp(s,a,p,Bs,c),v===g)break;g=v}g!==null&&p.stopPropagation()}else fp(s,a,p,null,c)}}var Bs=null;function Yo(s,a,c,p){if(Bs=null,s=$o(p),s=qs(s),s!==null)if(a=rr(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Vs(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Bs=s,null}function Ql(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bc()){case Ms:return 1;case Ci:return 4;case Ln:case ql:return 16;case zc:return 536870912;default:return 16}default:return 16}}var Pn=null,Zo=null,hn=null;function Jl(){if(hn)return hn;var s,a=Zo,c=a.length,p,g="value"in Pn?Pn.value:Pn.textContent,v=g.length;for(s=0;s<c&&a[s]===g[s];s++);var S=c-s;for(p=1;p<=S&&a[c-p]===g[v-p];p++);return hn=g.slice(s,1<p?1-p:void 0)}function ea(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Cr(){return!0}function Xl(){return!1}function Ft(s){function a(c,p,g,v,S){this._reactName=c,this._targetInst=g,this.type=p,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(c=s[k],this[k]=c?c(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Cr:Xl,this.isPropagationStopped=Xl,this}return oe(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),a}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ta=Ft(ur),Rr=oe({},ur,{view:0,detail:0}),rp=Ft(Rr),na,ti,Li,zs=oe({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Li&&(Li&&s.type==="mousemove"?(na=s.screenX-Li.screenX,ti=s.screenY-Li.screenY):ti=na=0,Li=s),na)},movementY:function(s){return"movementY"in s?s.movementY:ti}}),ra=Ft(zs),Yl=oe({},zs,{dataTransfer:0}),eh=Ft(Yl),ia=oe({},Rr,{relatedTarget:0}),sa=Ft(ia),th=oe({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),ni=Ft(th),nh=oe({},ur,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),rh=Ft(nh),ih=oe({},ur,{data:0}),Zl=Ft(ih),oa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=sh[s])?!!a[s]:!1}function kr(){return oh}var d=oe({},Rr,{key:function(s){if(s.key){var a=oa[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ea(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?sn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(s){return s.type==="keypress"?ea(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ea(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_=Ft(d),E=oe({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Ft(E),B=oe({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),K=Ft(B),se=oe({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=Ft(se),Tt=oe({},zs,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=Ft(Tt),kt=[9,13,27,32],yt=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Cn=u&&"TextEvent"in window&&!Mn,Hs=u&&(!yt||Mn&&8<Mn&&11>=Mn),aa=" ",Rv=!1;function kv(s,a){switch(s){case"keyup":return kt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var la=!1;function R1(s,a){switch(s){case"compositionend":return bv(a);case"keypress":return a.which!==32?null:(Rv=!0,aa);case"textInput":return s=a.data,s===aa&&Rv?null:s;default:return null}}function k1(s,a){if(la)return s==="compositionend"||!yt&&kv(s,a)?(s=Jl(),hn=Zo=Pn=null,la=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Hs&&a.locale!=="ko"?null:a.data;default:return null}}var b1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xv(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!b1[s.type]:a==="textarea"}function Ov(s,a,c,p){Ir(p),a=hh(a,"onChange"),0<a.length&&(c=new ta("onChange","change",null,c,p),s.push({event:c,listeners:a}))}var eu=null,tu=null;function x1(s){Jv(s,0)}function ah(s){var a=fa(s);if(Vo(a))return s}function O1(s,a){if(s==="change")return a}var Dv=!1;if(u){var ip;if(u){var sp="oninput"in document;if(!sp){var Nv=document.createElement("div");Nv.setAttribute("oninput","return;"),sp=typeof Nv.oninput=="function"}ip=sp}else ip=!1;Dv=ip&&(!document.documentMode||9<document.documentMode)}function Lv(){eu&&(eu.detachEvent("onpropertychange",Vv),tu=eu=null)}function Vv(s){if(s.propertyName==="value"&&ah(tu)){var a=[];Ov(a,tu,s,$o(s)),$l(x1,a)}}function D1(s,a,c){s==="focusin"?(Lv(),eu=a,tu=c,eu.attachEvent("onpropertychange",Vv)):s==="focusout"&&Lv()}function N1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ah(tu)}function L1(s,a){if(s==="click")return ah(a)}function V1(s,a){if(s==="input"||s==="change")return ah(a)}function M1(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var cr=typeof Object.is=="function"?Object.is:M1;function nu(s,a){if(cr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var g=c[p];if(!h.call(a,g)||!cr(s[g],a[g]))return!1}return!0}function Mv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Uv(s,a){var c=Mv(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=a&&p>=a)return{node:c,offset:a-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Mv(c)}}function Fv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Fv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function jv(){for(var s=window,a=Ai();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=Ai(s.document)}return a}function op(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function U1(s){var a=jv(),c=s.focusedElem,p=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&Fv(c.ownerDocument.documentElement,c)){if(p!==null&&op(c)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,v=Math.min(p.start,g);p=p.end===void 0?v:Math.min(p.end,g),!s.extend&&v>p&&(g=p,p=v,v=g),g=Uv(c,v);var S=Uv(c,p);g&&S&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),v>p?(s.addRange(a),s.extend(S.node,S.offset)):(a.setEnd(S.node,S.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var F1=u&&"documentMode"in document&&11>=document.documentMode,ua=null,ap=null,ru=null,lp=!1;function $v(s,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;lp||ua==null||ua!==Ai(p)||(p=ua,"selectionStart"in p&&op(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ru&&nu(ru,p)||(ru=p,p=hh(ap,"onSelect"),0<p.length&&(a=new ta("onSelect","select",null,a,c),s.push({event:a,listeners:p}),a.target=ua)))}function lh(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var ca={animationend:lh("Animation","AnimationEnd"),animationiteration:lh("Animation","AnimationIteration"),animationstart:lh("Animation","AnimationStart"),transitionend:lh("Transition","TransitionEnd")},up={},Bv={};u&&(Bv=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function uh(s){if(up[s])return up[s];if(!ca[s])return s;var a=ca[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in Bv)return up[s]=a[c];return s}var zv=uh("animationend"),Hv=uh("animationiteration"),qv=uh("animationstart"),Wv=uh("transitionend"),Kv=new Map,Gv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vi(s,a){Kv.set(s,a),o(a,[s])}for(var cp=0;cp<Gv.length;cp++){var hp=Gv[cp],j1=hp.toLowerCase(),$1=hp[0].toUpperCase()+hp.slice(1);Vi(j1,"on"+$1)}Vi(zv,"onAnimationEnd"),Vi(Hv,"onAnimationIteration"),Vi(qv,"onAnimationStart"),Vi("dblclick","onDoubleClick"),Vi("focusin","onFocus"),Vi("focusout","onBlur"),Vi(Wv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B1=new Set("cancel close invalid load scroll toggle".split(" ").concat(iu));function Qv(s,a,c){var p=s.type||"unknown-event";s.currentTarget=c,Fc(p,a,void 0,s),s.currentTarget=null}function Jv(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],g=p.event;p=p.listeners;e:{var v=void 0;if(a)for(var S=p.length-1;0<=S;S--){var k=p[S],L=k.instance,W=k.currentTarget;if(k=k.listener,L!==v&&g.isPropagationStopped())break e;Qv(g,k,W),v=L}else for(S=0;S<p.length;S++){if(k=p[S],L=k.instance,W=k.currentTarget,k=k.listener,L!==v&&g.isPropagationStopped())break e;Qv(g,k,W),v=L}}}if(nr)throw s=Bl,nr=!1,Bl=null,s}function Xe(s,a){var c=a[vp];c===void 0&&(c=a[vp]=new Set);var p=s+"__bubble";c.has(p)||(Xv(a,s,2,!1),c.add(p))}function dp(s,a,c){var p=0;a&&(p|=4),Xv(c,s,p,a)}var ch="_reactListening"+Math.random().toString(36).slice(2);function su(s){if(!s[ch]){s[ch]=!0,r.forEach(function(c){c!=="selectionchange"&&(B1.has(c)||dp(c,!1,s),dp(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[ch]||(a[ch]=!0,dp("selectionchange",!1,a))}}function Xv(s,a,c,p){switch(Ql(a)){case 1:var g=et;break;case 4:g=np;break;default:g=Gl}c=g.bind(null,a,c,s),g=void 0,!Ho||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),p?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function fp(s,a,c,p,g){var v=p;if(!(a&1)&&!(a&2)&&p!==null)e:for(;;){if(p===null)return;var S=p.tag;if(S===3||S===4){var k=p.stateNode.containerInfo;if(k===g||k.nodeType===8&&k.parentNode===g)break;if(S===4)for(S=p.return;S!==null;){var L=S.tag;if((L===3||L===4)&&(L=S.stateNode.containerInfo,L===g||L.nodeType===8&&L.parentNode===g))return;S=S.return}for(;k!==null;){if(S=qs(k),S===null)return;if(L=S.tag,L===5||L===6){p=v=S;continue e}k=k.parentNode}}p=p.return}$l(function(){var W=v,Z=$o(c),te=[];e:{var Y=Kv.get(s);if(Y!==void 0){var ae=ta,ce=s;switch(s){case"keypress":if(ea(c)===0)break e;case"keydown":case"keyup":ae=_;break;case"focusin":ce="focus",ae=sa;break;case"focusout":ce="blur",ae=sa;break;case"beforeblur":case"afterblur":ae=sa;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=ra;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=eh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=K;break;case zv:case Hv:case qv:ae=ni;break;case Wv:ae=ze;break;case"scroll":ae=rp;break;case"wheel":ae=Ve;break;case"copy":case"cut":case"paste":ae=rh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=I}var he=(a&4)!==0,pt=!he&&s==="scroll",z=he?Y!==null?Y+"Capture":null:Y;he=[];for(var M=W,q;M!==null;){q=M;var re=q.stateNode;if(q.tag===5&&re!==null&&(q=re,z!==null&&(re=ft(M,z),re!=null&&he.push(ou(M,re,q)))),pt)break;M=M.return}0<he.length&&(Y=new ae(Y,ce,null,c,Z),te.push({event:Y,listeners:he}))}}if(!(a&7)){e:{if(Y=s==="mouseover"||s==="pointerover",ae=s==="mouseout"||s==="pointerout",Y&&c!==Os&&(ce=c.relatedTarget||c.fromElement)&&(qs(ce)||ce[ri]))break e;if((ae||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,ae?(ce=c.relatedTarget||c.toElement,ae=W,ce=ce?qs(ce):null,ce!==null&&(pt=rr(ce),ce!==pt||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(ae=null,ce=W),ae!==ce)){if(he=ra,re="onMouseLeave",z="onMouseEnter",M="mouse",(s==="pointerout"||s==="pointerover")&&(he=I,re="onPointerLeave",z="onPointerEnter",M="pointer"),pt=ae==null?Y:fa(ae),q=ce==null?Y:fa(ce),Y=new he(re,M+"leave",ae,c,Z),Y.target=pt,Y.relatedTarget=q,re=null,qs(Z)===W&&(he=new he(z,M+"enter",ce,c,Z),he.target=q,he.relatedTarget=pt,re=he),pt=re,ae&&ce)t:{for(he=ae,z=ce,M=0,q=he;q;q=ha(q))M++;for(q=0,re=z;re;re=ha(re))q++;for(;0<M-q;)he=ha(he),M--;for(;0<q-M;)z=ha(z),q--;for(;M--;){if(he===z||z!==null&&he===z.alternate)break t;he=ha(he),z=ha(z)}he=null}else he=null;ae!==null&&Yv(te,Y,ae,he,!1),ce!==null&&pt!==null&&Yv(te,pt,ce,he,!0)}}e:{if(Y=W?fa(W):window,ae=Y.nodeName&&Y.nodeName.toLowerCase(),ae==="select"||ae==="input"&&Y.type==="file")var de=O1;else if(xv(Y))if(Dv)de=V1;else{de=N1;var ge=D1}else(ae=Y.nodeName)&&ae.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(de=L1);if(de&&(de=de(s,W))){Ov(te,de,c,Z);break e}ge&&ge(s,Y,W),s==="focusout"&&(ge=Y._wrapperState)&&ge.controlled&&Y.type==="number"&&Uo(Y,"number",Y.value)}switch(ge=W?fa(W):window,s){case"focusin":(xv(ge)||ge.contentEditable==="true")&&(ua=ge,ap=W,ru=null);break;case"focusout":ru=ap=ua=null;break;case"mousedown":lp=!0;break;case"contextmenu":case"mouseup":case"dragend":lp=!1,$v(te,c,Z);break;case"selectionchange":if(F1)break;case"keydown":case"keyup":$v(te,c,Z)}var ye;if(yt)e:{switch(s){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else la?kv(s,c)&&(Te="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Te="onCompositionStart");Te&&(Hs&&c.locale!=="ko"&&(la||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&la&&(ye=Jl()):(Pn=Z,Zo="value"in Pn?Pn.value:Pn.textContent,la=!0)),ge=hh(W,Te),0<ge.length&&(Te=new Zl(Te,s,null,c,Z),te.push({event:Te,listeners:ge}),ye?Te.data=ye:(ye=bv(c),ye!==null&&(Te.data=ye)))),(ye=Cn?R1(s,c):k1(s,c))&&(W=hh(W,"onBeforeInput"),0<W.length&&(Z=new Zl("onBeforeInput","beforeinput",null,c,Z),te.push({event:Z,listeners:W}),Z.data=ye))}Jv(te,a)})}function ou(s,a,c){return{instance:s,listener:a,currentTarget:c}}function hh(s,a){for(var c=a+"Capture",p=[];s!==null;){var g=s,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=ft(s,c),v!=null&&p.unshift(ou(s,v,g)),v=ft(s,a),v!=null&&p.push(ou(s,v,g))),s=s.return}return p}function ha(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Yv(s,a,c,p,g){for(var v=a._reactName,S=[];c!==null&&c!==p;){var k=c,L=k.alternate,W=k.stateNode;if(L!==null&&L===p)break;k.tag===5&&W!==null&&(k=W,g?(L=ft(c,v),L!=null&&S.unshift(ou(c,L,k))):g||(L=ft(c,v),L!=null&&S.push(ou(c,L,k)))),c=c.return}S.length!==0&&s.push({event:a,listeners:S})}var z1=/\r\n?/g,H1=/\u0000|\uFFFD/g;function Zv(s){return(typeof s=="string"?s:""+s).replace(z1,`
`).replace(H1,"")}function dh(s,a,c){if(a=Zv(a),Zv(s)!==a&&c)throw Error(t(425))}function fh(){}var pp=null,mp=null;function gp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var yp=typeof setTimeout=="function"?setTimeout:void 0,q1=typeof clearTimeout=="function"?clearTimeout:void 0,ew=typeof Promise=="function"?Promise:void 0,W1=typeof queueMicrotask=="function"?queueMicrotask:typeof ew<"u"?function(s){return ew.resolve(null).then(s).catch(K1)}:yp;function K1(s){setTimeout(function(){throw s})}function _p(s,a){var c=a,p=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(p===0){s.removeChild(g),lr(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=g}while(c);lr(a)}function Mi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function tw(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var da=Math.random().toString(36).slice(2),br="__reactFiber$"+da,au="__reactProps$"+da,ri="__reactContainer$"+da,vp="__reactEvents$"+da,G1="__reactListeners$"+da,Q1="__reactHandles$"+da;function qs(s){var a=s[br];if(a)return a;for(var c=s.parentNode;c;){if(a=c[ri]||c[br]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=tw(s);s!==null;){if(c=s[br])return c;s=tw(s)}return a}s=c,c=s.parentNode}return null}function lu(s){return s=s[br]||s[ri],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function fa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function ph(s){return s[au]||null}var wp=[],pa=-1;function Ui(s){return{current:s}}function Ye(s){0>pa||(s.current=wp[pa],wp[pa]=null,pa--)}function Ke(s,a){pa++,wp[pa]=s.current,s.current=a}var Fi={},Kt=Ui(Fi),dn=Ui(!1),Ws=Fi;function ma(s,a){var c=s.type.contextTypes;if(!c)return Fi;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in c)g[v]=a[v];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function fn(s){return s=s.childContextTypes,s!=null}function mh(){Ye(dn),Ye(Kt)}function nw(s,a,c){if(Kt.current!==Fi)throw Error(t(168));Ke(Kt,a),Ke(dn,c)}function rw(s,a,c){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var g in p)if(!(g in a))throw Error(t(108,je(s)||"Unknown",g));return oe({},c,p)}function gh(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Fi,Ws=Kt.current,Ke(Kt,s),Ke(dn,dn.current),!0}function iw(s,a,c){var p=s.stateNode;if(!p)throw Error(t(169));c?(s=rw(s,a,Ws),p.__reactInternalMemoizedMergedChildContext=s,Ye(dn),Ye(Kt),Ke(Kt,s)):Ye(dn),Ke(dn,c)}var ii=null,yh=!1,Ep=!1;function sw(s){ii===null?ii=[s]:ii.push(s)}function J1(s){yh=!0,sw(s)}function ji(){if(!Ep&&ii!==null){Ep=!0;var s=0,a=Ne;try{var c=ii;for(Ne=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}ii=null,yh=!1}catch(g){throw ii!==null&&(ii=ii.slice(s+1)),Go(Ms,ji),g}finally{Ne=a,Ep=!1}}return null}var ga=[],ya=0,_h=null,vh=0,Un=[],Fn=0,Ks=null,si=1,oi="";function Gs(s,a){ga[ya++]=vh,ga[ya++]=_h,_h=s,vh=a}function ow(s,a,c){Un[Fn++]=si,Un[Fn++]=oi,Un[Fn++]=Ks,Ks=s;var p=si;s=oi;var g=32-rn(p)-1;p&=~(1<<g),c+=1;var v=32-rn(a)+g;if(30<v){var S=g-g%5;v=(p&(1<<S)-1).toString(32),p>>=S,g-=S,si=1<<32-rn(a)+g|c<<g|p,oi=v+s}else si=1<<v|c<<g|p,oi=s}function Tp(s){s.return!==null&&(Gs(s,1),ow(s,1,0))}function Sp(s){for(;s===_h;)_h=ga[--ya],ga[ya]=null,vh=ga[--ya],ga[ya]=null;for(;s===Ks;)Ks=Un[--Fn],Un[Fn]=null,oi=Un[--Fn],Un[Fn]=null,si=Un[--Fn],Un[Fn]=null}var Rn=null,kn=null,tt=!1,hr=null;function aw(s,a){var c=zn(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function lw(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Rn=s,kn=Mi(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Rn=s,kn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Ks!==null?{id:si,overflow:oi}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=zn(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,Rn=s,kn=null,!0):!1;default:return!1}}function Ip(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Ap(s){if(tt){var a=kn;if(a){var c=a;if(!lw(s,a)){if(Ip(s))throw Error(t(418));a=Mi(c.nextSibling);var p=Rn;a&&lw(s,a)?aw(p,c):(s.flags=s.flags&-4097|2,tt=!1,Rn=s)}}else{if(Ip(s))throw Error(t(418));s.flags=s.flags&-4097|2,tt=!1,Rn=s}}}function uw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Rn=s}function wh(s){if(s!==Rn)return!1;if(!tt)return uw(s),tt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!gp(s.type,s.memoizedProps)),a&&(a=kn)){if(Ip(s))throw cw(),Error(t(418));for(;a;)aw(s,a),a=Mi(a.nextSibling)}if(uw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){kn=Mi(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}kn=null}}else kn=Rn?Mi(s.stateNode.nextSibling):null;return!0}function cw(){for(var s=kn;s;)s=Mi(s.nextSibling)}function _a(){kn=Rn=null,tt=!1}function Pp(s){hr===null?hr=[s]:hr.push(s)}var X1=G.ReactCurrentBatchConfig;function uu(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,s));var g=p,v=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===v?a.ref:(a=function(S){var k=g.refs;S===null?delete k[v]:k[v]=S},a._stringRef=v,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Eh(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function hw(s){var a=s._init;return a(s._payload)}function dw(s){function a(z,M){if(s){var q=z.deletions;q===null?(z.deletions=[M],z.flags|=16):q.push(M)}}function c(z,M){if(!s)return null;for(;M!==null;)a(z,M),M=M.sibling;return null}function p(z,M){for(z=new Map;M!==null;)M.key!==null?z.set(M.key,M):z.set(M.index,M),M=M.sibling;return z}function g(z,M){return z=Gi(z,M),z.index=0,z.sibling=null,z}function v(z,M,q){return z.index=q,s?(q=z.alternate,q!==null?(q=q.index,q<M?(z.flags|=2,M):q):(z.flags|=2,M)):(z.flags|=1048576,M)}function S(z){return s&&z.alternate===null&&(z.flags|=2),z}function k(z,M,q,re){return M===null||M.tag!==6?(M=ym(q,z.mode,re),M.return=z,M):(M=g(M,q),M.return=z,M)}function L(z,M,q,re){var de=q.type;return de===O?Z(z,M,q.props.children,re,q.key):M!==null&&(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Mt&&hw(de)===M.type)?(re=g(M,q.props),re.ref=uu(z,M,q),re.return=z,re):(re=qh(q.type,q.key,q.props,null,z.mode,re),re.ref=uu(z,M,q),re.return=z,re)}function W(z,M,q,re){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=_m(q,z.mode,re),M.return=z,M):(M=g(M,q.children||[]),M.return=z,M)}function Z(z,M,q,re,de){return M===null||M.tag!==7?(M=no(q,z.mode,re,de),M.return=z,M):(M=g(M,q),M.return=z,M)}function te(z,M,q){if(typeof M=="string"&&M!==""||typeof M=="number")return M=ym(""+M,z.mode,q),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Q:return q=qh(M.type,M.key,M.props,null,z.mode,q),q.ref=uu(z,null,M),q.return=z,q;case ne:return M=_m(M,z.mode,q),M.return=z,M;case Mt:var re=M._init;return te(z,re(M._payload),q)}if(Gr(M)||fe(M))return M=no(M,z.mode,q,null),M.return=z,M;Eh(z,M)}return null}function Y(z,M,q,re){var de=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return de!==null?null:k(z,M,""+q,re);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Q:return q.key===de?L(z,M,q,re):null;case ne:return q.key===de?W(z,M,q,re):null;case Mt:return de=q._init,Y(z,M,de(q._payload),re)}if(Gr(q)||fe(q))return de!==null?null:Z(z,M,q,re,null);Eh(z,q)}return null}function ae(z,M,q,re,de){if(typeof re=="string"&&re!==""||typeof re=="number")return z=z.get(q)||null,k(M,z,""+re,de);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case Q:return z=z.get(re.key===null?q:re.key)||null,L(M,z,re,de);case ne:return z=z.get(re.key===null?q:re.key)||null,W(M,z,re,de);case Mt:var ge=re._init;return ae(z,M,q,ge(re._payload),de)}if(Gr(re)||fe(re))return z=z.get(q)||null,Z(M,z,re,de,null);Eh(M,re)}return null}function ce(z,M,q,re){for(var de=null,ge=null,ye=M,Te=M=0,Ot=null;ye!==null&&Te<q.length;Te++){ye.index>Te?(Ot=ye,ye=null):Ot=ye.sibling;var Fe=Y(z,ye,q[Te],re);if(Fe===null){ye===null&&(ye=Ot);break}s&&ye&&Fe.alternate===null&&a(z,ye),M=v(Fe,M,Te),ge===null?de=Fe:ge.sibling=Fe,ge=Fe,ye=Ot}if(Te===q.length)return c(z,ye),tt&&Gs(z,Te),de;if(ye===null){for(;Te<q.length;Te++)ye=te(z,q[Te],re),ye!==null&&(M=v(ye,M,Te),ge===null?de=ye:ge.sibling=ye,ge=ye);return tt&&Gs(z,Te),de}for(ye=p(z,ye);Te<q.length;Te++)Ot=ae(ye,z,Te,q[Te],re),Ot!==null&&(s&&Ot.alternate!==null&&ye.delete(Ot.key===null?Te:Ot.key),M=v(Ot,M,Te),ge===null?de=Ot:ge.sibling=Ot,ge=Ot);return s&&ye.forEach(function(Qi){return a(z,Qi)}),tt&&Gs(z,Te),de}function he(z,M,q,re){var de=fe(q);if(typeof de!="function")throw Error(t(150));if(q=de.call(q),q==null)throw Error(t(151));for(var ge=de=null,ye=M,Te=M=0,Ot=null,Fe=q.next();ye!==null&&!Fe.done;Te++,Fe=q.next()){ye.index>Te?(Ot=ye,ye=null):Ot=ye.sibling;var Qi=Y(z,ye,Fe.value,re);if(Qi===null){ye===null&&(ye=Ot);break}s&&ye&&Qi.alternate===null&&a(z,ye),M=v(Qi,M,Te),ge===null?de=Qi:ge.sibling=Qi,ge=Qi,ye=Ot}if(Fe.done)return c(z,ye),tt&&Gs(z,Te),de;if(ye===null){for(;!Fe.done;Te++,Fe=q.next())Fe=te(z,Fe.value,re),Fe!==null&&(M=v(Fe,M,Te),ge===null?de=Fe:ge.sibling=Fe,ge=Fe);return tt&&Gs(z,Te),de}for(ye=p(z,ye);!Fe.done;Te++,Fe=q.next())Fe=ae(ye,z,Te,Fe.value,re),Fe!==null&&(s&&Fe.alternate!==null&&ye.delete(Fe.key===null?Te:Fe.key),M=v(Fe,M,Te),ge===null?de=Fe:ge.sibling=Fe,ge=Fe);return s&&ye.forEach(function(bb){return a(z,bb)}),tt&&Gs(z,Te),de}function pt(z,M,q,re){if(typeof q=="object"&&q!==null&&q.type===O&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case Q:e:{for(var de=q.key,ge=M;ge!==null;){if(ge.key===de){if(de=q.type,de===O){if(ge.tag===7){c(z,ge.sibling),M=g(ge,q.props.children),M.return=z,z=M;break e}}else if(ge.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Mt&&hw(de)===ge.type){c(z,ge.sibling),M=g(ge,q.props),M.ref=uu(z,ge,q),M.return=z,z=M;break e}c(z,ge);break}else a(z,ge);ge=ge.sibling}q.type===O?(M=no(q.props.children,z.mode,re,q.key),M.return=z,z=M):(re=qh(q.type,q.key,q.props,null,z.mode,re),re.ref=uu(z,M,q),re.return=z,z=re)}return S(z);case ne:e:{for(ge=q.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){c(z,M.sibling),M=g(M,q.children||[]),M.return=z,z=M;break e}else{c(z,M);break}else a(z,M);M=M.sibling}M=_m(q,z.mode,re),M.return=z,z=M}return S(z);case Mt:return ge=q._init,pt(z,M,ge(q._payload),re)}if(Gr(q))return ce(z,M,q,re);if(fe(q))return he(z,M,q,re);Eh(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,M!==null&&M.tag===6?(c(z,M.sibling),M=g(M,q),M.return=z,z=M):(c(z,M),M=ym(q,z.mode,re),M.return=z,z=M),S(z)):c(z,M)}return pt}var va=dw(!0),fw=dw(!1),Th=Ui(null),Sh=null,wa=null,Cp=null;function Rp(){Cp=wa=Sh=null}function kp(s){var a=Th.current;Ye(Th),s._currentValue=a}function bp(s,a,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===c)break;s=s.return}}function Ea(s,a){Sh=s,Cp=wa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&(pn=!0),s.firstContext=null)}function jn(s){var a=s._currentValue;if(Cp!==s)if(s={context:s,memoizedValue:a,next:null},wa===null){if(Sh===null)throw Error(t(308));wa=s,Sh.dependencies={lanes:0,firstContext:s}}else wa=wa.next=s;return a}var Qs=null;function xp(s){Qs===null?Qs=[s]:Qs.push(s)}function pw(s,a,c,p){var g=a.interleaved;return g===null?(c.next=c,xp(a)):(c.next=g.next,g.next=c),a.interleaved=c,ai(s,p)}function ai(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var $i=!1;function Op(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mw(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function li(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Bi(s,a,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,Ue&2){var g=p.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),p.pending=a,ai(s,c)}return g=p.interleaved,g===null?(a.next=a,xp(p)):(a.next=g.next,g.next=a),p.interleaved=a,ai(s,c)}function Ih(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,xi(s,c)}}function gw(s,a){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var g=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var S={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};v===null?g=v=S:v=v.next=S,c=c.next}while(c!==null);v===null?g=v=a:v=v.next=a}else g=v=a;c={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function Ah(s,a,c,p){var g=s.updateQueue;$i=!1;var v=g.firstBaseUpdate,S=g.lastBaseUpdate,k=g.shared.pending;if(k!==null){g.shared.pending=null;var L=k,W=L.next;L.next=null,S===null?v=W:S.next=W,S=L;var Z=s.alternate;Z!==null&&(Z=Z.updateQueue,k=Z.lastBaseUpdate,k!==S&&(k===null?Z.firstBaseUpdate=W:k.next=W,Z.lastBaseUpdate=L))}if(v!==null){var te=g.baseState;S=0,Z=W=L=null,k=v;do{var Y=k.lane,ae=k.eventTime;if((p&Y)===Y){Z!==null&&(Z=Z.next={eventTime:ae,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ce=s,he=k;switch(Y=a,ae=c,he.tag){case 1:if(ce=he.payload,typeof ce=="function"){te=ce.call(ae,te,Y);break e}te=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,Y=typeof ce=="function"?ce.call(ae,te,Y):ce,Y==null)break e;te=oe({},te,Y);break e;case 2:$i=!0}}k.callback!==null&&k.lane!==0&&(s.flags|=64,Y=g.effects,Y===null?g.effects=[k]:Y.push(k))}else ae={eventTime:ae,lane:Y,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Z===null?(W=Z=ae,L=te):Z=Z.next=ae,S|=Y;if(k=k.next,k===null){if(k=g.shared.pending,k===null)break;Y=k,k=Y.next,Y.next=null,g.lastBaseUpdate=Y,g.shared.pending=null}}while(!0);if(Z===null&&(L=te),g.baseState=L,g.firstBaseUpdate=W,g.lastBaseUpdate=Z,a=g.shared.interleaved,a!==null){g=a;do S|=g.lane,g=g.next;while(g!==a)}else v===null&&(g.shared.lanes=0);Ys|=S,s.lanes=S,s.memoizedState=te}}function yw(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],g=p.callback;if(g!==null){if(p.callback=null,p=c,typeof g!="function")throw Error(t(191,g));g.call(p)}}}var cu={},xr=Ui(cu),hu=Ui(cu),du=Ui(cu);function Js(s){if(s===cu)throw Error(t(174));return s}function Dp(s,a){switch(Ke(du,a),Ke(hu,s),Ke(xr,cu),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Et(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Et(a,s)}Ye(xr),Ke(xr,a)}function Ta(){Ye(xr),Ye(hu),Ye(du)}function _w(s){Js(du.current);var a=Js(xr.current),c=Et(a,s.type);a!==c&&(Ke(hu,s),Ke(xr,c))}function Np(s){hu.current===s&&(Ye(xr),Ye(hu))}var it=Ui(0);function Ph(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Lp=[];function Vp(){for(var s=0;s<Lp.length;s++)Lp[s]._workInProgressVersionPrimary=null;Lp.length=0}var Ch=G.ReactCurrentDispatcher,Mp=G.ReactCurrentBatchConfig,Xs=0,st=null,St=null,bt=null,Rh=!1,fu=!1,pu=0,Y1=0;function Gt(){throw Error(t(321))}function Up(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!cr(s[c],a[c]))return!1;return!0}function Fp(s,a,c,p,g,v){if(Xs=v,st=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Ch.current=s===null||s.memoizedState===null?nb:rb,s=c(p,g),fu){v=0;do{if(fu=!1,pu=0,25<=v)throw Error(t(301));v+=1,bt=St=null,a.updateQueue=null,Ch.current=ib,s=c(p,g)}while(fu)}if(Ch.current=xh,a=St!==null&&St.next!==null,Xs=0,bt=St=st=null,Rh=!1,a)throw Error(t(300));return s}function jp(){var s=pu!==0;return pu=0,s}function Or(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?st.memoizedState=bt=s:bt=bt.next=s,bt}function $n(){if(St===null){var s=st.alternate;s=s!==null?s.memoizedState:null}else s=St.next;var a=bt===null?st.memoizedState:bt.next;if(a!==null)bt=a,St=s;else{if(s===null)throw Error(t(310));St=s,s={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},bt===null?st.memoizedState=bt=s:bt=bt.next=s}return bt}function mu(s,a){return typeof a=="function"?a(s):a}function $p(s){var a=$n(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=St,g=p.baseQueue,v=c.pending;if(v!==null){if(g!==null){var S=g.next;g.next=v.next,v.next=S}p.baseQueue=g=v,c.pending=null}if(g!==null){v=g.next,p=p.baseState;var k=S=null,L=null,W=v;do{var Z=W.lane;if((Xs&Z)===Z)L!==null&&(L=L.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),p=W.hasEagerState?W.eagerState:s(p,W.action);else{var te={lane:Z,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};L===null?(k=L=te,S=p):L=L.next=te,st.lanes|=Z,Ys|=Z}W=W.next}while(W!==null&&W!==v);L===null?S=p:L.next=k,cr(p,a.memoizedState)||(pn=!0),a.memoizedState=p,a.baseState=S,a.baseQueue=L,c.lastRenderedState=p}if(s=c.interleaved,s!==null){g=s;do v=g.lane,st.lanes|=v,Ys|=v,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Bp(s){var a=$n(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=c.dispatch,g=c.pending,v=a.memoizedState;if(g!==null){c.pending=null;var S=g=g.next;do v=s(v,S.action),S=S.next;while(S!==g);cr(v,a.memoizedState)||(pn=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),c.lastRenderedState=v}return[v,p]}function vw(){}function ww(s,a){var c=st,p=$n(),g=a(),v=!cr(p.memoizedState,g);if(v&&(p.memoizedState=g,pn=!0),p=p.queue,zp(Sw.bind(null,c,p,s),[s]),p.getSnapshot!==a||v||bt!==null&&bt.memoizedState.tag&1){if(c.flags|=2048,gu(9,Tw.bind(null,c,p,g,a),void 0,null),xt===null)throw Error(t(349));Xs&30||Ew(c,a,g)}return g}function Ew(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=st.updateQueue,a===null?(a={lastEffect:null,stores:null},st.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function Tw(s,a,c,p){a.value=c,a.getSnapshot=p,Iw(a)&&Aw(s)}function Sw(s,a,c){return c(function(){Iw(a)&&Aw(s)})}function Iw(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!cr(s,c)}catch{return!0}}function Aw(s){var a=ai(s,1);a!==null&&mr(a,s,1,-1)}function Pw(s){var a=Or();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mu,lastRenderedState:s},a.queue=s,s=s.dispatch=tb.bind(null,st,s),[a.memoizedState,s]}function gu(s,a,c,p){return s={tag:s,create:a,destroy:c,deps:p,next:null},a=st.updateQueue,a===null?(a={lastEffect:null,stores:null},st.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,a.lastEffect=s)),s}function Cw(){return $n().memoizedState}function kh(s,a,c,p){var g=Or();st.flags|=s,g.memoizedState=gu(1|a,c,void 0,p===void 0?null:p)}function bh(s,a,c,p){var g=$n();p=p===void 0?null:p;var v=void 0;if(St!==null){var S=St.memoizedState;if(v=S.destroy,p!==null&&Up(p,S.deps)){g.memoizedState=gu(a,c,v,p);return}}st.flags|=s,g.memoizedState=gu(1|a,c,v,p)}function Rw(s,a){return kh(8390656,8,s,a)}function zp(s,a){return bh(2048,8,s,a)}function kw(s,a){return bh(4,2,s,a)}function bw(s,a){return bh(4,4,s,a)}function xw(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Ow(s,a,c){return c=c!=null?c.concat([s]):null,bh(4,4,xw.bind(null,a,s),c)}function Hp(){}function Dw(s,a){var c=$n();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Up(a,p[1])?p[0]:(c.memoizedState=[s,a],s)}function Nw(s,a){var c=$n();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Up(a,p[1])?p[0]:(s=s(),c.memoizedState=[s,a],s)}function Lw(s,a,c){return Xs&21?(cr(c,a)||(c=js(),st.lanes|=c,Ys|=c,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,pn=!0),s.memoizedState=c)}function Z1(s,a){var c=Ne;Ne=c!==0&&4>c?c:4,s(!0);var p=Mp.transition;Mp.transition={};try{s(!1),a()}finally{Ne=c,Mp.transition=p}}function Vw(){return $n().memoizedState}function eb(s,a,c){var p=Wi(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},Mw(s))Uw(a,c);else if(c=pw(s,a,c,p),c!==null){var g=an();mr(c,s,p,g),Fw(c,a,p)}}function tb(s,a,c){var p=Wi(s),g={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(Mw(s))Uw(a,g);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var S=a.lastRenderedState,k=v(S,c);if(g.hasEagerState=!0,g.eagerState=k,cr(k,S)){var L=a.interleaved;L===null?(g.next=g,xp(a)):(g.next=L.next,L.next=g),a.interleaved=g;return}}catch{}finally{}c=pw(s,a,g,p),c!==null&&(g=an(),mr(c,s,p,g),Fw(c,a,p))}}function Mw(s){var a=s.alternate;return s===st||a!==null&&a===st}function Uw(s,a){fu=Rh=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function Fw(s,a,c){if(c&4194240){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,xi(s,c)}}var xh={readContext:jn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},nb={readContext:jn,useCallback:function(s,a){return Or().memoizedState=[s,a===void 0?null:a],s},useContext:jn,useEffect:Rw,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,kh(4194308,4,xw.bind(null,a,s),c)},useLayoutEffect:function(s,a){return kh(4194308,4,s,a)},useInsertionEffect:function(s,a){return kh(4,2,s,a)},useMemo:function(s,a){var c=Or();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var p=Or();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=eb.bind(null,st,s),[p.memoizedState,s]},useRef:function(s){var a=Or();return s={current:s},a.memoizedState=s},useState:Pw,useDebugValue:Hp,useDeferredValue:function(s){return Or().memoizedState=s},useTransition:function(){var s=Pw(!1),a=s[0];return s=Z1.bind(null,s[1]),Or().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var p=st,g=Or();if(tt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),xt===null)throw Error(t(349));Xs&30||Ew(p,a,c)}g.memoizedState=c;var v={value:c,getSnapshot:a};return g.queue=v,Rw(Sw.bind(null,p,v,s),[s]),p.flags|=2048,gu(9,Tw.bind(null,p,v,c,a),void 0,null),c},useId:function(){var s=Or(),a=xt.identifierPrefix;if(tt){var c=oi,p=si;c=(p&~(1<<32-rn(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=pu++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=Y1++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},rb={readContext:jn,useCallback:Dw,useContext:jn,useEffect:zp,useImperativeHandle:Ow,useInsertionEffect:kw,useLayoutEffect:bw,useMemo:Nw,useReducer:$p,useRef:Cw,useState:function(){return $p(mu)},useDebugValue:Hp,useDeferredValue:function(s){var a=$n();return Lw(a,St.memoizedState,s)},useTransition:function(){var s=$p(mu)[0],a=$n().memoizedState;return[s,a]},useMutableSource:vw,useSyncExternalStore:ww,useId:Vw,unstable_isNewReconciler:!1},ib={readContext:jn,useCallback:Dw,useContext:jn,useEffect:zp,useImperativeHandle:Ow,useInsertionEffect:kw,useLayoutEffect:bw,useMemo:Nw,useReducer:Bp,useRef:Cw,useState:function(){return Bp(mu)},useDebugValue:Hp,useDeferredValue:function(s){var a=$n();return St===null?a.memoizedState=s:Lw(a,St.memoizedState,s)},useTransition:function(){var s=Bp(mu)[0],a=$n().memoizedState;return[s,a]},useMutableSource:vw,useSyncExternalStore:ww,useId:Vw,unstable_isNewReconciler:!1};function dr(s,a){if(s&&s.defaultProps){a=oe({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function qp(s,a,c,p){a=s.memoizedState,c=c(p,a),c=c==null?a:oe({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Oh={isMounted:function(s){return(s=s._reactInternals)?rr(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var p=an(),g=Wi(s),v=li(p,g);v.payload=a,c!=null&&(v.callback=c),a=Bi(s,v,g),a!==null&&(mr(a,s,g,p),Ih(a,s,g))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var p=an(),g=Wi(s),v=li(p,g);v.tag=1,v.payload=a,c!=null&&(v.callback=c),a=Bi(s,v,g),a!==null&&(mr(a,s,g,p),Ih(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=an(),p=Wi(s),g=li(c,p);g.tag=2,a!=null&&(g.callback=a),a=Bi(s,g,p),a!==null&&(mr(a,s,p,c),Ih(a,s,p))}};function jw(s,a,c,p,g,v,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,v,S):a.prototype&&a.prototype.isPureReactComponent?!nu(c,p)||!nu(g,v):!0}function $w(s,a,c){var p=!1,g=Fi,v=a.contextType;return typeof v=="object"&&v!==null?v=jn(v):(g=fn(a)?Ws:Kt.current,p=a.contextTypes,v=(p=p!=null)?ma(s,g):Fi),a=new a(c,v),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Oh,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=v),a}function Bw(s,a,c,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==s&&Oh.enqueueReplaceState(a,a.state,null)}function Wp(s,a,c,p){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},Op(s);var v=a.contextType;typeof v=="object"&&v!==null?g.context=jn(v):(v=fn(a)?Ws:Kt.current,g.context=ma(s,v)),g.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(qp(s,a,v,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Oh.enqueueReplaceState(g,g.state,null),Ah(s,c,g,p),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Sa(s,a){try{var c="",p=a;do c+=ke(p),p=p.return;while(p);var g=c}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:a,stack:g,digest:null}}function Kp(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function Gp(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var sb=typeof WeakMap=="function"?WeakMap:Map;function zw(s,a,c){c=li(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){Fh||(Fh=!0,um=p),Gp(s,a)},c}function Hw(s,a,c){c=li(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var g=a.value;c.payload=function(){return p(g)},c.callback=function(){Gp(s,a)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(c.callback=function(){Gp(s,a),typeof p!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})}),c}function qw(s,a,c){var p=s.pingCache;if(p===null){p=s.pingCache=new sb;var g=new Set;p.set(a,g)}else g=p.get(a),g===void 0&&(g=new Set,p.set(a,g));g.has(c)||(g.add(c),s=vb.bind(null,s,a,c),a.then(s,s))}function Ww(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Kw(s,a,c,p,g){return s.mode&1?(s.flags|=65536,s.lanes=g,s):(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=li(-1,1),a.tag=2,Bi(c,a,1))),c.lanes|=1),s)}var ob=G.ReactCurrentOwner,pn=!1;function on(s,a,c,p){a.child=s===null?fw(a,null,c,p):va(a,s.child,c,p)}function Gw(s,a,c,p,g){c=c.render;var v=a.ref;return Ea(a,g),p=Fp(s,a,c,p,v,g),c=jp(),s!==null&&!pn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,ui(s,a,g)):(tt&&c&&Tp(a),a.flags|=1,on(s,a,p,g),a.child)}function Qw(s,a,c,p,g){if(s===null){var v=c.type;return typeof v=="function"&&!gm(v)&&v.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=v,Jw(s,a,v,p,g)):(s=qh(c.type,null,p,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(v=s.child,!(s.lanes&g)){var S=v.memoizedProps;if(c=c.compare,c=c!==null?c:nu,c(S,p)&&s.ref===a.ref)return ui(s,a,g)}return a.flags|=1,s=Gi(v,p),s.ref=a.ref,s.return=a,a.child=s}function Jw(s,a,c,p,g){if(s!==null){var v=s.memoizedProps;if(nu(v,p)&&s.ref===a.ref)if(pn=!1,a.pendingProps=p=v,(s.lanes&g)!==0)s.flags&131072&&(pn=!0);else return a.lanes=s.lanes,ui(s,a,g)}return Qp(s,a,c,p,g)}function Xw(s,a,c){var p=a.pendingProps,g=p.children,v=s!==null?s.memoizedState:null;if(p.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Aa,bn),bn|=c;else{if(!(c&1073741824))return s=v!==null?v.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Ke(Aa,bn),bn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=v!==null?v.baseLanes:c,Ke(Aa,bn),bn|=p}else v!==null?(p=v.baseLanes|c,a.memoizedState=null):p=c,Ke(Aa,bn),bn|=p;return on(s,a,g,c),a.child}function Yw(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Qp(s,a,c,p,g){var v=fn(c)?Ws:Kt.current;return v=ma(a,v),Ea(a,g),c=Fp(s,a,c,p,v,g),p=jp(),s!==null&&!pn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,ui(s,a,g)):(tt&&p&&Tp(a),a.flags|=1,on(s,a,c,g),a.child)}function Zw(s,a,c,p,g){if(fn(c)){var v=!0;gh(a)}else v=!1;if(Ea(a,g),a.stateNode===null)Nh(s,a),$w(a,c,p),Wp(a,c,p,g),p=!0;else if(s===null){var S=a.stateNode,k=a.memoizedProps;S.props=k;var L=S.context,W=c.contextType;typeof W=="object"&&W!==null?W=jn(W):(W=fn(c)?Ws:Kt.current,W=ma(a,W));var Z=c.getDerivedStateFromProps,te=typeof Z=="function"||typeof S.getSnapshotBeforeUpdate=="function";te||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(k!==p||L!==W)&&Bw(a,S,p,W),$i=!1;var Y=a.memoizedState;S.state=Y,Ah(a,p,S,g),L=a.memoizedState,k!==p||Y!==L||dn.current||$i?(typeof Z=="function"&&(qp(a,c,Z,p),L=a.memoizedState),(k=$i||jw(a,c,k,p,Y,L,W))?(te||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=L),S.props=p,S.state=L,S.context=W,p=k):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{S=a.stateNode,mw(s,a),k=a.memoizedProps,W=a.type===a.elementType?k:dr(a.type,k),S.props=W,te=a.pendingProps,Y=S.context,L=c.contextType,typeof L=="object"&&L!==null?L=jn(L):(L=fn(c)?Ws:Kt.current,L=ma(a,L));var ae=c.getDerivedStateFromProps;(Z=typeof ae=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(k!==te||Y!==L)&&Bw(a,S,p,L),$i=!1,Y=a.memoizedState,S.state=Y,Ah(a,p,S,g);var ce=a.memoizedState;k!==te||Y!==ce||dn.current||$i?(typeof ae=="function"&&(qp(a,c,ae,p),ce=a.memoizedState),(W=$i||jw(a,c,W,p,Y,ce,L)||!1)?(Z||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,ce,L),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,ce,L)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||k===s.memoizedProps&&Y===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&Y===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=ce),S.props=p,S.state=ce,S.context=L,p=W):(typeof S.componentDidUpdate!="function"||k===s.memoizedProps&&Y===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&Y===s.memoizedState||(a.flags|=1024),p=!1)}return Jp(s,a,c,p,v,g)}function Jp(s,a,c,p,g,v){Yw(s,a);var S=(a.flags&128)!==0;if(!p&&!S)return g&&iw(a,c,!1),ui(s,a,v);p=a.stateNode,ob.current=a;var k=S&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&S?(a.child=va(a,s.child,null,v),a.child=va(a,null,k,v)):on(s,a,k,v),a.memoizedState=p.state,g&&iw(a,c,!0),a.child}function eE(s){var a=s.stateNode;a.pendingContext?nw(s,a.pendingContext,a.pendingContext!==a.context):a.context&&nw(s,a.context,!1),Dp(s,a.containerInfo)}function tE(s,a,c,p,g){return _a(),Pp(g),a.flags|=256,on(s,a,c,p),a.child}var Xp={dehydrated:null,treeContext:null,retryLane:0};function Yp(s){return{baseLanes:s,cachePool:null,transitions:null}}function nE(s,a,c){var p=a.pendingProps,g=it.current,v=!1,S=(a.flags&128)!==0,k;if((k=S)||(k=s!==null&&s.memoizedState===null?!1:(g&2)!==0),k?(v=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),Ke(it,g&1),s===null)return Ap(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(S=p.children,s=p.fallback,v?(p=a.mode,v=a.child,S={mode:"hidden",children:S},!(p&1)&&v!==null?(v.childLanes=0,v.pendingProps=S):v=Wh(S,p,0,null),s=no(s,p,c,null),v.return=a,s.return=a,v.sibling=s,a.child=v,a.child.memoizedState=Yp(c),a.memoizedState=Xp,s):Zp(a,S));if(g=s.memoizedState,g!==null&&(k=g.dehydrated,k!==null))return ab(s,a,S,p,k,g,c);if(v){v=p.fallback,S=a.mode,g=s.child,k=g.sibling;var L={mode:"hidden",children:p.children};return!(S&1)&&a.child!==g?(p=a.child,p.childLanes=0,p.pendingProps=L,a.deletions=null):(p=Gi(g,L),p.subtreeFlags=g.subtreeFlags&14680064),k!==null?v=Gi(k,v):(v=no(v,S,c,null),v.flags|=2),v.return=a,p.return=a,p.sibling=v,a.child=p,p=v,v=a.child,S=s.child.memoizedState,S=S===null?Yp(c):{baseLanes:S.baseLanes|c,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=s.childLanes&~c,a.memoizedState=Xp,p}return v=s.child,s=v.sibling,p=Gi(v,{mode:"visible",children:p.children}),!(a.mode&1)&&(p.lanes=c),p.return=a,p.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=p,a.memoizedState=null,p}function Zp(s,a){return a=Wh({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Dh(s,a,c,p){return p!==null&&Pp(p),va(a,s.child,null,c),s=Zp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function ab(s,a,c,p,g,v,S){if(c)return a.flags&256?(a.flags&=-257,p=Kp(Error(t(422))),Dh(s,a,S,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(v=p.fallback,g=a.mode,p=Wh({mode:"visible",children:p.children},g,0,null),v=no(v,g,S,null),v.flags|=2,p.return=a,v.return=a,p.sibling=v,a.child=p,a.mode&1&&va(a,s.child,null,S),a.child.memoizedState=Yp(S),a.memoizedState=Xp,v);if(!(a.mode&1))return Dh(s,a,S,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var k=p.dgst;return p=k,v=Error(t(419)),p=Kp(v,p,void 0),Dh(s,a,S,p)}if(k=(S&s.childLanes)!==0,pn||k){if(p=xt,p!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(p.suspendedLanes|S)?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,ai(s,g),mr(p,s,g,-1))}return mm(),p=Kp(Error(t(421))),Dh(s,a,S,p)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=wb.bind(null,s),g._reactRetry=a,null):(s=v.treeContext,kn=Mi(g.nextSibling),Rn=a,tt=!0,hr=null,s!==null&&(Un[Fn++]=si,Un[Fn++]=oi,Un[Fn++]=Ks,si=s.id,oi=s.overflow,Ks=a),a=Zp(a,p.children),a.flags|=4096,a)}function rE(s,a,c){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),bp(s.return,a,c)}function em(s,a,c,p,g){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:g}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=p,v.tail=c,v.tailMode=g)}function iE(s,a,c){var p=a.pendingProps,g=p.revealOrder,v=p.tail;if(on(s,a,p.children,c),p=it.current,p&2)p=p&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&rE(s,c,a);else if(s.tag===19)rE(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(Ke(it,p),!(a.mode&1))a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&Ph(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),em(a,!1,g,c,v);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Ph(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}em(a,!0,c,null,v);break;case"together":em(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Nh(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function ui(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Ys|=a.lanes,!(c&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=Gi(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Gi(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function lb(s,a,c){switch(a.tag){case 3:eE(a),_a();break;case 5:_w(a);break;case 1:fn(a.type)&&gh(a);break;case 4:Dp(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,g=a.memoizedProps.value;Ke(Th,p._currentValue),p._currentValue=g;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(Ke(it,it.current&1),a.flags|=128,null):c&a.child.childLanes?nE(s,a,c):(Ke(it,it.current&1),s=ui(s,a,c),s!==null?s.sibling:null);Ke(it,it.current&1);break;case 19:if(p=(c&a.childLanes)!==0,s.flags&128){if(p)return iE(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ke(it,it.current),p)break;return null;case 22:case 23:return a.lanes=0,Xw(s,a,c)}return ui(s,a,c)}var sE,tm,oE,aE;sE=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},tm=function(){},oE=function(s,a,c,p){var g=s.memoizedProps;if(g!==p){s=a.stateNode,Js(xr.current);var v=null;switch(c){case"input":g=ks(s,g),p=ks(s,p),v=[];break;case"select":g=oe({},g,{value:void 0}),p=oe({},p,{value:void 0}),v=[];break;case"textarea":g=xl(s,g),p=xl(s,p),v=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=fh)}Ml(c,p);var S;c=null;for(W in g)if(!p.hasOwnProperty(W)&&g.hasOwnProperty(W)&&g[W]!=null)if(W==="style"){var k=g[W];for(S in k)k.hasOwnProperty(S)&&(c||(c={}),c[S]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(i.hasOwnProperty(W)?v||(v=[]):(v=v||[]).push(W,null));for(W in p){var L=p[W];if(k=g!=null?g[W]:void 0,p.hasOwnProperty(W)&&L!==k&&(L!=null||k!=null))if(W==="style")if(k){for(S in k)!k.hasOwnProperty(S)||L&&L.hasOwnProperty(S)||(c||(c={}),c[S]="");for(S in L)L.hasOwnProperty(S)&&k[S]!==L[S]&&(c||(c={}),c[S]=L[S])}else c||(v||(v=[]),v.push(W,c)),c=L;else W==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,k=k?k.__html:void 0,L!=null&&k!==L&&(v=v||[]).push(W,L)):W==="children"?typeof L!="string"&&typeof L!="number"||(v=v||[]).push(W,""+L):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(i.hasOwnProperty(W)?(L!=null&&W==="onScroll"&&Xe("scroll",s),v||k===L||(v=[])):(v=v||[]).push(W,L))}c&&(v=v||[]).push("style",c);var W=v;(a.updateQueue=W)&&(a.flags|=4)}},aE=function(s,a,c,p){c!==p&&(a.flags|=4)};function yu(s,a){if(!tt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Qt(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=p,s.childLanes=c,a}function ub(s,a,c){var p=a.pendingProps;switch(Sp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(a),null;case 1:return fn(a.type)&&mh(),Qt(a),null;case 3:return p=a.stateNode,Ta(),Ye(dn),Ye(Kt),Vp(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(wh(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,hr!==null&&(dm(hr),hr=null))),tm(s,a),Qt(a),null;case 5:Np(a);var g=Js(du.current);if(c=a.type,s!==null&&a.stateNode!=null)oE(s,a,c,p,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return Qt(a),null}if(s=Js(xr.current),wh(a)){p=a.stateNode,c=a.type;var v=a.memoizedProps;switch(p[br]=a,p[au]=v,s=(a.mode&1)!==0,c){case"dialog":Xe("cancel",p),Xe("close",p);break;case"iframe":case"object":case"embed":Xe("load",p);break;case"video":case"audio":for(g=0;g<iu.length;g++)Xe(iu[g],p);break;case"source":Xe("error",p);break;case"img":case"image":case"link":Xe("error",p),Xe("load",p);break;case"details":Xe("toggle",p);break;case"input":Mo(p,v),Xe("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!v.multiple},Xe("invalid",p);break;case"textarea":Fo(p,v),Xe("invalid",p)}Ml(c,v),g=null;for(var S in v)if(v.hasOwnProperty(S)){var k=v[S];S==="children"?typeof k=="string"?p.textContent!==k&&(v.suppressHydrationWarning!==!0&&dh(p.textContent,k,s),g=["children",k]):typeof k=="number"&&p.textContent!==""+k&&(v.suppressHydrationWarning!==!0&&dh(p.textContent,k,s),g=["children",""+k]):i.hasOwnProperty(S)&&k!=null&&S==="onScroll"&&Xe("scroll",p)}switch(c){case"input":Kr(p),Uc(p,v,!0);break;case"textarea":Kr(p),Ol(p);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(p.onclick=fh)}p=g,a.updateQueue=p,p!==null&&(a.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=wt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=S.createElement(c,{is:p.is}):(s=S.createElement(c),c==="select"&&(S=s,p.multiple?S.multiple=!0:p.size&&(S.size=p.size))):s=S.createElementNS(s,c),s[br]=a,s[au]=p,sE(s,a,!1,!1),a.stateNode=s;e:{switch(S=Ul(c,p),c){case"dialog":Xe("cancel",s),Xe("close",s),g=p;break;case"iframe":case"object":case"embed":Xe("load",s),g=p;break;case"video":case"audio":for(g=0;g<iu.length;g++)Xe(iu[g],s);g=p;break;case"source":Xe("error",s),g=p;break;case"img":case"image":case"link":Xe("error",s),Xe("load",s),g=p;break;case"details":Xe("toggle",s),g=p;break;case"input":Mo(s,p),g=ks(s,p),Xe("invalid",s);break;case"option":g=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},g=oe({},p,{value:void 0}),Xe("invalid",s);break;case"textarea":Fo(s,p),g=xl(s,p),Xe("invalid",s);break;default:g=p}Ml(c,g),k=g;for(v in k)if(k.hasOwnProperty(v)){var L=k[v];v==="style"?Ll(s,L):v==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Dl(s,L)):v==="children"?typeof L=="string"?(c!=="textarea"||L!=="")&&Pi(s,L):typeof L=="number"&&Pi(s,""+L):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?L!=null&&v==="onScroll"&&Xe("scroll",s):L!=null&&F(s,v,L,S))}switch(c){case"input":Kr(s),Uc(s,p,!1);break;case"textarea":Kr(s),Ol(s);break;case"option":p.value!=null&&s.setAttribute("value",""+$e(p.value));break;case"select":s.multiple=!!p.multiple,v=p.value,v!=null?Qr(s,!!p.multiple,v,!1):p.defaultValue!=null&&Qr(s,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=fh)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Qt(a),null;case 6:if(s&&a.stateNode!=null)aE(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(c=Js(du.current),Js(xr.current),wh(a)){if(p=a.stateNode,c=a.memoizedProps,p[br]=a,(v=p.nodeValue!==c)&&(s=Rn,s!==null))switch(s.tag){case 3:dh(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&dh(p.nodeValue,c,(s.mode&1)!==0)}v&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[br]=a,a.stateNode=p}return Qt(a),null;case 13:if(Ye(it),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(tt&&kn!==null&&a.mode&1&&!(a.flags&128))cw(),_a(),a.flags|=98560,v=!1;else if(v=wh(a),p!==null&&p.dehydrated!==null){if(s===null){if(!v)throw Error(t(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[br]=a}else _a(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Qt(a),v=!1}else hr!==null&&(dm(hr),hr=null),v=!0;if(!v)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,a.mode&1&&(s===null||it.current&1?It===0&&(It=3):mm())),a.updateQueue!==null&&(a.flags|=4),Qt(a),null);case 4:return Ta(),tm(s,a),s===null&&su(a.stateNode.containerInfo),Qt(a),null;case 10:return kp(a.type._context),Qt(a),null;case 17:return fn(a.type)&&mh(),Qt(a),null;case 19:if(Ye(it),v=a.memoizedState,v===null)return Qt(a),null;if(p=(a.flags&128)!==0,S=v.rendering,S===null)if(p)yu(v,!1);else{if(It!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(S=Ph(s),S!==null){for(a.flags|=128,yu(v,!1),p=S.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)v=c,s=p,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,s=S.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Ke(it,it.current&1|2),a.child}s=s.sibling}v.tail!==null&&We()>Pa&&(a.flags|=128,p=!0,yu(v,!1),a.lanes=4194304)}else{if(!p)if(s=Ph(S),s!==null){if(a.flags|=128,p=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),yu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!tt)return Qt(a),null}else 2*We()-v.renderingStartTime>Pa&&c!==1073741824&&(a.flags|=128,p=!0,yu(v,!1),a.lanes=4194304);v.isBackwards?(S.sibling=a.child,a.child=S):(c=v.last,c!==null?c.sibling=S:a.child=S,v.last=S)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=We(),a.sibling=null,c=it.current,Ke(it,p?c&1|2:c&1),a):(Qt(a),null);case 22:case 23:return pm(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&a.mode&1?bn&1073741824&&(Qt(a),a.subtreeFlags&6&&(a.flags|=8192)):Qt(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function cb(s,a){switch(Sp(a),a.tag){case 1:return fn(a.type)&&mh(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ta(),Ye(dn),Ye(Kt),Vp(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return Np(a),null;case 13:if(Ye(it),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));_a()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Ye(it),null;case 4:return Ta(),null;case 10:return kp(a.type._context),null;case 22:case 23:return pm(),null;case 24:return null;default:return null}}var Lh=!1,Jt=!1,hb=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Ia(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){ut(s,a,p)}else c.current=null}function nm(s,a,c){try{c()}catch(p){ut(s,a,p)}}var lE=!1;function db(s,a){if(pp=Ni,s=jv(),op(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var g=p.anchorOffset,v=p.focusNode;p=p.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var S=0,k=-1,L=-1,W=0,Z=0,te=s,Y=null;t:for(;;){for(var ae;te!==c||g!==0&&te.nodeType!==3||(k=S+g),te!==v||p!==0&&te.nodeType!==3||(L=S+p),te.nodeType===3&&(S+=te.nodeValue.length),(ae=te.firstChild)!==null;)Y=te,te=ae;for(;;){if(te===s)break t;if(Y===c&&++W===g&&(k=S),Y===v&&++Z===p&&(L=S),(ae=te.nextSibling)!==null)break;te=Y,Y=te.parentNode}te=ae}c=k===-1||L===-1?null:{start:k,end:L}}else c=null}c=c||{start:0,end:0}}else c=null;for(mp={focusedElem:s,selectionRange:c},Ni=!1,ue=a;ue!==null;)if(a=ue,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,ue=s;else for(;ue!==null;){a=ue;try{var ce=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var he=ce.memoizedProps,pt=ce.memoizedState,z=a.stateNode,M=z.getSnapshotBeforeUpdate(a.elementType===a.type?he:dr(a.type,he),pt);z.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var q=a.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){ut(a,a.return,re)}if(s=a.sibling,s!==null){s.return=a.return,ue=s;break}ue=a.return}return ce=lE,lE=!1,ce}function _u(s,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&s)===s){var v=g.destroy;g.destroy=void 0,v!==void 0&&nm(a,c,v)}g=g.next}while(g!==p)}}function Vh(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function rm(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function uE(s){var a=s.alternate;a!==null&&(s.alternate=null,uE(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[br],delete a[au],delete a[vp],delete a[G1],delete a[Q1])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function cE(s){return s.tag===5||s.tag===3||s.tag===4}function hE(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||cE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function im(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=fh));else if(p!==4&&(s=s.child,s!==null))for(im(s,a,c),s=s.sibling;s!==null;)im(s,a,c),s=s.sibling}function sm(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(sm(s,a,c),s=s.sibling;s!==null;)sm(s,a,c),s=s.sibling}var jt=null,fr=!1;function zi(s,a,c){for(c=c.child;c!==null;)dE(s,a,c),c=c.sibling}function dE(s,a,c){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Us,c)}catch{}switch(c.tag){case 5:Jt||Ia(c,a);case 6:var p=jt,g=fr;jt=null,zi(s,a,c),jt=p,fr=g,jt!==null&&(fr?(s=jt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):jt.removeChild(c.stateNode));break;case 18:jt!==null&&(fr?(s=jt,c=c.stateNode,s.nodeType===8?_p(s.parentNode,c):s.nodeType===1&&_p(s,c),lr(s)):_p(jt,c.stateNode));break;case 4:p=jt,g=fr,jt=c.stateNode.containerInfo,fr=!0,zi(s,a,c),jt=p,fr=g;break;case 0:case 11:case 14:case 15:if(!Jt&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var v=g,S=v.destroy;v=v.tag,S!==void 0&&(v&2||v&4)&&nm(c,a,S),g=g.next}while(g!==p)}zi(s,a,c);break;case 1:if(!Jt&&(Ia(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(k){ut(c,a,k)}zi(s,a,c);break;case 21:zi(s,a,c);break;case 22:c.mode&1?(Jt=(p=Jt)||c.memoizedState!==null,zi(s,a,c),Jt=p):zi(s,a,c);break;default:zi(s,a,c)}}function fE(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new hb),a.forEach(function(p){var g=Eb.bind(null,s,p);c.has(p)||(c.add(p),p.then(g,g))})}}function pr(s,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var g=c[p];try{var v=s,S=a,k=S;e:for(;k!==null;){switch(k.tag){case 5:jt=k.stateNode,fr=!1;break e;case 3:jt=k.stateNode.containerInfo,fr=!0;break e;case 4:jt=k.stateNode.containerInfo,fr=!0;break e}k=k.return}if(jt===null)throw Error(t(160));dE(v,S,g),jt=null,fr=!1;var L=g.alternate;L!==null&&(L.return=null),g.return=null}catch(W){ut(g,a,W)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)pE(a,s),a=a.sibling}function pE(s,a){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(pr(a,s),Dr(s),p&4){try{_u(3,s,s.return),Vh(3,s)}catch(he){ut(s,s.return,he)}try{_u(5,s,s.return)}catch(he){ut(s,s.return,he)}}break;case 1:pr(a,s),Dr(s),p&512&&c!==null&&Ia(c,c.return);break;case 5:if(pr(a,s),Dr(s),p&512&&c!==null&&Ia(c,c.return),s.flags&32){var g=s.stateNode;try{Pi(g,"")}catch(he){ut(s,s.return,he)}}if(p&4&&(g=s.stateNode,g!=null)){var v=s.memoizedProps,S=c!==null?c.memoizedProps:v,k=s.type,L=s.updateQueue;if(s.updateQueue=null,L!==null)try{k==="input"&&v.type==="radio"&&v.name!=null&&kl(g,v),Ul(k,S);var W=Ul(k,v);for(S=0;S<L.length;S+=2){var Z=L[S],te=L[S+1];Z==="style"?Ll(g,te):Z==="dangerouslySetInnerHTML"?Dl(g,te):Z==="children"?Pi(g,te):F(g,Z,te,W)}switch(k){case"input":bl(g,v);break;case"textarea":jo(g,v);break;case"select":var Y=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var ae=v.value;ae!=null?Qr(g,!!v.multiple,ae,!1):Y!==!!v.multiple&&(v.defaultValue!=null?Qr(g,!!v.multiple,v.defaultValue,!0):Qr(g,!!v.multiple,v.multiple?[]:"",!1))}g[au]=v}catch(he){ut(s,s.return,he)}}break;case 6:if(pr(a,s),Dr(s),p&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,v=s.memoizedProps;try{g.nodeValue=v}catch(he){ut(s,s.return,he)}}break;case 3:if(pr(a,s),Dr(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{lr(a.containerInfo)}catch(he){ut(s,s.return,he)}break;case 4:pr(a,s),Dr(s);break;case 13:pr(a,s),Dr(s),g=s.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(lm=We())),p&4&&fE(s);break;case 22:if(Z=c!==null&&c.memoizedState!==null,s.mode&1?(Jt=(W=Jt)||Z,pr(a,s),Jt=W):pr(a,s),Dr(s),p&8192){if(W=s.memoizedState!==null,(s.stateNode.isHidden=W)&&!Z&&s.mode&1)for(ue=s,Z=s.child;Z!==null;){for(te=ue=Z;ue!==null;){switch(Y=ue,ae=Y.child,Y.tag){case 0:case 11:case 14:case 15:_u(4,Y,Y.return);break;case 1:Ia(Y,Y.return);var ce=Y.stateNode;if(typeof ce.componentWillUnmount=="function"){p=Y,c=Y.return;try{a=p,ce.props=a.memoizedProps,ce.state=a.memoizedState,ce.componentWillUnmount()}catch(he){ut(p,c,he)}}break;case 5:Ia(Y,Y.return);break;case 22:if(Y.memoizedState!==null){yE(te);continue}}ae!==null?(ae.return=Y,ue=ae):yE(te)}Z=Z.sibling}e:for(Z=null,te=s;;){if(te.tag===5){if(Z===null){Z=te;try{g=te.stateNode,W?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(k=te.stateNode,L=te.memoizedProps.style,S=L!=null&&L.hasOwnProperty("display")?L.display:null,k.style.display=Nl("display",S))}catch(he){ut(s,s.return,he)}}}else if(te.tag===6){if(Z===null)try{te.stateNode.nodeValue=W?"":te.memoizedProps}catch(he){ut(s,s.return,he)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===s)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===s)break e;for(;te.sibling===null;){if(te.return===null||te.return===s)break e;Z===te&&(Z=null),te=te.return}Z===te&&(Z=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:pr(a,s),Dr(s),p&4&&fE(s);break;case 21:break;default:pr(a,s),Dr(s)}}function Dr(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(cE(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(Pi(g,""),p.flags&=-33);var v=hE(s);sm(s,v,g);break;case 3:case 4:var S=p.stateNode.containerInfo,k=hE(s);im(s,k,S);break;default:throw Error(t(161))}}catch(L){ut(s,s.return,L)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function fb(s,a,c){ue=s,mE(s)}function mE(s,a,c){for(var p=(s.mode&1)!==0;ue!==null;){var g=ue,v=g.child;if(g.tag===22&&p){var S=g.memoizedState!==null||Lh;if(!S){var k=g.alternate,L=k!==null&&k.memoizedState!==null||Jt;k=Lh;var W=Jt;if(Lh=S,(Jt=L)&&!W)for(ue=g;ue!==null;)S=ue,L=S.child,S.tag===22&&S.memoizedState!==null?_E(g):L!==null?(L.return=S,ue=L):_E(g);for(;v!==null;)ue=v,mE(v),v=v.sibling;ue=g,Lh=k,Jt=W}gE(s)}else g.subtreeFlags&8772&&v!==null?(v.return=g,ue=v):gE(s)}}function gE(s){for(;ue!==null;){var a=ue;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:Jt||Vh(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!Jt)if(c===null)p.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:dr(a.type,c.memoizedProps);p.componentDidUpdate(g,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var v=a.updateQueue;v!==null&&yw(a,v,p);break;case 3:var S=a.updateQueue;if(S!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}yw(a,S,c)}break;case 5:var k=a.stateNode;if(c===null&&a.flags&4){c=k;var L=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&c.focus();break;case"img":L.src&&(c.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var W=a.alternate;if(W!==null){var Z=W.memoizedState;if(Z!==null){var te=Z.dehydrated;te!==null&&lr(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Jt||a.flags&512&&rm(a)}catch(Y){ut(a,a.return,Y)}}if(a===s){ue=null;break}if(c=a.sibling,c!==null){c.return=a.return,ue=c;break}ue=a.return}}function yE(s){for(;ue!==null;){var a=ue;if(a===s){ue=null;break}var c=a.sibling;if(c!==null){c.return=a.return,ue=c;break}ue=a.return}}function _E(s){for(;ue!==null;){var a=ue;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Vh(4,a)}catch(L){ut(a,c,L)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var g=a.return;try{p.componentDidMount()}catch(L){ut(a,g,L)}}var v=a.return;try{rm(a)}catch(L){ut(a,v,L)}break;case 5:var S=a.return;try{rm(a)}catch(L){ut(a,S,L)}}}catch(L){ut(a,a.return,L)}if(a===s){ue=null;break}var k=a.sibling;if(k!==null){k.return=a.return,ue=k;break}ue=a.return}}var pb=Math.ceil,Mh=G.ReactCurrentDispatcher,om=G.ReactCurrentOwner,Bn=G.ReactCurrentBatchConfig,Ue=0,xt=null,_t=null,$t=0,bn=0,Aa=Ui(0),It=0,vu=null,Ys=0,Uh=0,am=0,wu=null,mn=null,lm=0,Pa=1/0,ci=null,Fh=!1,um=null,Hi=null,jh=!1,qi=null,$h=0,Eu=0,cm=null,Bh=-1,zh=0;function an(){return Ue&6?We():Bh!==-1?Bh:Bh=We()}function Wi(s){return s.mode&1?Ue&2&&$t!==0?$t&-$t:X1.transition!==null?(zh===0&&(zh=js()),zh):(s=Ne,s!==0||(s=window.event,s=s===void 0?16:Ql(s.type)),s):1}function mr(s,a,c,p){if(50<Eu)throw Eu=0,cm=null,Error(t(185));bi(s,c,p),(!(Ue&2)||s!==xt)&&(s===xt&&(!(Ue&2)&&(Uh|=c),It===4&&Ki(s,$t)),gn(s,p),c===1&&Ue===0&&!(a.mode&1)&&(Pa=We()+500,yh&&ji()))}function gn(s,a){var c=s.callbackNode;Yr(s,a);var p=Fs(s,s===xt?$t:0);if(p===0)c!==null&&Hl(c),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(c!=null&&Hl(c),a===1)s.tag===0?J1(wE.bind(null,s)):sw(wE.bind(null,s)),W1(function(){!(Ue&6)&&ji()}),c=null;else{switch(Oi(p)){case 1:c=Ms;break;case 4:c=Ci;break;case 16:c=Ln;break;case 536870912:c=zc;break;default:c=Ln}c=RE(c,vE.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function vE(s,a){if(Bh=-1,zh=0,Ue&6)throw Error(t(327));var c=s.callbackNode;if(Ca()&&s.callbackNode!==c)return null;var p=Fs(s,s===xt?$t:0);if(p===0)return null;if(p&30||p&s.expiredLanes||a)a=Hh(s,p);else{a=p;var g=Ue;Ue|=2;var v=TE();(xt!==s||$t!==a)&&(ci=null,Pa=We()+500,eo(s,a));do try{yb();break}catch(k){EE(s,k)}while(!0);Rp(),Mh.current=v,Ue=g,_t!==null?a=0:(xt=null,$t=0,a=It)}if(a!==0){if(a===2&&(g=An(s),g!==0&&(p=g,a=hm(s,g))),a===1)throw c=vu,eo(s,0),Ki(s,p),gn(s,We()),c;if(a===6)Ki(s,p);else{if(g=s.current.alternate,!(p&30)&&!mb(g)&&(a=Hh(s,p),a===2&&(v=An(s),v!==0&&(p=v,a=hm(s,v))),a===1))throw c=vu,eo(s,0),Ki(s,p),gn(s,We()),c;switch(s.finishedWork=g,s.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:to(s,mn,ci);break;case 3:if(Ki(s,p),(p&130023424)===p&&(a=lm+500-We(),10<a)){if(Fs(s,0)!==0)break;if(g=s.suspendedLanes,(g&p)!==p){an(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=yp(to.bind(null,s,mn,ci),a);break}to(s,mn,ci);break;case 4:if(Ki(s,p),(p&4194240)===p)break;for(a=s.eventTimes,g=-1;0<p;){var S=31-rn(p);v=1<<S,S=a[S],S>g&&(g=S),p&=~v}if(p=g,p=We()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*pb(p/1960))-p,10<p){s.timeoutHandle=yp(to.bind(null,s,mn,ci),p);break}to(s,mn,ci);break;case 5:to(s,mn,ci);break;default:throw Error(t(329))}}}return gn(s,We()),s.callbackNode===c?vE.bind(null,s):null}function hm(s,a){var c=wu;return s.current.memoizedState.isDehydrated&&(eo(s,a).flags|=256),s=Hh(s,a),s!==2&&(a=mn,mn=c,a!==null&&dm(a)),s}function dm(s){mn===null?mn=s:mn.push.apply(mn,s)}function mb(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var g=c[p],v=g.getSnapshot;g=g.value;try{if(!cr(v(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ki(s,a){for(a&=~am,a&=~Uh,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-rn(a),p=1<<c;s[c]=-1,a&=~p}}function wE(s){if(Ue&6)throw Error(t(327));Ca();var a=Fs(s,0);if(!(a&1))return gn(s,We()),null;var c=Hh(s,a);if(s.tag!==0&&c===2){var p=An(s);p!==0&&(a=p,c=hm(s,p))}if(c===1)throw c=vu,eo(s,0),Ki(s,a),gn(s,We()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,to(s,mn,ci),gn(s,We()),null}function fm(s,a){var c=Ue;Ue|=1;try{return s(a)}finally{Ue=c,Ue===0&&(Pa=We()+500,yh&&ji())}}function Zs(s){qi!==null&&qi.tag===0&&!(Ue&6)&&Ca();var a=Ue;Ue|=1;var c=Bn.transition,p=Ne;try{if(Bn.transition=null,Ne=1,s)return s()}finally{Ne=p,Bn.transition=c,Ue=a,!(Ue&6)&&ji()}}function pm(){bn=Aa.current,Ye(Aa)}function eo(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,q1(c)),_t!==null)for(c=_t.return;c!==null;){var p=c;switch(Sp(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&mh();break;case 3:Ta(),Ye(dn),Ye(Kt),Vp();break;case 5:Np(p);break;case 4:Ta();break;case 13:Ye(it);break;case 19:Ye(it);break;case 10:kp(p.type._context);break;case 22:case 23:pm()}c=c.return}if(xt=s,_t=s=Gi(s.current,null),$t=bn=a,It=0,vu=null,am=Uh=Ys=0,mn=wu=null,Qs!==null){for(a=0;a<Qs.length;a++)if(c=Qs[a],p=c.interleaved,p!==null){c.interleaved=null;var g=p.next,v=c.pending;if(v!==null){var S=v.next;v.next=g,p.next=S}c.pending=p}Qs=null}return s}function EE(s,a){do{var c=_t;try{if(Rp(),Ch.current=xh,Rh){for(var p=st.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}Rh=!1}if(Xs=0,bt=St=st=null,fu=!1,pu=0,om.current=null,c===null||c.return===null){It=1,vu=a,_t=null;break}e:{var v=s,S=c.return,k=c,L=a;if(a=$t,k.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var W=L,Z=k,te=Z.tag;if(!(Z.mode&1)&&(te===0||te===11||te===15)){var Y=Z.alternate;Y?(Z.updateQueue=Y.updateQueue,Z.memoizedState=Y.memoizedState,Z.lanes=Y.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ae=Ww(S);if(ae!==null){ae.flags&=-257,Kw(ae,S,k,v,a),ae.mode&1&&qw(v,W,a),a=ae,L=W;var ce=a.updateQueue;if(ce===null){var he=new Set;he.add(L),a.updateQueue=he}else ce.add(L);break e}else{if(!(a&1)){qw(v,W,a),mm();break e}L=Error(t(426))}}else if(tt&&k.mode&1){var pt=Ww(S);if(pt!==null){!(pt.flags&65536)&&(pt.flags|=256),Kw(pt,S,k,v,a),Pp(Sa(L,k));break e}}v=L=Sa(L,k),It!==4&&(It=2),wu===null?wu=[v]:wu.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,a&=-a,v.lanes|=a;var z=zw(v,L,a);gw(v,z);break e;case 1:k=L;var M=v.type,q=v.stateNode;if(!(v.flags&128)&&(typeof M.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Hi===null||!Hi.has(q)))){v.flags|=65536,a&=-a,v.lanes|=a;var re=Hw(v,k,a);gw(v,re);break e}}v=v.return}while(v!==null)}IE(c)}catch(de){a=de,_t===c&&c!==null&&(_t=c=c.return);continue}break}while(!0)}function TE(){var s=Mh.current;return Mh.current=xh,s===null?xh:s}function mm(){(It===0||It===3||It===2)&&(It=4),xt===null||!(Ys&268435455)&&!(Uh&268435455)||Ki(xt,$t)}function Hh(s,a){var c=Ue;Ue|=2;var p=TE();(xt!==s||$t!==a)&&(ci=null,eo(s,a));do try{gb();break}catch(g){EE(s,g)}while(!0);if(Rp(),Ue=c,Mh.current=p,_t!==null)throw Error(t(261));return xt=null,$t=0,It}function gb(){for(;_t!==null;)SE(_t)}function yb(){for(;_t!==null&&!$c();)SE(_t)}function SE(s){var a=CE(s.alternate,s,bn);s.memoizedProps=s.pendingProps,a===null?IE(s):_t=a,om.current=null}function IE(s){var a=s;do{var c=a.alternate;if(s=a.return,a.flags&32768){if(c=cb(c,a),c!==null){c.flags&=32767,_t=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{It=6,_t=null;return}}else if(c=ub(c,a,bn),c!==null){_t=c;return}if(a=a.sibling,a!==null){_t=a;return}_t=a=s}while(a!==null);It===0&&(It=5)}function to(s,a,c){var p=Ne,g=Bn.transition;try{Bn.transition=null,Ne=1,_b(s,a,c,p)}finally{Bn.transition=g,Ne=p}return null}function _b(s,a,c,p){do Ca();while(qi!==null);if(Ue&6)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var v=c.lanes|c.childLanes;if(He(s,v),s===xt&&(_t=xt=null,$t=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||jh||(jh=!0,RE(Ln,function(){return Ca(),null})),v=(c.flags&15990)!==0,c.subtreeFlags&15990||v){v=Bn.transition,Bn.transition=null;var S=Ne;Ne=1;var k=Ue;Ue|=4,om.current=null,db(s,c),pE(c,s),U1(mp),Ni=!!pp,mp=pp=null,s.current=c,fb(c),Yf(),Ue=k,Ne=S,Bn.transition=v}else s.current=c;if(jh&&(jh=!1,qi=s,$h=g),v=s.pendingLanes,v===0&&(Hi=null),Hc(c.stateNode),gn(s,We()),a!==null)for(p=s.onRecoverableError,c=0;c<a.length;c++)g=a[c],p(g.value,{componentStack:g.stack,digest:g.digest});if(Fh)throw Fh=!1,s=um,um=null,s;return $h&1&&s.tag!==0&&Ca(),v=s.pendingLanes,v&1?s===cm?Eu++:(Eu=0,cm=s):Eu=0,ji(),null}function Ca(){if(qi!==null){var s=Oi($h),a=Bn.transition,c=Ne;try{if(Bn.transition=null,Ne=16>s?16:s,qi===null)var p=!1;else{if(s=qi,qi=null,$h=0,Ue&6)throw Error(t(331));var g=Ue;for(Ue|=4,ue=s.current;ue!==null;){var v=ue,S=v.child;if(ue.flags&16){var k=v.deletions;if(k!==null){for(var L=0;L<k.length;L++){var W=k[L];for(ue=W;ue!==null;){var Z=ue;switch(Z.tag){case 0:case 11:case 15:_u(8,Z,v)}var te=Z.child;if(te!==null)te.return=Z,ue=te;else for(;ue!==null;){Z=ue;var Y=Z.sibling,ae=Z.return;if(uE(Z),Z===W){ue=null;break}if(Y!==null){Y.return=ae,ue=Y;break}ue=ae}}}var ce=v.alternate;if(ce!==null){var he=ce.child;if(he!==null){ce.child=null;do{var pt=he.sibling;he.sibling=null,he=pt}while(he!==null)}}ue=v}}if(v.subtreeFlags&2064&&S!==null)S.return=v,ue=S;else e:for(;ue!==null;){if(v=ue,v.flags&2048)switch(v.tag){case 0:case 11:case 15:_u(9,v,v.return)}var z=v.sibling;if(z!==null){z.return=v.return,ue=z;break e}ue=v.return}}var M=s.current;for(ue=M;ue!==null;){S=ue;var q=S.child;if(S.subtreeFlags&2064&&q!==null)q.return=S,ue=q;else e:for(S=M;ue!==null;){if(k=ue,k.flags&2048)try{switch(k.tag){case 0:case 11:case 15:Vh(9,k)}}catch(de){ut(k,k.return,de)}if(k===S){ue=null;break e}var re=k.sibling;if(re!==null){re.return=k.return,ue=re;break e}ue=k.return}}if(Ue=g,ji(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Us,s)}catch{}p=!0}return p}finally{Ne=c,Bn.transition=a}}return!1}function AE(s,a,c){a=Sa(c,a),a=zw(s,a,1),s=Bi(s,a,1),a=an(),s!==null&&(bi(s,1,a),gn(s,a))}function ut(s,a,c){if(s.tag===3)AE(s,s,c);else for(;a!==null;){if(a.tag===3){AE(a,s,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Hi===null||!Hi.has(p))){s=Sa(c,s),s=Hw(a,s,1),a=Bi(a,s,1),s=an(),a!==null&&(bi(a,1,s),gn(a,s));break}}a=a.return}}function vb(s,a,c){var p=s.pingCache;p!==null&&p.delete(a),a=an(),s.pingedLanes|=s.suspendedLanes&c,xt===s&&($t&c)===c&&(It===4||It===3&&($t&130023424)===$t&&500>We()-lm?eo(s,0):am|=c),gn(s,a)}function PE(s,a){a===0&&(s.mode&1?(a=Jo,Jo<<=1,!(Jo&130023424)&&(Jo=4194304)):a=1);var c=an();s=ai(s,a),s!==null&&(bi(s,a,c),gn(s,c))}function wb(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),PE(s,c)}function Eb(s,a){var c=0;switch(s.tag){case 13:var p=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),PE(s,c)}var CE;CE=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||dn.current)pn=!0;else{if(!(s.lanes&c)&&!(a.flags&128))return pn=!1,lb(s,a,c);pn=!!(s.flags&131072)}else pn=!1,tt&&a.flags&1048576&&ow(a,vh,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Nh(s,a),s=a.pendingProps;var g=ma(a,Kt.current);Ea(a,c),g=Fp(null,a,p,s,g,c);var v=jp();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,fn(p)?(v=!0,gh(a)):v=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Op(a),g.updater=Oh,a.stateNode=g,g._reactInternals=a,Wp(a,p,s,c),a=Jp(null,a,p,!0,v,c)):(a.tag=0,tt&&v&&Tp(a),on(null,a,g,c),a=a.child),a;case 16:p=a.elementType;e:{switch(Nh(s,a),s=a.pendingProps,g=p._init,p=g(p._payload),a.type=p,g=a.tag=Sb(p),s=dr(p,s),g){case 0:a=Qp(null,a,p,s,c);break e;case 1:a=Zw(null,a,p,s,c);break e;case 11:a=Gw(null,a,p,s,c);break e;case 14:a=Qw(null,a,p,dr(p.type,s),c);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:dr(p,g),Qp(s,a,p,g,c);case 1:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:dr(p,g),Zw(s,a,p,g,c);case 3:e:{if(eE(a),s===null)throw Error(t(387));p=a.pendingProps,v=a.memoizedState,g=v.element,mw(s,a),Ah(a,p,null,c);var S=a.memoizedState;if(p=S.element,v.isDehydrated)if(v={element:p,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){g=Sa(Error(t(423)),a),a=tE(s,a,p,c,g);break e}else if(p!==g){g=Sa(Error(t(424)),a),a=tE(s,a,p,c,g);break e}else for(kn=Mi(a.stateNode.containerInfo.firstChild),Rn=a,tt=!0,hr=null,c=fw(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(_a(),p===g){a=ui(s,a,c);break e}on(s,a,p,c)}a=a.child}return a;case 5:return _w(a),s===null&&Ap(a),p=a.type,g=a.pendingProps,v=s!==null?s.memoizedProps:null,S=g.children,gp(p,g)?S=null:v!==null&&gp(p,v)&&(a.flags|=32),Yw(s,a),on(s,a,S,c),a.child;case 6:return s===null&&Ap(a),null;case 13:return nE(s,a,c);case 4:return Dp(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=va(a,null,p,c):on(s,a,p,c),a.child;case 11:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:dr(p,g),Gw(s,a,p,g,c);case 7:return on(s,a,a.pendingProps,c),a.child;case 8:return on(s,a,a.pendingProps.children,c),a.child;case 12:return on(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,g=a.pendingProps,v=a.memoizedProps,S=g.value,Ke(Th,p._currentValue),p._currentValue=S,v!==null)if(cr(v.value,S)){if(v.children===g.children&&!dn.current){a=ui(s,a,c);break e}}else for(v=a.child,v!==null&&(v.return=a);v!==null;){var k=v.dependencies;if(k!==null){S=v.child;for(var L=k.firstContext;L!==null;){if(L.context===p){if(v.tag===1){L=li(-1,c&-c),L.tag=2;var W=v.updateQueue;if(W!==null){W=W.shared;var Z=W.pending;Z===null?L.next=L:(L.next=Z.next,Z.next=L),W.pending=L}}v.lanes|=c,L=v.alternate,L!==null&&(L.lanes|=c),bp(v.return,c,a),k.lanes|=c;break}L=L.next}}else if(v.tag===10)S=v.type===a.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(t(341));S.lanes|=c,k=S.alternate,k!==null&&(k.lanes|=c),bp(S,c,a),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===a){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}on(s,a,g.children,c),a=a.child}return a;case 9:return g=a.type,p=a.pendingProps.children,Ea(a,c),g=jn(g),p=p(g),a.flags|=1,on(s,a,p,c),a.child;case 14:return p=a.type,g=dr(p,a.pendingProps),g=dr(p.type,g),Qw(s,a,p,g,c);case 15:return Jw(s,a,a.type,a.pendingProps,c);case 17:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:dr(p,g),Nh(s,a),a.tag=1,fn(p)?(s=!0,gh(a)):s=!1,Ea(a,c),$w(a,p,g),Wp(a,p,g,c),Jp(null,a,p,!0,s,c);case 19:return iE(s,a,c);case 22:return Xw(s,a,c)}throw Error(t(156,a.tag))};function RE(s,a){return Go(s,a)}function Tb(s,a,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(s,a,c,p){return new Tb(s,a,c,p)}function gm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Sb(s){if(typeof s=="function")return gm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===Vt)return 14}return 2}function Gi(s,a){var c=s.alternate;return c===null?(c=zn(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function qh(s,a,c,p,g,v){var S=2;if(p=s,typeof s=="function")gm(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case O:return no(c.children,g,v,a);case P:S=8,g|=8;break;case R:return s=zn(12,c,a,g|2),s.elementType=R,s.lanes=v,s;case x:return s=zn(13,c,a,g),s.elementType=x,s.lanes=v,s;case Ze:return s=zn(19,c,a,g),s.elementType=Ze,s.lanes=v,s;case Ie:return Wh(c,g,v,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:S=10;break e;case U:S=9;break e;case $:S=11;break e;case Vt:S=14;break e;case Mt:S=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=zn(S,c,a,g),a.elementType=s,a.type=p,a.lanes=v,a}function no(s,a,c,p){return s=zn(7,s,p,a),s.lanes=c,s}function Wh(s,a,c,p){return s=zn(22,s,p,a),s.elementType=Ie,s.lanes=c,s.stateNode={isHidden:!1},s}function ym(s,a,c){return s=zn(6,s,null,a),s.lanes=c,s}function _m(s,a,c){return a=zn(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function Ib(s,a,c,p,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ki(0),this.expirationTimes=ki(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function vm(s,a,c,p,g,v,S,k,L){return s=new Ib(s,a,c,k,L),a===1?(a=1,v===!0&&(a|=8)):a=0,v=zn(3,null,null,a),s.current=v,v.stateNode=s,v.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Op(v),s}function Ab(s,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:p==null?null:""+p,children:s,containerInfo:a,implementation:c}}function kE(s){if(!s)return Fi;s=s._reactInternals;e:{if(rr(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(fn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(fn(c))return rw(s,c,a)}return a}function bE(s,a,c,p,g,v,S,k,L){return s=vm(c,p,!0,s,g,v,S,k,L),s.context=kE(null),c=s.current,p=an(),g=Wi(c),v=li(p,g),v.callback=a??null,Bi(c,v,g),s.current.lanes=g,bi(s,g,p),gn(s,p),s}function Kh(s,a,c,p){var g=a.current,v=an(),S=Wi(g);return c=kE(c),a.context===null?a.context=c:a.pendingContext=c,a=li(v,S),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=Bi(g,a,S),s!==null&&(mr(s,g,S,v),Ih(s,g,S)),S}function Gh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function xE(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function wm(s,a){xE(s,a),(s=s.alternate)&&xE(s,a)}function Pb(){return null}var OE=typeof reportError=="function"?reportError:function(s){console.error(s)};function Em(s){this._internalRoot=s}Qh.prototype.render=Em.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));Kh(s,a,null,null)},Qh.prototype.unmount=Em.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Zs(function(){Kh(null,s,null,null)}),a[ri]=null}};function Qh(s){this._internalRoot=s}Qh.prototype.unstable_scheduleHydration=function(s){if(s){var a=Qc();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Pr.length&&a!==0&&a<Pr[c].priority;c++);Pr.splice(c,0,s),c===0&&Yc(s)}};function Tm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Jh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function DE(){}function Cb(s,a,c,p,g){if(g){if(typeof p=="function"){var v=p;p=function(){var W=Gh(S);v.call(W)}}var S=bE(a,p,s,0,null,!1,!1,"",DE);return s._reactRootContainer=S,s[ri]=S.current,su(s.nodeType===8?s.parentNode:s),Zs(),S}for(;g=s.lastChild;)s.removeChild(g);if(typeof p=="function"){var k=p;p=function(){var W=Gh(L);k.call(W)}}var L=vm(s,0,!1,null,null,!1,!1,"",DE);return s._reactRootContainer=L,s[ri]=L.current,su(s.nodeType===8?s.parentNode:s),Zs(function(){Kh(a,L,c,p)}),L}function Xh(s,a,c,p,g){var v=c._reactRootContainer;if(v){var S=v;if(typeof g=="function"){var k=g;g=function(){var L=Gh(S);k.call(L)}}Kh(a,S,s,g)}else S=Cb(c,a,s,g,p);return Gh(S)}Kc=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=Ri(a.pendingLanes);c!==0&&(xi(a,c|1),gn(a,We()),!(Ue&6)&&(Pa=We()+500,ji()))}break;case 13:Zs(function(){var p=ai(s,1);if(p!==null){var g=an();mr(p,s,1,g)}}),wm(s,1)}},Xo=function(s){if(s.tag===13){var a=ai(s,134217728);if(a!==null){var c=an();mr(a,s,134217728,c)}wm(s,134217728)}},Gc=function(s){if(s.tag===13){var a=Wi(s),c=ai(s,a);if(c!==null){var p=an();mr(c,s,a,p)}wm(s,a)}},Qc=function(){return Ne},Jc=function(s,a){var c=Ne;try{return Ne=s,a()}finally{Ne=c}},Bo=function(s,a,c){switch(a){case"input":if(bl(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==s&&p.form===s.form){var g=ph(p);if(!g)throw Error(t(90));Vo(p),bl(p,g)}}}break;case"textarea":jo(s,c);break;case"select":a=c.value,a!=null&&Qr(s,!!c.multiple,a,!1)}},Ds=fm,jl=Zs;var Rb={usingClientEntryPoint:!1,Events:[lu,fa,ph,Ir,Fl,fm]},Tu={findFiberByHostInstance:qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kb={bundleType:Tu.bundleType,version:Tu.version,rendererPackageName:Tu.rendererPackageName,rendererConfig:Tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=zl(s),s===null?null:s.stateNode},findFiberByHostInstance:Tu.findFiberByHostInstance||Pb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yh.isDisabled&&Yh.supportsFiber)try{Us=Yh.inject(kb),In=Yh}catch{}}return yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rb,yn.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tm(a))throw Error(t(200));return Ab(s,a,null,c)},yn.createRoot=function(s,a){if(!Tm(s))throw Error(t(299));var c=!1,p="",g=OE;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=vm(s,1,!1,null,null,c,!1,p,g),s[ri]=a.current,su(s.nodeType===8?s.parentNode:s),new Em(a)},yn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=zl(a),s=s===null?null:s.stateNode,s},yn.flushSync=function(s){return Zs(s)},yn.hydrate=function(s,a,c){if(!Jh(a))throw Error(t(200));return Xh(null,s,a,!0,c)},yn.hydrateRoot=function(s,a,c){if(!Tm(s))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,g=!1,v="",S=OE;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),a=bE(a,null,s,1,c??null,g,!1,v,S),s[ri]=a.current,su(s),p)for(s=0;s<p.length;s++)c=p[s],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new Qh(a)},yn.render=function(s,a,c){if(!Jh(a))throw Error(t(200));return Xh(null,s,a,!1,c)},yn.unmountComponentAtNode=function(s){if(!Jh(s))throw Error(t(40));return s._reactRootContainer?(Zs(function(){Xh(null,null,s,!1,function(){s._reactRootContainer=null,s[ri]=null})}),!0):!1},yn.unstable_batchedUpdates=fm,yn.unstable_renderSubtreeIntoContainer=function(s,a,c,p){if(!Jh(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Xh(s,a,c,!1,p)},yn.version="18.3.1-next-f1338f8080-20240426",yn}var $E;function UI(){if($E)return Am.exports;$E=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Am.exports=Fb(),Am.exports}var BE;function jb(){if(BE)return Zh;BE=1;var n=UI();return Zh.createRoot=n.createRoot,Zh.hydrateRoot=n.hydrateRoot,Zh}var $b=jb();const $z=Ts($b);var Iu={},zE;function Bb(){if(zE)return Iu;zE=1,Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.parse=l,Iu.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,T){const A=new o,b=w.length;if(b<2)return A;const C=(T==null?void 0:T.decode)||m;let D=0;do{const H=w.indexOf("=",D);if(H===-1)break;const F=w.indexOf(";",D),G=F===-1?b:F;if(H>G){D=w.lastIndexOf(";",H-1)+1;continue}const Q=u(w,D,H),ne=h(w,H,Q),O=w.slice(Q,ne);if(A[O]===void 0){let P=u(w,H+1,G),R=h(w,G,P);const N=C(w.slice(P,R));A[O]=N}D=G+1}while(D<b);return A}function u(w,T,A){do{const b=w.charCodeAt(T);if(b!==32&&b!==9)return T}while(++T<A);return A}function h(w,T,A){for(;T>A;){const b=w.charCodeAt(--T);if(b!==32&&b!==9)return T+1}return A}function f(w,T,A){const b=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const C=b(T);if(!e.test(C))throw new TypeError(`argument val is invalid: ${T}`);let D=w+"="+C;if(!A)return D;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);D+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);D+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);D+="; Path="+A.path}if(A.expires){if(!y(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);D+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(D+="; HttpOnly"),A.secure&&(D+="; Secure"),A.partitioned&&(D+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return D}function m(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function y(w){return i.call(w)==="[object Date]"}return Iu}Bb();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var HE="popstate";function zb(n={}){function e(i,o){let{pathname:l="/",search:u="",hash:h=""}=Co(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),vg("",{pathname:l,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let h=i.location.href,f=h.indexOf("#");u=f===-1?h:h.slice(0,f)}return u+"#"+(typeof o=="string"?o:nc(o))}function r(i,o){Xn(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return qb(e,t,r,n)}function rt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Xn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Hb(){return Math.random().toString(36).substring(2,10)}function qE(n,e){return{usr:n.state,key:n.key,idx:e}}function vg(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Co(e):e,state:t,key:e&&e.key||r||Hb()}}function nc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Co(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function qb(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u="POP",h=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function y(){u="POP";let C=m(),D=C==null?null:C-f;f=C,h&&h({action:u,location:b.location,delta:D})}function w(C,D){u="PUSH";let H=vg(b.location,C,D);t&&t(H,C),f=m()+1;let F=qE(H,f),G=b.createHref(H);try{l.pushState(F,"",G)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;i.location.assign(G)}o&&h&&h({action:u,location:b.location,delta:1})}function T(C,D){u="REPLACE";let H=vg(b.location,C,D);t&&t(H,C),f=m();let F=qE(H,f),G=b.createHref(H);l.replaceState(F,"",G),o&&h&&h({action:u,location:b.location,delta:0})}function A(C){let D=i.location.origin!=="null"?i.location.origin:i.location.href,H=typeof C=="string"?C:nc(C);return H=H.replace(/ $/,"%20"),rt(D,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,D)}let b={get action(){return u},get location(){return n(i,l)},listen(C){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(HE,y),h=C,()=>{i.removeEventListener(HE,y),h=null}},createHref(C){return e(i,C)},createURL:A,encodeLocation(C){let D=A(C);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:w,replace:T,go(C){return l.go(C)}};return b}function FI(n,e,t="/"){return Wb(n,e,t,!1)}function Wb(n,e,t,r){let i=typeof e=="string"?Co(e):e,o=fs(i.pathname||"/",t);if(o==null)return null;let l=jI(n);Kb(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=ix(o);u=nx(l[h],f,r)}return u}function jI(n,e=[],t=[],r=""){let i=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(rt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let f=yi([r,h.relativePath]),m=t.concat(h);o.children&&o.children.length>0&&(rt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),jI(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:ex(f,o.index),routesMeta:m})};return n.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let h of $I(o.path))i(o,l,h)}),e}function $I(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=$I(r.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),i&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function Kb(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:tx(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Gb=/^:[\w-]+$/,Qb=3,Jb=2,Xb=1,Yb=10,Zb=-2,WE=n=>n==="*";function ex(n,e){let t=n.split("/"),r=t.length;return t.some(WE)&&(r+=Zb),e&&(r+=Jb),t.filter(i=>!WE(i)).reduce((i,o)=>i+(Gb.test(o)?Qb:o===""?Xb:Yb),r)}function tx(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function nx(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let u=0;u<r.length;++u){let h=r[u],f=u===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=Vd({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),w=h.route;if(!y&&f&&t&&!r[r.length-1].route.index&&(y=Vd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:yi([o,y.pathname]),pathnameBase:lx(yi([o,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(o=yi([o,y.pathnameBase]))}return l}function Vd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=rx(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:y},w)=>{if(m==="*"){let A=u[w]||"";l=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const T=u[w];return y&&!T?f[m]=void 0:f[m]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function rx(n,e=!1,t=!0){Xn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ix(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function fs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function sx(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Co(n):n;return{pathname:t?t.startsWith("/")?t:ox(t,e):e,search:ux(r),hash:cx(i)}}function ox(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Rm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ax(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ry(n){let e=ax(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function ky(n,e,t,r=!1){let i;typeof n=="string"?i=Co(n):(i={...n},rt(!i.pathname||!i.pathname.includes("?"),Rm("?","pathname","search",i)),rt(!i.pathname||!i.pathname.includes("#"),Rm("#","pathname","hash",i)),rt(!i.search||!i.search.includes("#"),Rm("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=t;else{let y=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),y-=1;i.pathname=w.join("/")}u=y>=0?e[y]:"/"}let h=sx(i,u),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}var yi=n=>n.join("/").replace(/\/\/+/g,"/"),lx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ux=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,cx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function hx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var BI=["POST","PUT","PATCH","DELETE"];new Set(BI);var dx=["GET",...BI];new Set(dx);var ml=V.createContext(null);ml.displayName="DataRouter";var yf=V.createContext(null);yf.displayName="DataRouterState";var zI=V.createContext({isTransitioning:!1});zI.displayName="ViewTransition";var fx=V.createContext(new Map);fx.displayName="Fetchers";var px=V.createContext(null);px.displayName="Await";var Tr=V.createContext(null);Tr.displayName="Navigation";var Tc=V.createContext(null);Tc.displayName="Location";var Zn=V.createContext({outlet:null,matches:[],isDataRoute:!1});Zn.displayName="Route";var by=V.createContext(null);by.displayName="RouteError";function mx(n,{relative:e}={}){rt(gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=V.useContext(Tr),{hash:i,pathname:o,search:l}=Sc(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:yi([t,o])),r.createHref({pathname:u,search:l,hash:i})}function gl(){return V.useContext(Tc)!=null}function Ss(){return rt(gl(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Tc).location}var HI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qI(n){V.useContext(Tr).static||V.useLayoutEffect(n)}function WI(){let{isDataRoute:n}=V.useContext(Zn);return n?bx():gx()}function gx(){rt(gl(),"useNavigate() may be used only in the context of a <Router> component.");let n=V.useContext(ml),{basename:e,navigator:t}=V.useContext(Tr),{matches:r}=V.useContext(Zn),{pathname:i}=Ss(),o=JSON.stringify(Ry(r)),l=V.useRef(!1);return qI(()=>{l.current=!0}),V.useCallback((h,f={})=>{if(Xn(l.current,HI),!l.current)return;if(typeof h=="number"){t.go(h);return}let m=ky(h,JSON.parse(o),i,f.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:yi([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,o,i,n])}var yx=V.createContext(null);function _x(n){let e=V.useContext(Zn).outlet;return e&&V.createElement(yx.Provider,{value:n},e)}function Bz(){let{matches:n}=V.useContext(Zn),e=n[n.length-1];return e?e.params:{}}function Sc(n,{relative:e}={}){let{matches:t}=V.useContext(Zn),{pathname:r}=Ss(),i=JSON.stringify(Ry(t));return V.useMemo(()=>ky(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function vx(n,e){return KI(n,e)}function KI(n,e,t,r){var H;rt(gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=V.useContext(Tr),{matches:l}=V.useContext(Zn),u=l[l.length-1],h=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",y=u&&u.route;{let F=y&&y.path||"";GI(f,!y||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let w=Ss(),T;if(e){let F=typeof e=="string"?Co(e):e;rt(m==="/"||((H=F.pathname)==null?void 0:H.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${F.pathname}" was given in the \`location\` prop.`),T=F}else T=w;let A=T.pathname||"/",b=A;if(m!=="/"){let F=m.replace(/^\//,"").split("/");b="/"+A.replace(/^\//,"").split("/").slice(F.length).join("/")}let C=!o&&t&&t.matches&&t.matches.length>0?t.matches:FI(n,{pathname:b});Xn(y||C!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Xn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=Ix(C&&C.map(F=>Object.assign({},F,{params:Object.assign({},h,F.params),pathname:yi([m,i.encodeLocation?i.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?m:yi([m,i.encodeLocation?i.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),l,t,r);return e&&D?V.createElement(Tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},D):D}function wx(){let n=kx(),e=hx(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:o},"ErrorBoundary")," or"," ",V.createElement("code",{style:o},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:i},t):null,l)}var Ex=V.createElement(wx,null),Tx=class extends V.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?V.createElement(Zn.Provider,{value:this.props.routeContext},V.createElement(by.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Sx({routeContext:n,match:e,children:t}){let r=V.useContext(ml);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Zn.Provider,{value:n},t)}function Ix(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let h=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);rt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,u=-1;if(t)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:y}=t,w=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||w){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,f,m)=>{let y,w=!1,T=null,A=null;t&&(y=o&&f.route.id?o[f.route.id]:void 0,T=f.route.errorElement||Ex,l&&(u<0&&m===0?(GI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,A=null):u===m&&(w=!0,A=f.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,m+1)),C=()=>{let D;return y?D=T:w?D=A:f.route.Component?D=V.createElement(f.route.Component,null):f.route.element?D=f.route.element:D=h,V.createElement(Sx,{match:f,routeContext:{outlet:h,matches:b,isDataRoute:t!=null},children:D})};return t&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?V.createElement(Tx,{location:t.location,revalidation:t.revalidation,component:T,error:y,children:C(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):C()},null)}function xy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ax(n){let e=V.useContext(ml);return rt(e,xy(n)),e}function Px(n){let e=V.useContext(yf);return rt(e,xy(n)),e}function Cx(n){let e=V.useContext(Zn);return rt(e,xy(n)),e}function Oy(n){let e=Cx(n),t=e.matches[e.matches.length-1];return rt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Rx(){return Oy("useRouteId")}function kx(){var r;let n=V.useContext(by),e=Px("useRouteError"),t=Oy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function bx(){let{router:n}=Ax("useNavigate"),e=Oy("useNavigate"),t=V.useRef(!1);return qI(()=>{t.current=!0}),V.useCallback(async(i,o={})=>{Xn(t.current,HI),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var KE={};function GI(n,e,t){!e&&!KE[n]&&(KE[n]=!0,Xn(!1,t))}V.memo(xx);function xx({routes:n,future:e,state:t}){return KI(n,void 0,t,e)}function zz({to:n,replace:e,state:t,relative:r}){rt(gl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=V.useContext(Tr);Xn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=V.useContext(Zn),{pathname:l}=Ss(),u=WI(),h=ky(n,Ry(o),l,r==="path"),f=JSON.stringify(h);return V.useEffect(()=>{u(JSON.parse(f),{replace:e,state:t,relative:r})},[u,f,r,e,t]),null}function Hz(n){return _x(n.context)}function Ox(n){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Dx({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){rt(!gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=V.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=Co(t));let{pathname:h="/",search:f="",hash:m="",state:y=null,key:w="default"}=t,T=V.useMemo(()=>{let A=fs(h,l);return A==null?null:{location:{pathname:A,search:f,hash:m,state:y,key:w},navigationType:r}},[l,h,f,m,y,w,r]);return Xn(T!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:V.createElement(Tr.Provider,{value:u},V.createElement(Tc.Provider,{children:e,value:T}))}function qz({children:n,location:e}){return vx(wg(n),e)}function wg(n,e=[]){let t=[];return V.Children.forEach(n,(r,i)=>{if(!V.isValidElement(r))return;let o=[...e,i];if(r.type===V.Fragment){t.push.apply(t,wg(r.props.children,o));return}rt(r.type===Ox,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=wg(r.props.children,o)),t.push(l)}),t}var wd="get",Ed="application/x-www-form-urlencoded";function _f(n){return n!=null&&typeof n.tagName=="string"}function Nx(n){return _f(n)&&n.tagName.toLowerCase()==="button"}function Lx(n){return _f(n)&&n.tagName.toLowerCase()==="form"}function Vx(n){return _f(n)&&n.tagName.toLowerCase()==="input"}function Mx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Ux(n,e){return n.button===0&&(!e||e==="_self")&&!Mx(n)}var ed=null;function Fx(){if(ed===null)try{new FormData(document.createElement("form"),0),ed=!1}catch{ed=!0}return ed}var jx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function km(n){return n!=null&&!jx.has(n)?(Xn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ed}"`),null):n}function $x(n,e){let t,r,i,o,l;if(Lx(n)){let u=n.getAttribute("action");r=u?fs(u,e):null,t=n.getAttribute("method")||wd,i=km(n.getAttribute("enctype"))||Ed,o=new FormData(n)}else if(Nx(n)||Vx(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(r=h?fs(h,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||wd,i=km(n.getAttribute("formenctype"))||km(u.getAttribute("enctype"))||Ed,o=new FormData(u,n),!Fx()){let{name:f,type:m,value:y}=n;if(m==="image"){let w=f?`${f}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else f&&o.append(f,y)}}else{if(_f(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=wd,r=null,i=Ed,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}function Dy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Bx(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zx(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Hx(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await Bx(o,t);return l.links?l.links():[]}return[]}));return Gx(r.flat(1).filter(zx).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function GE(n,e,t,r,i,o){let l=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,u=(h,f)=>{var m;return t[f].pathname!==h.pathname||((m=t[f].route.path)==null?void 0:m.endsWith("*"))&&t[f].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,f)=>l(h,f)||u(h,f)):o==="data"?e.filter((h,f)=>{var y;let m=r.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function qx(n,e){return Wx(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function Wx(n){return[...new Set(n)]}function Kx(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function Gx(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(Kx(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function Qx(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Jx(){let n=V.useContext(ml);return Dy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Xx(){let n=V.useContext(yf);return Dy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ny=V.createContext(void 0);Ny.displayName="FrameworkContext";function QI(){let n=V.useContext(Ny);return Dy(n,"You must render this element inside a <HydratedRouter> element"),n}function Yx(n,e){let t=V.useContext(Ny),[r,i]=V.useState(!1),[o,l]=V.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:m,onTouchStart:y}=e,w=V.useRef(null);V.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let b=D=>{D.forEach(H=>{l(H.isIntersecting)})},C=new IntersectionObserver(b,{threshold:.5});return w.current&&C.observe(w.current),()=>{C.disconnect()}}},[n]),V.useEffect(()=>{if(r){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[r]);let T=()=>{i(!0)},A=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,w,{}]:[o,w,{onFocus:Au(u,T),onBlur:Au(h,A),onMouseEnter:Au(f,T),onMouseLeave:Au(m,A),onTouchStart:Au(y,T)}]:[!1,w,{}]}function Au(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Zx({page:n,...e}){let{router:t}=Jx(),r=V.useMemo(()=>FI(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?V.createElement(tO,{page:n,matches:r,...e}):null}function eO(n){let{manifest:e,routeModules:t}=QI(),[r,i]=V.useState([]);return V.useEffect(()=>{let o=!1;return Hx(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function tO({page:n,matches:e,...t}){let r=Ss(),{manifest:i,routeModules:o}=QI(),{loaderData:l,matches:u}=Xx(),h=V.useMemo(()=>GE(n,e,u,i,r,"data"),[n,e,u,i,r]),f=V.useMemo(()=>GE(n,e,u,i,r,"assets"),[n,e,u,i,r]),m=V.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,A=!1;if(e.forEach(C=>{var H;let D=i.routes[C.route.id];!D||!D.hasLoader||(!h.some(F=>F.route.id===C.route.id)&&C.route.id in l&&((H=o[C.route.id])!=null&&H.shouldRevalidate)||D.hasClientLoader?A=!0:T.add(C.route.id))}),T.size===0)return[];let b=Qx(n);return A&&T.size>0&&b.searchParams.set("_routes",e.filter(C=>T.has(C.route.id)).map(C=>C.route.id).join(",")),[b.pathname+b.search]},[l,r,i,h,e,n,o]),y=V.useMemo(()=>qx(f,i),[f,i]),w=eO(f);return V.createElement(V.Fragment,null,m.map(T=>V.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),y.map(T=>V.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),w.map(({key:T,link:A})=>V.createElement("link",{key:T,...A})))}function nO(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var JI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JI&&(window.__reactRouterVersion="7.1.5")}catch{}function Wz({basename:n,children:e,window:t}){let r=V.useRef();r.current==null&&(r.current=zb({window:t,v5Compat:!0}));let i=r.current,[o,l]=V.useState({action:i.action,location:i.location}),u=V.useCallback(h=>{V.startTransition(()=>l(h))},[l]);return V.useLayoutEffect(()=>i.listen(u),[i,u]),V.createElement(Dx,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var XI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YI=V.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:u,target:h,to:f,preventScrollReset:m,viewTransition:y,...w},T){let{basename:A}=V.useContext(Tr),b=typeof f=="string"&&XI.test(f),C,D=!1;if(typeof f=="string"&&b&&(C=f,JI))try{let R=new URL(window.location.href),N=f.startsWith("//")?new URL(R.protocol+f):new URL(f),U=fs(N.pathname,A);N.origin===R.origin&&U!=null?f=U+N.search+N.hash:D=!0}catch{Xn(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=mx(f,{relative:i}),[F,G,Q]=Yx(r,w),ne=oO(f,{replace:l,state:u,target:h,preventScrollReset:m,relative:i,viewTransition:y});function O(R){e&&e(R),R.defaultPrevented||ne(R)}let P=V.createElement("a",{...w,...Q,href:C||H,onClick:D||o?e:O,ref:nO(T,G),target:h,"data-discover":!b&&t==="render"?"true":void 0});return F&&!b?V.createElement(V.Fragment,null,P,V.createElement(Zx,{page:H})):P});YI.displayName="Link";var rO=V.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:u,children:h,...f},m){let y=Sc(l,{relative:f.relative}),w=Ss(),T=V.useContext(yf),{navigator:A,basename:b}=V.useContext(Tr),C=T!=null&&hO(y)&&u===!0,D=A.encodeLocation?A.encodeLocation(y).pathname:y.pathname,H=w.pathname,F=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(H=H.toLowerCase(),F=F?F.toLowerCase():null,D=D.toLowerCase()),F&&b&&(F=fs(F,b)||F);const G=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let Q=H===D||!i&&H.startsWith(D)&&H.charAt(G)==="/",ne=F!=null&&(F===D||!i&&F.startsWith(D)&&F.charAt(D.length)==="/"),O={isActive:Q,isPending:ne,isTransitioning:C},P=Q?e:void 0,R;typeof r=="function"?R=r(O):R=[r,Q?"active":null,ne?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(O):o;return V.createElement(YI,{...f,"aria-current":P,className:R,ref:m,style:N,to:l,viewTransition:u},typeof h=="function"?h(O):h)});rO.displayName="NavLink";var iO=V.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=wd,action:u,onSubmit:h,relative:f,preventScrollReset:m,viewTransition:y,...w},T)=>{let A=uO(),b=cO(u,{relative:f}),C=l.toLowerCase()==="get"?"get":"post",D=typeof u=="string"&&XI.test(u),H=F=>{if(h&&h(F),F.defaultPrevented)return;F.preventDefault();let G=F.nativeEvent.submitter,Q=(G==null?void 0:G.getAttribute("formmethod"))||l;A(G||F.currentTarget,{fetcherKey:e,method:Q,navigate:t,replace:i,state:o,relative:f,preventScrollReset:m,viewTransition:y})};return V.createElement("form",{ref:T,method:C,action:b,onSubmit:r?h:H,...w,"data-discover":!D&&n==="render"?"true":void 0})});iO.displayName="Form";function sO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZI(n){let e=V.useContext(ml);return rt(e,sO(n)),e}function oO(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let u=WI(),h=Ss(),f=Sc(n,{relative:o});return V.useCallback(m=>{if(Ux(m,e)){m.preventDefault();let y=t!==void 0?t:nc(h)===nc(f);u(n,{replace:y,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[h,u,f,t,r,e,n,i,o,l])}var aO=0,lO=()=>`__${String(++aO)}__`;function uO(){let{router:n}=ZI("useSubmit"),{basename:e}=V.useContext(Tr),t=Rx();return V.useCallback(async(r,i={})=>{let{action:o,method:l,encType:u,formData:h,body:f}=$x(r,e);if(i.navigate===!1){let m=i.fetcherKey||lO();await n.fetch(m,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function cO(n,{relative:e}={}){let{basename:t}=V.useContext(Tr),r=V.useContext(Zn);rt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Sc(n||".",{relative:e})},l=Ss();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(m=>m==="")){u.delete("index"),h.filter(y=>y).forEach(y=>u.append("index",y));let m=u.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:yi([t,o.pathname])),nc(o)}function hO(n,e={}){let t=V.useContext(zI);rt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ZI("useViewTransitionState"),i=Sc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=fs(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=fs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Vd(i.pathname,l)!=null||Vd(i.pathname,o)!=null}new TextEncoder;var dO=UI();const td=Ts(dO);var bm,QE;function fO(){if(QE)return bm;QE=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(o,l){if(o===l)return!0;if(o&&l&&typeof o=="object"&&typeof l=="object"){if(o.constructor!==l.constructor)return!1;var u,h,f;if(Array.isArray(o)){if(u=o.length,u!=l.length)return!1;for(h=u;h--!==0;)if(!i(o[h],l[h]))return!1;return!0}var m;if(e&&o instanceof Map&&l instanceof Map){if(o.size!==l.size)return!1;for(m=o.entries();!(h=m.next()).done;)if(!l.has(h.value[0]))return!1;for(m=o.entries();!(h=m.next()).done;)if(!i(h.value[1],l.get(h.value[0])))return!1;return!0}if(t&&o instanceof Set&&l instanceof Set){if(o.size!==l.size)return!1;for(m=o.entries();!(h=m.next()).done;)if(!l.has(h.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(l)){if(u=o.length,u!=l.length)return!1;for(h=u;h--!==0;)if(o[h]!==l[h])return!1;return!0}if(o.constructor===RegExp)return o.source===l.source&&o.flags===l.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof l.valueOf=="function")return o.valueOf()===l.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof l.toString=="function")return o.toString()===l.toString();if(f=Object.keys(o),u=f.length,u!==Object.keys(l).length)return!1;for(h=u;h--!==0;)if(!Object.prototype.hasOwnProperty.call(l,f[h]))return!1;if(n&&o instanceof Element)return!1;for(h=u;h--!==0;)if(!((f[h]==="_owner"||f[h]==="__v"||f[h]==="__o")&&o.$$typeof)&&!i(o[f[h]],l[f[h]]))return!1;return!0}return o!==o&&l!==l}return bm=function(l,u){try{return i(l,u)}catch(h){if((h.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw h}},bm}var pO=fO();const mO=Ts(pO);var xm,JE;function gO(){if(JE)return xm;JE=1;var n=function(e,t,r,i,o,l,u,h){if(!e){var f;if(t===void 0)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[r,i,o,l,u,h],y=0;f=new Error(t.replace(/%s/g,function(){return m[y++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}};return xm=n,xm}var yO=gO();const XE=Ts(yO);var Om,YE;function _O(){return YE||(YE=1,Om=function(e,t,r,i){var o=r?r.call(i,e,t):void 0;if(o!==void 0)return!!o;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var l=Object.keys(e),u=Object.keys(t);if(l.length!==u.length)return!1;for(var h=Object.prototype.hasOwnProperty.bind(t),f=0;f<l.length;f++){var m=l[f];if(!h(m))return!1;var y=e[m],w=t[m];if(o=r?r.call(i,y,w,m):void 0,o===!1||o===void 0&&y!==w)return!1}return!0}),Om}var vO=_O();const wO=Ts(vO);var eA=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(eA||{}),Dm={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},ZE=Object.values(eA),Ly={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},EO=Object.entries(Ly).reduce((n,[e,t])=>(n[t]=e,n),{}),_r="data-rh",Ja={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Xa=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},TO=n=>{let e=Xa(n,"title");const t=Xa(n,Ja.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=Xa(n,Ja.DEFAULT_TITLE);return e||r||void 0},SO=n=>Xa(n,Ja.ON_CHANGE_CLIENT_STATE)||(()=>{}),Nm=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,r)=>({...t,...r}),{}),IO=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const i=Object.keys(r);for(let o=0;o<i.length;o+=1){const u=i[o].toLowerCase();if(n.indexOf(u)!==-1&&r[u])return t.concat(r)}}return t},[]),AO=n=>console&&typeof console.warn=="function"&&console.warn(n),Pu=(n,e,t)=>{const r={};return t.filter(i=>Array.isArray(i[n])?!0:(typeof i[n]<"u"&&AO(`Helmet: ${n} should be of type "Array". Instead found type "${typeof i[n]}"`),!1)).map(i=>i[n]).reverse().reduce((i,o)=>{const l={};o.filter(h=>{let f;const m=Object.keys(h);for(let w=0;w<m.length;w+=1){const T=m[w],A=T.toLowerCase();e.indexOf(A)!==-1&&!(f==="rel"&&h[f].toLowerCase()==="canonical")&&!(A==="rel"&&h[A].toLowerCase()==="stylesheet")&&(f=A),e.indexOf(T)!==-1&&(T==="innerHTML"||T==="cssText"||T==="itemprop")&&(f=T)}if(!f||!h[f])return!1;const y=h[f].toLowerCase();return r[f]||(r[f]={}),l[f]||(l[f]={}),r[f][y]?!1:(l[f][y]=!0,!0)}).reverse().forEach(h=>i.push(h));const u=Object.keys(l);for(let h=0;h<u.length;h+=1){const f=u[h],m={...r[f],...l[f]};r[f]=m}return i},[]).reverse()},PO=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},CO=n=>({baseTag:IO(["href"],n),bodyAttributes:Nm("bodyAttributes",n),defer:Xa(n,Ja.DEFER),encode:Xa(n,Ja.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Nm("htmlAttributes",n),linkTags:Pu("link",["rel","href"],n),metaTags:Pu("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:Pu("noscript",["innerHTML"],n),onChangeClientState:SO(n),scriptTags:Pu("script",["src","innerHTML"],n),styleTags:Pu("style",["cssText"],n),title:TO(n),titleAttributes:Nm("titleAttributes",n),prioritizeSeoTags:PO(n,Ja.PRIORITIZE_SEO_TAGS)}),tA=n=>Array.isArray(n)?n.join(""):n,RO=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},Lm=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(RO(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},eT=(n,e)=>({...n,[e]:void 0}),kO=["noscript","script","style"],Eg=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),nA=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),bO=(n,e,t,r)=>{const i=nA(t),o=tA(e);return i?`<${n} ${_r}="true" ${i}>${Eg(o,r)}</${n}>`:`<${n} ${_r}="true">${Eg(o,r)}</${n}>`},xO=(n,e,t=!0)=>e.reduce((r,i)=>{const o=i,l=Object.keys(o).filter(f=>!(f==="innerHTML"||f==="cssText")).reduce((f,m)=>{const y=typeof o[m]>"u"?m:`${m}="${Eg(o[m],t)}"`;return f?`${f} ${y}`:y},""),u=o.innerHTML||o.cssText||"",h=kO.indexOf(n)===-1;return`${r}<${n} ${_r}="true" ${l}${h?"/>":`>${u}</${n}>`}`},""),rA=(n,e={})=>Object.keys(n).reduce((t,r)=>{const i=Ly[r];return t[i||r]=n[r],t},e),OO=(n,e,t)=>{const r={key:e,[_r]:!0},i=rA(t,r);return[Qe.createElement("title",i,e)]},Td=(n,e)=>e.map((t,r)=>{const i={key:r,[_r]:!0};return Object.keys(t).forEach(o=>{const u=Ly[o]||o;if(u==="innerHTML"||u==="cssText"){const h=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:h}}else i[u]=t[o]}),Qe.createElement(n,i)}),Wn=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>OO(n,e.title,e.titleAttributes),toString:()=>bO(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>rA(e),toString:()=>nA(e)};default:return{toComponent:()=>Td(n,e),toString:()=>xO(n,e,t)}}},DO=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const i=Lm(n,Dm.meta),o=Lm(e,Dm.link),l=Lm(t,Dm.script);return{priorityMethods:{toComponent:()=>[...Td("meta",i.priority),...Td("link",o.priority),...Td("script",l.priority)],toString:()=>`${Wn("meta",i.priority,r)} ${Wn("link",o.priority,r)} ${Wn("script",l.priority,r)}`},metaTags:i.default,linkTags:o.default,scriptTags:l.default}},NO=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:i,noscriptTags:o,styleTags:l,title:u="",titleAttributes:h,prioritizeSeoTags:f}=n;let{linkTags:m,metaTags:y,scriptTags:w}=n,T={toComponent:()=>{},toString:()=>""};return f&&({priorityMethods:T,linkTags:m,metaTags:y,scriptTags:w}=DO(n)),{priority:T,base:Wn("base",e,r),bodyAttributes:Wn("bodyAttributes",t,r),htmlAttributes:Wn("htmlAttributes",i,r),link:Wn("link",m,r),meta:Wn("meta",y,r),noscript:Wn("noscript",o,r),script:Wn("script",w,r),style:Wn("style",l,r),title:Wn("title",{title:u,titleAttributes:h},r)}},Tg=NO,nd=[],iA=!!(typeof window<"u"&&window.document&&window.document.createElement),Sg=class{constructor(n,e){hi(this,"instances",[]);hi(this,"canUseDOM",iA);hi(this,"context");hi(this,"value",{setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?nd:this.instances,add:n=>{(this.canUseDOM?nd:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?nd:this.instances).indexOf(n);(this.canUseDOM?nd:this.instances).splice(e,1)}}});this.context=n,this.canUseDOM=e||!1,e||(n.helmet=Tg({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},LO={},sA=Qe.createContext(LO),yo,VO=(yo=class extends V.Component{constructor(t){super(t);hi(this,"helmetData");this.helmetData=new Sg(this.props.context||{},yo.canUseDOM)}render(){return Qe.createElement(sA.Provider,{value:this.helmetData.value},this.props.children)}},hi(yo,"canUseDOM",iA),yo),Ra=(n,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${n}[${_r}]`),i=[].slice.call(r),o=[];let l;return e&&e.length&&e.forEach(u=>{const h=document.createElement(n);for(const f in u)if(Object.prototype.hasOwnProperty.call(u,f))if(f==="innerHTML")h.innerHTML=u.innerHTML;else if(f==="cssText")h.styleSheet?h.styleSheet.cssText=u.cssText:h.appendChild(document.createTextNode(u.cssText));else{const m=f,y=typeof u[m]>"u"?"":u[m];h.setAttribute(f,y)}h.setAttribute(_r,"true"),i.some((f,m)=>(l=m,h.isEqualNode(f)))?i.splice(l,1):o.push(h)}),i.forEach(u=>{var h;return(h=u.parentNode)==null?void 0:h.removeChild(u)}),o.forEach(u=>t.appendChild(u)),{oldTags:i,newTags:o}},Ig=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const r=t.getAttribute(_r),i=r?r.split(","):[],o=[...i],l=Object.keys(e);for(const u of l){const h=e[u]||"";t.getAttribute(u)!==h&&t.setAttribute(u,h),i.indexOf(u)===-1&&i.push(u);const f=o.indexOf(u);f!==-1&&o.splice(f,1)}for(let u=o.length-1;u>=0;u-=1)t.removeAttribute(o[u]);i.length===o.length?t.removeAttribute(_r):t.getAttribute(_r)!==l.join(",")&&t.setAttribute(_r,l.join(","))},MO=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=tA(n)),Ig("title",e)},tT=(n,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:i,linkTags:o,metaTags:l,noscriptTags:u,onChangeClientState:h,scriptTags:f,styleTags:m,title:y,titleAttributes:w}=n;Ig("body",r),Ig("html",i),MO(y,w);const T={baseTag:Ra("base",t),linkTags:Ra("link",o),metaTags:Ra("meta",l),noscriptTags:Ra("noscript",u),scriptTags:Ra("script",f),styleTags:Ra("style",m)},A={},b={};Object.keys(T).forEach(C=>{const{newTags:D,oldTags:H}=T[C];D.length&&(A[C]=D),H.length&&(b[C]=T[C].oldTags)}),e&&e(),h(n,A,b)},Cu=null,UO=n=>{Cu&&cancelAnimationFrame(Cu),n.defer?Cu=requestAnimationFrame(()=>{tT(n,()=>{Cu=null})}):(tT(n),Cu=null)},FO=UO,nT=class extends V.Component{constructor(){super(...arguments);hi(this,"rendered",!1)}shouldComponentUpdate(e){return!wO(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const i=CO(e.get().map(o=>{const l={...o.props};return delete l.context,l}));VO.canUseDOM?FO(i):Tg&&(r=Tg(i)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},_g,Kz=(_g=class extends V.Component{shouldComponentUpdate(n){return!mO(eT(this.props,"helmetData"),eT(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,r){return{...e,[n.type]:[...e[n.type]||[],{...t,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,e,t,r){switch(n.type){case"title":return{...e,[n.type]:r,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[n.type]:{...t}}}}mapArrayTypeChildrenToProps(n,e){let t={...e};return Object.keys(n).forEach(r=>{t={...t,[r]:n[r]}}),t}warnOnInvalidChildren(n,e){return XE(ZE.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${ZE.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),XE(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return Qe.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:i,...o}=r.props,l=Object.keys(o).reduce((h,f)=>(h[EO[f]||f]=o[f],h),{});let{type:u}=r;switch(typeof u=="symbol"?u=u.toString():this.warnOnInvalidChildren(r,i),u){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(r,t,l,i);break;default:e=this.mapObjectTypeChildren(r,e,l,i);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:n,...e}=this.props;let t={...e},{helmetData:r}=e;if(n&&(t=this.mapChildrenToProps(n,t)),r&&!(r instanceof Sg)){const i=r;r=new Sg(i.context,!0),delete t.helmetData}return r?Qe.createElement(nT,{...t,context:r.value}):Qe.createElement(sA.Consumer,null,i=>Qe.createElement(nT,{...t,context:i}))}},hi(_g,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),_g);function Md(){return Md=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Md.apply(null,arguments)}function Vy(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function Ag(n,e){return Ag=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Ag(n,e)}function My(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Ag(n,e)}function jO(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function $O(n,e){n.classList?n.classList.add(e):jO(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function rT(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function BO(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=rT(n.className,e):n.setAttribute("class",rT(n.className&&n.className.baseVal||"",e))}const iT={disabled:!1},Ud=Qe.createContext(null);var oA=function(e){return e.scrollTop},Ou="unmounted",so="exited",oo="entering",Ua="entered",Pg="exiting",Ii=function(n){My(e,n);function e(r,i){var o;o=n.call(this,r,i)||this;var l=i,u=l&&!l.isMounting?r.enter:r.appear,h;return o.appearStatus=null,r.in?u?(h=so,o.appearStatus=oo):h=Ua:r.unmountOnExit||r.mountOnEnter?h=Ou:h=so,o.state={status:h},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var l=i.in;return l&&o.status===Ou?{status:so}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var o=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==oo&&l!==Ua&&(o=oo):(l===oo||l===Ua)&&(o=Pg)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,o,l,u;return o=l=u=i,i!=null&&typeof i!="number"&&(o=i.exit,l=i.enter,u=i.appear!==void 0?i.appear:l),{exit:o,enter:l,appear:u}},t.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===oo){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:td.findDOMNode(this);l&&oA(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===so&&this.setState({status:Ou})},t.performEnter=function(i){var o=this,l=this.props.enter,u=this.context?this.context.isMounting:i,h=this.props.nodeRef?[u]:[td.findDOMNode(this),u],f=h[0],m=h[1],y=this.getTimeouts(),w=u?y.appear:y.enter;if(!i&&!l||iT.disabled){this.safeSetState({status:Ua},function(){o.props.onEntered(f)});return}this.props.onEnter(f,m),this.safeSetState({status:oo},function(){o.props.onEntering(f,m),o.onTransitionEnd(w,function(){o.safeSetState({status:Ua},function(){o.props.onEntered(f,m)})})})},t.performExit=function(){var i=this,o=this.props.exit,l=this.getTimeouts(),u=this.props.nodeRef?void 0:td.findDOMNode(this);if(!o||iT.disabled){this.safeSetState({status:so},function(){i.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:Pg},function(){i.props.onExiting(u),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:so},function(){i.props.onExited(u)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},t.setNextCallback=function(i){var o=this,l=!0;return this.nextCallback=function(u){l&&(l=!1,o.nextCallback=null,i(u))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(i,o){this.setNextCallback(o);var l=this.props.nodeRef?this.props.nodeRef.current:td.findDOMNode(this),u=i==null&&!this.props.addEndListener;if(!l||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],f=h[0],m=h[1];this.props.addEndListener(f,m)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Ou)return null;var o=this.props,l=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var u=Vy(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Qe.createElement(Ud.Provider,{value:null},typeof l=="function"?l(i,u):Qe.cloneElement(Qe.Children.only(l),u))},e}(Qe.Component);Ii.contextType=Ud;Ii.propTypes={};function ka(){}Ii.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ka,onEntering:ka,onEntered:ka,onExit:ka,onExiting:ka,onExited:ka};Ii.UNMOUNTED=Ou;Ii.EXITED=so;Ii.ENTERING=oo;Ii.ENTERED=Ua;Ii.EXITING=Pg;var zO=function(e,t){return e&&t&&t.split(" ").forEach(function(r){return $O(e,r)})},Vm=function(e,t){return e&&t&&t.split(" ").forEach(function(r){return BO(e,r)})},aA=function(n){My(e,n);function e(){for(var r,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=n.call.apply(n,[this].concat(o))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(u,h){var f=r.resolveArguments(u,h),m=f[0],y=f[1];r.removeClasses(m,"exit"),r.addClass(m,y?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(u,h)},r.onEntering=function(u,h){var f=r.resolveArguments(u,h),m=f[0],y=f[1],w=y?"appear":"enter";r.addClass(m,w,"active"),r.props.onEntering&&r.props.onEntering(u,h)},r.onEntered=function(u,h){var f=r.resolveArguments(u,h),m=f[0],y=f[1],w=y?"appear":"enter";r.removeClasses(m,w),r.addClass(m,w,"done"),r.props.onEntered&&r.props.onEntered(u,h)},r.onExit=function(u){var h=r.resolveArguments(u),f=h[0];r.removeClasses(f,"appear"),r.removeClasses(f,"enter"),r.addClass(f,"exit","base"),r.props.onExit&&r.props.onExit(u)},r.onExiting=function(u){var h=r.resolveArguments(u),f=h[0];r.addClass(f,"exit","active"),r.props.onExiting&&r.props.onExiting(u)},r.onExited=function(u){var h=r.resolveArguments(u),f=h[0];r.removeClasses(f,"exit"),r.addClass(f,"exit","done"),r.props.onExited&&r.props.onExited(u)},r.resolveArguments=function(u,h){return r.props.nodeRef?[r.props.nodeRef.current,u]:[u,h]},r.getClassNames=function(u){var h=r.props.classNames,f=typeof h=="string",m=f&&h?h+"-":"",y=f?""+m+u:h[u],w=f?y+"-active":h[u+"Active"],T=f?y+"-done":h[u+"Done"];return{baseClassName:y,activeClassName:w,doneClassName:T}},r}var t=e.prototype;return t.addClass=function(i,o,l){var u=this.getClassNames(o)[l+"ClassName"],h=this.getClassNames("enter"),f=h.doneClassName;o==="appear"&&l==="done"&&f&&(u+=" "+f),l==="active"&&i&&oA(i),u&&(this.appliedClasses[o][l]=u,zO(i,u))},t.removeClasses=function(i,o){var l=this.appliedClasses[o],u=l.base,h=l.active,f=l.done;this.appliedClasses[o]={},u&&Vm(i,u),h&&Vm(i,h),f&&Vm(i,f)},t.render=function(){var i=this.props;i.classNames;var o=Vy(i,["classNames"]);return Qe.createElement(Ii,Md({},o,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(Qe.Component);aA.defaultProps={classNames:""};aA.propTypes={};function HO(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Uy(n,e){var t=function(o){return e&&V.isValidElement(o)?e(o):o},r=Object.create(null);return n&&V.Children.map(n,function(i){return i}).forEach(function(i){r[i.key]=t(i)}),r}function qO(n,e){n=n||{},e=e||{};function t(m){return m in e?e[m]:n[m]}var r=Object.create(null),i=[];for(var o in n)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var l,u={};for(var h in e){if(r[h])for(l=0;l<r[h].length;l++){var f=r[h][l];u[r[h][l]]=t(f)}u[h]=t(h)}for(l=0;l<i.length;l++)u[i[l]]=t(i[l]);return u}function ho(n,e,t){return t[e]!=null?t[e]:n.props[e]}function WO(n,e){return Uy(n.children,function(t){return V.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:ho(t,"appear",n),enter:ho(t,"enter",n),exit:ho(t,"exit",n)})})}function KO(n,e,t){var r=Uy(n.children),i=qO(e,r);return Object.keys(i).forEach(function(o){var l=i[o];if(V.isValidElement(l)){var u=o in e,h=o in r,f=e[o],m=V.isValidElement(f)&&!f.props.in;h&&(!u||m)?i[o]=V.cloneElement(l,{onExited:t.bind(null,l),in:!0,exit:ho(l,"exit",n),enter:ho(l,"enter",n)}):!h&&u&&!m?i[o]=V.cloneElement(l,{in:!1}):h&&u&&V.isValidElement(f)&&(i[o]=V.cloneElement(l,{onExited:t.bind(null,l),in:f.props.in,exit:ho(l,"exit",n),enter:ho(l,"enter",n)}))}}),i}var GO=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},QO={component:"div",childFactory:function(e){return e}},lA=function(n){My(e,n);function e(r,i){var o;o=n.call(this,r,i)||this;var l=o.handleExited.bind(HO(o));return o.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},o}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var l=o.children,u=o.handleExited,h=o.firstRender;return{children:h?WO(i,u):KO(i,l,u),firstRender:!1}},t.handleExited=function(i,o){var l=Uy(this.props.children);i.key in l||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(u){var h=Md({},u.children);return delete h[i.key],{children:h}}))},t.render=function(){var i=this.props,o=i.component,l=i.childFactory,u=Vy(i,["component","childFactory"]),h=this.state.contextValue,f=GO(this.state.children).map(l);return delete u.appear,delete u.enter,delete u.exit,o===null?Qe.createElement(Ud.Provider,{value:h},f):Qe.createElement(Ud.Provider,{value:h},Qe.createElement(o,u,f))},e}(Qe.Component);lA.propTypes={};lA.defaultProps=QO;const JO="modulepreload",XO=function(n){return"/AussieGutPack/"+n},sT={},rl=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(t.map(h=>{if(h=XO(h),h in sT)return;sT[h]=!0;const f=h.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const y=document.createElement("link");if(y.rel=f?"stylesheet":JO,f||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),f)return new Promise((w,T)=>{y.addEventListener("load",w),y.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},YO=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>rl(async()=>{const{default:r}=await Promise.resolve().then(()=>yl);return{default:r}},[]).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class Fy extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class ZO extends Fy{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class eD extends Fy{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class tD extends Fy{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Cg;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Cg||(Cg={}));var nD=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(m){try{f(r.next(m))}catch(y){l(y)}}function h(m){try{f(r.throw(m))}catch(y){l(y)}}function f(m){m.done?o(m.value):i(m.value).then(u,h)}f((r=r.apply(n,e||[])).next())})};class rD{constructor(e,{headers:t={},customFetch:r,region:i=Cg.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=YO(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return nD(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:l}=t;let u={},{region:h}=t;h||(h=this.region),h&&h!=="any"&&(u["x-region"]=h);let f;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=l):typeof l=="string"?(u["Content-Type"]="text/plain",f=l):typeof FormData<"u"&&l instanceof FormData?f=l:(u["Content-Type"]="application/json",f=JSON.stringify(l)));const m=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:f}).catch(A=>{throw new ZO(A)}),y=m.headers.get("x-relay-error");if(y&&y==="true")throw new eD(m);if(!m.ok)throw new tD(m);let w=((r=m.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),T;return w==="application/json"?T=yield m.json():w==="application/octet-stream"?T=yield m.blob():w==="text/event-stream"?T=m:w==="multipart/form-data"?T=yield m.formData():T=yield m.text(),{data:T,error:null}}catch(i){return{data:null,error:i}}})}}var Dt={},ba={},xa={},Oa={},Da={},Na={},iD=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},il=iD();const sD=il.fetch,uA=il.fetch.bind(il),cA=il.Headers,oD=il.Request,aD=il.Response,yl=Object.freeze(Object.defineProperty({__proto__:null,Headers:cA,Request:oD,Response:aD,default:uA,fetch:sD},Symbol.toStringTag,{value:"Module"})),lD=Db(yl);var rd={},oT;function hA(){if(oT)return rd;oT=1,Object.defineProperty(rd,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return rd.default=n,rd}var aT;function dA(){if(aT)return Na;aT=1;var n=Na&&Na.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Na,"__esModule",{value:!0});const e=n(lD),t=n(hA());class r{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=Object.assign({},this.headers),this.headers[o]=l,this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let h=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var m,y,w;let T=null,A=null,b=null,C=f.status,D=f.statusText;if(f.ok){if(this.method!=="HEAD"){const Q=await f.text();Q===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?A=Q:A=JSON.parse(Q))}const F=(m=this.headers.Prefer)===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),G=(y=f.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");F&&G&&G.length>1&&(b=parseInt(G[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(T={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,b=null,C=406,D="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const F=await f.text();try{T=JSON.parse(F),Array.isArray(T)&&f.status===404&&(A=[],T=null,C=200,D="OK")}catch{f.status===404&&F===""?(C=204,D="No Content"):T={message:F}}if(T&&this.isMaybeSingle&&(!((w=T==null?void 0:T.details)===null||w===void 0)&&w.includes("0 rows"))&&(T=null,C=200,D="OK"),T&&this.shouldThrowOnError)throw new t.default(T)}return{error:T,data:A,count:b,status:C,statusText:D}});return this.shouldThrowOnError||(h=h.catch(f=>{var m,y,w;return{error:{message:`${(m=f==null?void 0:f.name)!==null&&m!==void 0?m:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(y=f==null?void 0:f.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(w=f==null?void 0:f.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),h.then(o,l)}returns(){return this}overrideTypes(){return this}}return Na.default=r,Na}var lT;function fA(){if(lT)return Da;lT=1;var n=Da&&Da.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Da,"__esModule",{value:!0});const e=n(dA());class t extends e.default{select(i){let o=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:h=u}={}){const f=h?`${h}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${i}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,o,{foreignTable:l,referencedTable:u=l}={}){const h=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${i}`),this.url.searchParams.set(f,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:h=!1,format:f="text"}={}){var m;const y=[i?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,h?"wal":null].filter(Boolean).join("|"),w=(m=this.headers.Accept)!==null&&m!==void 0?m:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${w}"; options=${y};`,f==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Da.default=t,Da}var uT;function jy(){if(uT)return Oa;uT=1;var n=Oa&&Oa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Oa,"__esModule",{value:!0});const e=n(fA());class t extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:u}={}){let h="";u==="plain"?h="pl":u==="phrase"?h="ph":u==="websearch"&&(h="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${h}fts${f}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return Oa.default=t,Oa}var cT;function pA(){if(cT)return xa;cT=1;var n=xa&&xa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xa,"__esModule",{value:!0});const e=n(jy());class t{constructor(i,{headers:o={},schema:l,fetch:u}){this.url=i,this.headers=o,this.schema=l,this.fetch=u}select(i,{head:o=!1,count:l}={}){const u=o?"HEAD":"GET";let h=!1;const f=(i??"*").split("").map(m=>/\s/.test(m)&&!h?"":(m==='"'&&(h=!h),m)).join("");return this.url.searchParams.set("select",f),l&&(this.headers.Prefer=`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:o,defaultToNull:l=!0}={}){const u="POST",h=[];if(this.headers.Prefer&&h.push(this.headers.Prefer),o&&h.push(`count=${o}`),l||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(i)){const f=i.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(f.length>0){const m=[...new Set(f)].map(y=>`"${y}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:h=!0}={}){const f="POST",m=[`resolution=${l?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),h||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(i)){const y=i.reduce((w,T)=>w.concat(Object.keys(T)),[]);if(y.length>0){const w=[...new Set(y)].map(T=>`"${T}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:o}={}){const l="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),o&&u.push(`count=${o}`),this.headers.Prefer=u.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const o="DELETE",l=[];return i&&l.push(`count=${i}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return xa.default=t,xa}var Ru={},ku={},hT;function uD(){return hT||(hT=1,Object.defineProperty(ku,"__esModule",{value:!0}),ku.version=void 0,ku.version="0.0.0-automated"),ku}var dT;function cD(){if(dT)return Ru;dT=1,Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.DEFAULT_HEADERS=void 0;const n=uD();return Ru.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},Ru}var fT;function hD(){if(fT)return ba;fT=1;var n=ba&&ba.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ba,"__esModule",{value:!0});const e=n(pA()),t=n(jy()),r=cD();class i{constructor(l,{headers:u={},schema:h,fetch:f}={}){this.url=l,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),u),this.schemaName=h,this.fetch=f}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new i(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:h=!1,get:f=!1,count:m}={}){let y;const w=new URL(`${this.url}/rpc/${l}`);let T;h||f?(y=h?"HEAD":"GET",Object.entries(u).filter(([b,C])=>C!==void 0).map(([b,C])=>[b,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([b,C])=>{w.searchParams.append(b,C)})):(y="POST",T=u);const A=Object.assign({},this.headers);return m&&(A.Prefer=`count=${m}`),new t.default({method:y,url:w,headers:A,schema:this.schemaName,body:T,fetch:this.fetch,allowEmpty:!1})}}return ba.default=i,ba}var pT;function dD(){if(pT)return Dt;pT=1;var n=Dt&&Dt.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.PostgrestError=Dt.PostgrestBuilder=Dt.PostgrestTransformBuilder=Dt.PostgrestFilterBuilder=Dt.PostgrestQueryBuilder=Dt.PostgrestClient=void 0;const e=n(hD());Dt.PostgrestClient=e.default;const t=n(pA());Dt.PostgrestQueryBuilder=t.default;const r=n(jy());Dt.PostgrestFilterBuilder=r.default;const i=n(fA());Dt.PostgrestTransformBuilder=i.default;const o=n(dA());Dt.PostgrestBuilder=o.default;const l=n(hA());return Dt.PostgrestError=l.default,Dt.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:l.default},Dt}var fD=dD();const pD=Ts(fD),{PostgrestClient:mD,PostgrestQueryBuilder:Gz,PostgrestFilterBuilder:Qz,PostgrestTransformBuilder:Jz,PostgrestBuilder:Xz,PostgrestError:Yz}=pD,gD="2.11.2",yD={"X-Client-Info":`realtime-js/${gD}`},_D="1.0.0",mA=1e4,vD=1e3;var Ya;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Ya||(Ya={}));var xn;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(xn||(xn={}));var yr;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(yr||(yr={}));var Rg;(function(n){n.websocket="websocket"})(Rg||(Rg={}));var co;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(co||(co={}));class wD{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const i=t.getUint8(1),o=t.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(e.slice(l,l+i));l=l+i;const h=r.decode(e.slice(l,l+o));l=l+o;const f=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:u,event:h,payload:f}}}class gA{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ge||(Ge={}));const mT=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,l)=>(o[l]=ED(l,n,e,i),o),{})},ED=(n,e,t,r)=>{const i=e.find(u=>u.name===n),o=i==null?void 0:i.type,l=t[n];return o&&!r.includes(o)?yA(o,l):kg(l)},yA=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return AD(e,t)}switch(n){case Ge.bool:return TD(e);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return SD(e);case Ge.json:case Ge.jsonb:return ID(e);case Ge.timestamp:return PD(e);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return kg(e);default:return kg(e)}},kg=n=>n,TD=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},SD=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},ID=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},AD=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let o;const l=n.slice(1,t);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>yA(e,u))}return n},PD=n=>typeof n=="string"?n.replace(" ","T"):n,_A=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Mm{constructor(e,t,r={},i=mA){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var gT;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(gT||(gT={}));class Bu{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bu.syncState(this.state,i,o,l),this.pendingDiffs.forEach(h=>{this.state=Bu.syncDiff(this.state,h,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Bu.syncDiff(this.state,i,o,l),u())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const o=this.cloneDeep(e),l=this.transformState(t),u={},h={};return this.map(o,(f,m)=>{l[f]||(h[f]=m)}),this.map(l,(f,m)=>{const y=o[f];if(y){const w=m.map(C=>C.presence_ref),T=y.map(C=>C.presence_ref),A=m.filter(C=>T.indexOf(C.presence_ref)<0),b=y.filter(C=>w.indexOf(C.presence_ref)<0);A.length>0&&(u[f]=A),b.length>0&&(h[f]=b)}else u[f]=m}),this.syncDiff(o,{joins:u,leaves:h},r,i)}static syncDiff(e,t,r,i){const{joins:o,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(u,h)=>{var f;const m=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(h),m.length>0){const y=e[u].map(T=>T.presence_ref),w=m.filter(T=>y.indexOf(T.presence_ref)<0);e[u].unshift(...w)}r(u,m,h)}),this.map(l,(u,h)=>{let f=e[u];if(!f)return;const m=h.map(y=>y.presence_ref);f=f.filter(y=>m.indexOf(y.presence_ref)<0),e[u]=f,i(u,f,h),f.length===0&&delete e[u]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yT;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(yT||(yT={}));var _T;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(_T||(_T={}));var di;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(di||(di={}));class $y{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=xn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Mm(this,yr.join,this.params,this.timeout),this.rejoinTimer=new gA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=xn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yr.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Bu(this),this.broadcastEndpointURL=_A(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:l,private:u}}=this.params;this._onError(m=>e==null?void 0:e(di.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(di.CLOSED));const h={},f={broadcast:o,presence:l,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket.setAuth(),m===void 0){e==null||e(di.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,T=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,A=[];for(let b=0;b<T;b++){const C=w[b],{filter:{event:D,schema:H,table:F,filter:G}}=C,Q=m&&m[b];if(Q&&Q.event===D&&Q.schema===H&&Q.table===F&&Q.filter===G)A.push(Object.assign(Object.assign({},C),{id:Q.id}));else{this.unsubscribe(),e==null||e(di.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(di.SUBSCRIBED);return}}).receive("error",m=>{e==null||e(di.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(di.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:l}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,h;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=xn.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new Mm(this,yr.leave,{},e);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,t,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),l}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Mm(this,e,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,o;const l=e.toLocaleLowerCase(),{close:u,error:h,leave:f,join:m}=yr;if(r&&[u,h,f,m].indexOf(l)>=0&&r!==this._joinRef())return;let w=this._onMessage(l,t,r);if(t&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(T=>{var A,b,C;return((A=T.filter)===null||A===void 0?void 0:A.event)==="*"||((C=(b=T.filter)===null||b===void 0?void 0:b.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===l}).map(T=>T.callback(w,r)):(o=this.bindings[l])===null||o===void 0||o.filter(T=>{var A,b,C,D,H,F;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in T){const G=T.id,Q=(A=T.filter)===null||A===void 0?void 0:A.event;return G&&((b=t.ids)===null||b===void 0?void 0:b.includes(G))&&(Q==="*"||(Q==null?void 0:Q.toLocaleLowerCase())===((C=t.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const G=(H=(D=T==null?void 0:T.filter)===null||D===void 0?void 0:D.event)===null||H===void 0?void 0:H.toLocaleLowerCase();return G==="*"||G===((F=t==null?void 0:t.event)===null||F===void 0?void 0:F.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===l}).map(T=>{if(typeof w=="object"&&"ids"in w){const A=w.data,{schema:b,table:C,commit_timestamp:D,type:H,errors:F}=A;w=Object.assign(Object.assign({},{schema:b,table:C,commit_timestamp:D,eventType:H,new:{},old:{},errors:F}),this._getPayloadRecords(A))}T.callback(w,r)})}_isClosed(){return this.state===xn.closed}_isJoined(){return this.state===xn.joined}_isJoining(){return this.state===xn.joining}_isLeaving(){return this.state===xn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&$y.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(yr.close,{},e)}_onError(e){this._on(yr.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=mT(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=mT(e.columns,e.old_record)),t}}const CD=()=>{},RD=typeof WebSocket<"u",kD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bD{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=yD,this.params={},this.timeout=mA,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=CD,this.conn=null,this.sendBuffer=[],this.serializer=new wD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...u)=>rl(async()=>{const{default:h}=await Promise.resolve().then(()=>yl);return{default:h}},void 0).then(({default:h})=>h(...u)):l=fetch,(...u)=>l(...u)},this.endPoint=`${e}/${Rg.websocket}`,this.httpEndpoint=_A(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(o,l)=>l(JSON.stringify(o)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new gA(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(RD){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new xD(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),rl(async()=>{const{default:e}=await Promise.resolve().then(()=>Fz);return{default:e}},void 0).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_D}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ya.connecting:return co.Connecting;case Ya.open:return co.Open;case Ya.closing:return co.Closing;default:return co.Closed}}isConnected(){return this.connectionState()===co.Open}channel(e,t={config:{}}){const r=new $y(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:i,ref:o}=e,l=()=>{this.encode(e,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let r=null;try{r=JSON.parse(atob(t.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=t,this.channels.forEach(i=>{t&&i.updateJoinPayload({access_token:t}),i.joinedOnce&&i._isJoined()&&i._push(yr.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(vD,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:i,payload:o,ref:l}=t;l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${l&&"("+l+")"||""}`,o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,l)),this.stateChangeCallbacks.message.forEach(u=>u(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(yr.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([kD],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class xD{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ya.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}let By=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Nt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class OD extends By{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class bg extends By{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var DD=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(m){try{f(r.next(m))}catch(y){l(y)}}function h(m){try{f(r.throw(m))}catch(y){l(y)}}function f(m){m.done?o(m.value):i(m.value).then(u,h)}f((r=r.apply(n,e||[])).next())})};const vA=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>rl(async()=>{const{default:r}=await Promise.resolve().then(()=>yl);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},ND=()=>DD(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield rl(()=>Promise.resolve().then(()=>yl),void 0)).Response:Response}),xg=n=>{if(Array.isArray(n))return n.map(t=>xg(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=xg(r)}),e};var Ro=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(m){try{f(r.next(m))}catch(y){l(y)}}function h(m){try{f(r.throw(m))}catch(y){l(y)}}function f(m){m.done?o(m.value):i(m.value).then(u,h)}f((r=r.apply(n,e||[])).next())})};const Um=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),LD=(n,e,t)=>Ro(void 0,void 0,void 0,function*(){const r=yield ND();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(i=>{e(new OD(Um(i),n.status||500))}).catch(i=>{e(new bg(Um(i),i))}):e(new bg(Um(n),n))}),VD=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function Ic(n,e,t,r,i,o){return Ro(this,void 0,void 0,function*(){return new Promise((l,u)=>{n(t,VD(e,r,i,o)).then(h=>{if(!h.ok)throw h;return r!=null&&r.noResolveJson?h:h.json()}).then(h=>l(h)).catch(h=>LD(h,u,r))})})}function Fd(n,e,t,r){return Ro(this,void 0,void 0,function*(){return Ic(n,"GET",e,t,r)})}function es(n,e,t,r,i){return Ro(this,void 0,void 0,function*(){return Ic(n,"POST",e,r,i,t)})}function MD(n,e,t,r,i){return Ro(this,void 0,void 0,function*(){return Ic(n,"PUT",e,r,i,t)})}function UD(n,e,t,r){return Ro(this,void 0,void 0,function*(){return Ic(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function wA(n,e,t,r,i){return Ro(this,void 0,void 0,function*(){return Ic(n,"DELETE",e,r,i,t)})}var _n=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(m){try{f(r.next(m))}catch(y){l(y)}}function h(m){try{f(r.throw(m))}catch(y){l(y)}}function f(m){m.done?o(m.value):i(m.value).then(u,h)}f((r=r.apply(n,e||[])).next())})};const FD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jD{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=vA(i)}uploadOrUpdate(e,t,r,i){return _n(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},vT),i);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const h=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),h&&o.append("metadata",this.encodeMetadata(h)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),h&&o.append("metadata",this.encodeMetadata(h))):(o=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,h&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const f=this._removeEmptyFolders(t),m=this._getFinalPath(f),y=yield this.fetch(`${this.url}/object/${m}`,Object.assign({method:e,body:o,headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{})),w=yield y.json();return y.ok?{data:{path:f,id:w.Id,fullPath:w.Key},error:null}:{data:null,error:w}}catch(o){if(Nt(o))return{data:null,error:o};throw o}})}upload(e,t,r){return _n(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return _n(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",t);try{let h;const f=Object.assign({upsert:vT.upsert},i),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",f.cacheControl)):(h=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const y=yield this.fetch(u.toString(),{method:"PUT",body:h,headers:m}),w=yield y.json();return y.ok?{data:{path:o,fullPath:w.Key},error:null}:{data:null,error:w}}catch(h){if(Nt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,t){return _n(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const o=yield es(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new By("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(r){if(Nt(r))return{data:null,error:r};throw r}})}update(e,t,r){return _n(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return _n(this,void 0,void 0,function*(){try{return{data:yield es(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Nt(i))return{data:null,error:i};throw i}})}copy(e,t,r){return _n(this,void 0,void 0,function*(){try{return{data:{path:(yield es(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Nt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return _n(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield es(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(Nt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return _n(this,void 0,void 0,function*(){try{const i=yield es(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(Nt(i))return{data:null,error:i};throw i}})}download(e,t){return _n(this,void 0,void 0,function*(){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),l=o?`?${o}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield Fd(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(Nt(u))return{data:null,error:u};throw u}})}info(e){return _n(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield Fd(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:xg(r),error:null}}catch(r){if(Nt(r))return{data:null,error:r};throw r}})}exists(e){return _n(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield UD(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Nt(r)&&r instanceof bg){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],o=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);const u=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});h!==""&&i.push(h);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(e){return _n(this,void 0,void 0,function*(){try{return{data:yield wA(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Nt(t))return{data:null,error:t};throw t}})}list(e,t,r){return _n(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},FD),t),{prefix:e||""});return{data:yield es(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Nt(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const $D="2.7.1",BD={"X-Client-Info":`storage-js/${$D}`};var La=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(m){try{f(r.next(m))}catch(y){l(y)}}function h(m){try{f(r.throw(m))}catch(y){l(y)}}function f(m){m.done?o(m.value):i(m.value).then(u,h)}f((r=r.apply(n,e||[])).next())})};class zD{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},BD),t),this.fetch=vA(r)}listBuckets(){return La(this,void 0,void 0,function*(){try{return{data:yield Fd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Nt(e))return{data:null,error:e};throw e}})}getBucket(e){return La(this,void 0,void 0,function*(){try{return{data:yield Fd(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Nt(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return La(this,void 0,void 0,function*(){try{return{data:yield es(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Nt(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return La(this,void 0,void 0,function*(){try{return{data:yield MD(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Nt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return La(this,void 0,void 0,function*(){try{return{data:yield es(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Nt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return La(this,void 0,void 0,function*(){try{return{data:yield wA(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Nt(t))return{data:null,error:t};throw t}})}}class HD extends zD{constructor(e,t={},r){super(e,t,r)}from(e){return new jD(this.url,this.headers,e,this.fetch)}}const qD="2.49.8";let Du="";typeof Deno<"u"?Du="deno":typeof document<"u"?Du="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Du="react-native":Du="node";const WD={"X-Client-Info":`supabase-js-${Du}/${qD}`},KD={headers:WD},GD={schema:"public"},QD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},JD={};var XD=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(m){try{f(r.next(m))}catch(y){l(y)}}function h(m){try{f(r.throw(m))}catch(y){l(y)}}function f(m){m.done?o(m.value):i(m.value).then(u,h)}f((r=r.apply(n,e||[])).next())})};const YD=n=>{let e;return n?e=n:typeof fetch>"u"?e=uA:e=fetch,(...t)=>e(...t)},ZD=()=>typeof Headers>"u"?cA:Headers,eN=(n,e,t)=>{const r=YD(t),i=ZD();return(o,l)=>XD(void 0,void 0,void 0,function*(){var u;const h=(u=yield e())!==null&&u!==void 0?u:n;let f=new i(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",n),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),r(o,Object.assign(Object.assign({},l),{headers:f}))})};var tN=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(m){try{f(r.next(m))}catch(y){l(y)}}function h(m){try{f(r.throw(m))}catch(y){l(y)}}function f(m){m.done?o(m.value):i(m.value).then(u,h)}f((r=r.apply(n,e||[])).next())})};function nN(n){return n.endsWith("/")?n:n+"/"}function rN(n,e){var t,r;const{db:i,auth:o,realtime:l,global:u}=n,{db:h,auth:f,realtime:m,global:y}=e,w={db:Object.assign(Object.assign({},h),i),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},m),l),global:Object.assign(Object.assign(Object.assign({},y),u),{headers:Object.assign(Object.assign({},(t=y==null?void 0:y.headers)!==null&&t!==void 0?t:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>tN(this,void 0,void 0,function*(){return""})};return n.accessToken?w.accessToken=n.accessToken:delete w.accessToken,w}const EA="2.69.1",Fa=30*1e3,Og=3,Fm=Og*Fa,iN="http://localhost:9999",sN="supabase.auth.token",oN={"X-Client-Info":`gotrue-js/${EA}`},Dg="X-Supabase-Api-Version",TA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},aN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lN=6e5;class zy extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function Pe(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class uN extends zy{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function cN(n){return Pe(n)&&n.name==="AuthApiError"}class SA extends zy{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Is extends zy{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}}class Xi extends Is{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hN(n){return Pe(n)&&n.name==="AuthSessionMissingError"}class jm extends Is{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class id extends Is{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class sd extends Is{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dN(n){return Pe(n)&&n.name==="AuthImplicitGrantRedirectError"}class wT extends Is{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ng extends Is{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function $m(n){return Pe(n)&&n.name==="AuthRetryableFetchError"}class ET extends Is{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class zu extends Is{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const TT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ST=` 	
\r=`.split(""),fN=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<ST.length;e+=1)n[ST[e].charCodeAt(0)]=-2;for(let e=0;e<TT.length;e+=1)n[TT[e].charCodeAt(0)]=e;return n})();function IA(n,e,t){const r=fN[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function IT(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{gN(l,r,t)};for(let l=0;l<n.length;l+=1)IA(n.charCodeAt(l),i,o);return e.join("")}function pN(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function mN(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}pN(r,e)}}function gN(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if(!(n>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function yN(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)IA(n.charCodeAt(i),t,r);return new Uint8Array(e)}function _N(n){const e=[];return mN(n,t=>e.push(t)),new Uint8Array(e)}function vN(n){return Math.round(Date.now()/1e3)+n}function wN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Nr=()=>typeof window<"u"&&typeof document<"u",ro={tested:!1,writable:!1},Hu=()=>{if(!Nr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ro.tested)return ro.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ro.tested=!0,ro.writable=!0}catch{ro.tested=!0,ro.writable=!1}return ro.writable};function EN(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const AA=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>rl(async()=>{const{default:r}=await Promise.resolve().then(()=>yl);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},TN=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",PA=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},od=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},ad=async(n,e)=>{await n.removeItem(e)};let CA=class RA{constructor(){this.promise=new RA.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};CA.promiseConstructor=Promise;function Bm(n){const e=n.split(".");if(e.length!==3)throw new zu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!aN.test(e[r]))throw new zu("JWT not in base64url format");return{header:JSON.parse(IT(e[0])),payload:JSON.parse(IT(e[1])),signature:yN(e[2]),raw:{header:e[0],payload:e[1]}}}async function SN(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function IN(n,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await n(o);if(!e(o,null,l)){r(l);return}}catch(l){if(!e(o,l)){i(l);return}}})()})}function AN(n){return("0"+n.toString(16)).substr(-2)}function PN(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,AN).join("")}async function CN(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function RN(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await CN(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Va(n,e,t=!1){const r=PN();let i=r;t&&(i+="/PASSWORD_RECOVERY"),await PA(n,`${e}-code-verifier`,i);const o=await RN(r);return[o,r===o?"plain":"s256"]}const kN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bN(n){const e=n.headers.get(Dg);if(!e||!e.match(kN))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function xN(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function ON(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var DN=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const ao=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),NN=[502,503,504];async function AT(n){var e;if(!TN(n))throw new Ng(ao(n),0);if(NN.includes(n.status))throw new Ng(ao(n),n.status);let t;try{t=await n.json()}catch(o){throw new SA(ao(o),o)}let r;const i=bN(n);if(i&&i.getTime()>=TA["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new ET(ao(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Xi}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new ET(ao(t),n.status,t.weak_password.reasons);throw new uN(ao(t),n.status||500,r)}const LN=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function xe(n,e,t,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Dg]||(o[Dg]=TA["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",h=await VN(n,e,t+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(h):{data:Object.assign({},h),error:null}}async function VN(n,e,t,r,i,o){const l=LN(e,r,i,o);let u;try{u=await n(t,Object.assign({},l))}catch(h){throw console.error(h),new Ng(ao(h),0)}if(u.ok||await AT(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(h){await AT(h)}}function Yi(n){var e;let t=null;jN(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=vN(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function PT(n){const e=Yi(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function ts(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function MN(n){return{data:n,error:null}}function UN(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=n,l=DN(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},h=Object.assign({},l);return{data:{properties:u,user:h},error:null}}function FN(n){return n}function jN(n){return n.access_token&&n.refresh_token&&n.expires_in}var $N=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class BN{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=AA(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ts})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=$N(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:UN,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Pe(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ts})}catch(t){if(Pe(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,i,o,l,u,h;try{const f={nextPage:null,lastPage:0,total:0},m=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:FN});if(m.error)throw m.error;const y=await m.json(),w=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,T=(h=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return T.length>0&&(T.forEach(A=>{const b=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(A.split(";")[1].split("=")[1]);f[`${C}Page`]=b}),f.total=parseInt(w)),{data:Object.assign(Object.assign({},y),f),error:null}}catch(f){if(Pe(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ts})}catch(t){if(Pe(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ts})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ts})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await xe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Pe(t))return{data:null,error:t};throw t}}}const zN={getItem:n=>Hu()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{Hu()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{Hu()&&globalThis.localStorage.removeItem(n)}};function CT(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function HN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ma={debug:!!(globalThis&&Hu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kA extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class qN extends kA{}async function WN(n,e,t){Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new qN(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Ma.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}HN();const KN={url:iN,storageKey:sN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function RT(n,e,t){return await t()}class rc{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=rc.nextInstanceID,rc.nextInstanceID+=1,this.instanceID>0&&Nr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},KN),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new BN({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=AA(i.fetch),this.lock=i.lock||RT,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Nr()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=WN:this.lock=RT,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Hu()?this.storage=zN:(this.memoryStorage={},this.storage=CT(this.memoryStorage)):(this.memoryStorage={},this.storage=CT(this.memoryStorage)),Nr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${EA}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=EN(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),Nr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(t,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),dN(o)){const h=(e=o.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Pe(t)?{error:t}:{error:new SA("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,i;try{const o=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Yi}),{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const h=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(o){if(Pe(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var t,r,i;try{let o;if("email"in e){const{email:m,password:y,options:w}=e;let T=null,A=null;this.flowType==="pkce"&&([T,A]=await Va(this.storage,this.storageKey)),o=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:m,password:y,data:(t=w==null?void 0:w.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:T,code_challenge_method:A},xform:Yi})}else if("phone"in e){const{phone:m,password:y,options:w}=e;o=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:y,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},channel:(i=w==null?void 0:w.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Yi})}else throw new id("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const h=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(o){if(Pe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:l,options:u}=e;t=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:PT})}else if("phone"in e){const{phone:o,password:l,options:u}=e;t=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:PT})}else throw new id("You must provide either an email or phone number and a password");const{data:r,error:i}=t;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new jm}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await od(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(t??"").split("/");try{const{data:o,error:l}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Yi});if(await ad(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new jm}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(Pe(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:t,provider:r,token:i,access_token:o,nonce:l}=e,u=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Yi}),{data:h,error:f}=u;return f?{data:{user:null,session:null},error:f}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new jm}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:f})}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,i,o,l;try{if("email"in e){const{email:u,options:h}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Va(this.storage,this.storageKey));const{error:y}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},create_user:(r=h==null?void 0:h.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:u,options:h}=e,{data:f,error:m}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=h==null?void 0:h.data)!==null&&i!==void 0?i:{},create_user:(o=h==null?void 0:h.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(l=h==null?void 0:h.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m}}throw new id("You must provide either an email or phone number.")}catch(u){if(Pe(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var t,r;try{let i,o;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Yi});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const h=l.session,f=l.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(i){if(Pe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,r,i;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await Va(this.storage,this.storageKey)),await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:MN})}catch(o){if(Pe(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Xi;const{error:i}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Pe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:l}=await xe(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:l,error:u}=await xe(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new id("You must provide either an email or phone number and a type")}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await od(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Fm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(h,f,m)=>(!l&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,f,m))})}return{data:{session:e},error:null}}const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ts}):await this._useSession(async t=>{var r,i,o;const{data:l,error:u}=t;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xi}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:ts})})}catch(t){if(Pe(t))return hN(t)&&(await this._removeSession(),await ad(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Xi;const l=i.session;let u=null,h=null;this.flowType==="pkce"&&e.email!=null&&([u,h]=await Va(this.storage,this.storageKey));const{data:f,error:m}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:h}),jwt:l.access_token,xform:ts});if(m)throw m;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Xi;const t=Date.now()/1e3;let r=t,i=!0,o=null;const{payload:l}=Bm(e.access_token);if(l.exp&&(r=l.exp,i=r<=t),i){const{session:u,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:h}=await this._getUser(e.access_token);if(h)throw h;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(t){if(Pe(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:l,error:u}=t;if(u)throw u;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Xi;const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Nr())throw new sd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new sd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new wT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sd("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new wT("No code detected.");const{data:H,error:F}=await this._exchangeCodeForSession(e.code);if(F)throw F;const G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:H.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:u,expires_at:h,token_type:f}=e;if(!o||!u||!l||!f)throw new sd("No session defined in URL");const m=Math.round(Date.now()/1e3),y=parseInt(u);let w=m+y;h&&(w=parseInt(h));const T=w-m;T*1e3<=Fa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${y}s`);const A=w-y;m-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,w,m):m-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,w,m);const{data:b,error:C}=await this._getUser(o);if(C)throw C;const D={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:y,expires_at:w,refresh_token:l,token_type:f,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:D,redirectType:e.type},error:null}}catch(r){if(Pe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await od(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:o}=t;if(o)return{error:o};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(cN(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await ad(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=wN(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{const{data:{session:o},error:l}=t;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Va(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(Pe(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:i}=await this._useSession(async o=>{var l,u,h,f,m;const{data:y,error:w}=o;if(w)throw w;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",T,{headers:this.headers,jwt:(m=(f=y.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(i)throw i;return Nr()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Pe(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,i;const{data:o,error:l}=t;if(l)throw l;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await IN(async i=>(i>0&&await SN(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Yi})),(i,o)=>{const l=200*Math.pow(2,i);return o&&$m(o)&&Date.now()+l-r<Fa})}catch(r){if(this._debug(t,"error",r),Pe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Nr()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await od(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Fm;if(this._debug(t,`session has${i?"":" not"} expired with margin of ${Fm}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),$m(o)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(t,"error",r),console.error(r);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Xi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new CA;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new Xi;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={session:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),Pe(o)){const l={session:null,error:o};return $m(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,t)}catch(h){o.push(h)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await PA(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ad(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Nr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Fa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Fa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Fa}ms, refresh threshold is ${Og} ticks`),i<=Og&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof kA)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const i=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await Va(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:i,error:o}=t;return o?{data:null,error:o}:await xe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;const{data:o,error:l}=t;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:h,error:f}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&(!((i=h==null?void 0:h.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:o}=t;if(o)return{data:null,error:o};const{data:l,error:u}=await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(t){if(Pe(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:o}=t;return o?{data:null,error:o}:await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(Pe(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],i=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),o=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:i},error:o}=e;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Bm(i.access_token);let u=null;l.aal&&(u=l.aal);let h=u;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(h="aal2");const m=l.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(l=>l.kid===e);if(r||(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+lN>Date.now()))return r;const{data:i,error:o}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!i.keys||i.keys.length===0)throw new zu("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(l=>l.kid===e),!r)throw new zu("No matching signing key found in JWKS");return r}async getClaims(e,t={keys:[]}){try{let r=e;if(!r){const{data:T,error:A}=await this.getSession();if(A||!T.session)return{data:null,error:A};r=T.session.access_token}const{header:i,payload:o,signature:l,raw:{header:u,payload:h}}=Bm(r);if(xN(o.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:T}=await this.getUser(r);if(T)throw T;return{data:{claims:o,header:i,signature:l},error:null}}const f=ON(i.alg),m=await this.fetchJwk(i.kid,t),y=await crypto.subtle.importKey("jwk",m,f,!0,["verify"]);if(!await crypto.subtle.verify(f,y,l,_N(`${u}.${h}`)))throw new zu("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}}rc.nextInstanceID=0;const GN=rc;class QN extends GN{constructor(e){super(e)}}var JN=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(m){try{f(r.next(m))}catch(y){l(y)}}function h(m){try{f(r.throw(m))}catch(y){l(y)}}function f(m){m.done?o(m.value):i(m.value).then(u,h)}f((r=r.apply(n,e||[])).next())})};class XN{constructor(e,t,r){var i,o,l;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const u=nN(e),h=new URL(u);this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,m={db:GD,realtime:JD,auth:Object.assign(Object.assign({},QD),{storageKey:f}),global:KD},y=rN(r??{},m);this.storageKey=(i=y.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=y.global.headers)!==null&&o!==void 0?o:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(w,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=y.auth)!==null&&l!==void 0?l:{},this.headers,y.global.fetch),this.fetch=eN(t,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new mD(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),y.accessToken||this._listenForAuthEvents()}get functions(){return new rD(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new HD(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return JN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:o,flowType:l,lock:u,debug:h},f,m){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new QN({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),f),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,flowType:l,lock:u,debug:h,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new bD(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const e8=(n,e,t)=>new XN(n,e,t);var bA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kT=Qe.createContext&&Qe.createContext(bA),YN=["attr","size","title"];function ZN(n,e){if(n==null)return{};var t=eL(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function eL(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function jd(){return jd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jd.apply(this,arguments)}function bT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function $d(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bT(Object(t),!0).forEach(function(r){tL(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bT(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function tL(n,e,t){return e=nL(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nL(n){var e=rL(n,"string");return typeof e=="symbol"?e:e+""}function rL(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function xA(n){return n&&n.map((e,t)=>Qe.createElement(e.tag,$d({key:t},e.attr),xA(e.child)))}function _l(n){return e=>Qe.createElement(iL,jd({attr:$d({},n.attr)},e),xA(n.child))}function iL(n){var e=t=>{var{attr:r,size:i,title:o}=n,l=ZN(n,YN),u=i||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Qe.createElement("svg",jd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:h,style:$d($d({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&Qe.createElement("title",null,o),n.children)};return kT!==void 0?Qe.createElement(kT.Consumer,null,t=>e(t)):e(bA)}function t8(n){return _l({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(n)}function n8(n){return _l({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function r8(n){return _l({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function i8(n){return _l({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(n)}function s8(n){return _l({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(n)}function o8(n){return _l({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(n)}const Hy=V.createContext({});function qy(n){const e=V.useRef(null);return e.current===null&&(e.current=n()),e.current}const Wy=typeof window<"u",OA=Wy?V.useLayoutEffect:V.useEffect,vf=V.createContext(null),Ky=V.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class sL extends V.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=t.offsetHeight||0,o.width=t.offsetWidth||0,o.top=t.offsetTop,o.left=t.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function oL({children:n,isPresent:e,anchorX:t}){const r=V.useId(),i=V.useRef(null),o=V.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=V.useContext(Ky);return V.useInsertionEffect(()=>{const{width:u,height:h,top:f,left:m,right:y}=o.current;if(e||!i.current||!u||!h)return;const w=t==="left"?`left: ${m}`:`right: ${y}`;i.current.dataset.motionPopId=r;const T=document.createElement("style");return l&&(T.nonce=l),document.head.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            ${w}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.removeChild(T)}},[e]),gi.jsx(sL,{isPresent:e,childRef:i,sizeRef:o,children:V.cloneElement(n,{ref:i})})}const aL=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:l,anchorX:u})=>{const h=qy(lL),f=V.useId(),m=V.useCallback(w=>{h.set(w,!0);for(const T of h.values())if(!T)return;r&&r()},[h,r]),y=V.useMemo(()=>({id:f,initial:e,isPresent:t,custom:i,onExitComplete:m,register:w=>(h.set(w,!1),()=>h.delete(w))}),o?[Math.random(),m]:[t,m]);return V.useMemo(()=>{h.forEach((w,T)=>h.set(T,!1))},[t]),V.useEffect(()=>{!t&&!h.size&&r&&r()},[t]),l==="popLayout"&&(n=gi.jsx(oL,{isPresent:t,anchorX:u,children:n})),gi.jsx(vf.Provider,{value:y,children:n})};function lL(){return new Map}function DA(n=!0){const e=V.useContext(vf);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,o=V.useId();V.useEffect(()=>{if(n)return i(o)},[n]);const l=V.useCallback(()=>n&&r&&r(o),[o,r,n]);return!t&&r?[!1,l]:[!0]}const ld=n=>n.key||"";function xT(n){const e=[];return V.Children.forEach(n,t=>{V.isValidElement(t)&&e.push(t)}),e}const a8=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:l=!1,anchorX:u="left"})=>{const[h,f]=DA(l),m=V.useMemo(()=>xT(n),[n]),y=l&&!h?[]:m.map(ld),w=V.useRef(!0),T=V.useRef(m),A=qy(()=>new Map),[b,C]=V.useState(m),[D,H]=V.useState(m);OA(()=>{w.current=!1,T.current=m;for(let Q=0;Q<D.length;Q++){const ne=ld(D[Q]);y.includes(ne)?A.delete(ne):A.get(ne)!==!0&&A.set(ne,!1)}},[D,y.length,y.join("-")]);const F=[];if(m!==b){let Q=[...m];for(let ne=0;ne<D.length;ne++){const O=D[ne],P=ld(O);y.includes(P)||(Q.splice(ne,0,O),F.push(O))}return o==="wait"&&F.length&&(Q=F),H(xT(Q)),C(m),null}const{forceRender:G}=V.useContext(Hy);return gi.jsx(gi.Fragment,{children:D.map(Q=>{const ne=ld(Q),O=l&&!h?!1:m===D||y.includes(ne),P=()=>{if(A.has(ne))A.set(ne,!0);else return;let R=!0;A.forEach(N=>{N||(R=!1)}),R&&(G==null||G(),H(T.current),l&&(f==null||f()),r&&r())};return gi.jsx(aL,{isPresent:O,initial:!w.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,onExitComplete:O?void 0:P,anchorX:u,children:Q},ne)})})};function Gy(n,e){n.indexOf(e)===-1&&n.push(e)}function Qy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let NA=()=>{};const Lg={useManualTiming:!1};function Jy(n){let e;return()=>(e===void 0&&(e=n()),e)}const Gn=n=>n,ic=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class Xy{constructor(){this.subscriptions=[]}add(e){return Gy(this.subscriptions,e),()=>Qy(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Mr=n=>n*1e3,Ur=n=>n/1e3;function LA(n,e){return e?n*(1e3/e):0}const uL=Jy(()=>window.ScrollTimeline!==void 0);class cL{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(i=>{if(uL()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class hL extends cL{then(e,t){return this.finished.finally(e).then(()=>{})}}const OT={value:null},Yy=n=>Array.isArray(n)&&typeof n[0]=="number",dL={};function fL(n,e){const t=Jy(n);return()=>dL[e]??t()}const sc=fL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),VA=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let o=0;o<i;o++)r+=n(o/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Nu=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,Vg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nu([0,.65,.55,1]),circOut:Nu([.55,0,1,.45]),backIn:Nu([.31,.01,.66,-.59]),backOut:Nu([.33,1.53,.69,.99])};function MA(n,e){if(n)return typeof n=="function"&&sc()?VA(n,e):Yy(n)?Nu(n):Array.isArray(n)?n.map(t=>MA(t,e)||Vg.easeOut):Vg[n]}function pL(n,e,t,{delay:r=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:u="easeInOut",times:h}={},f=void 0){const m={[e]:t};h&&(m.offset=h);const y=MA(u,i);return Array.isArray(y)&&(m.easing=y),n.animate(m,{delay:r,duration:i,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal",pseudoElement:f})}function Zy(n){return typeof n=="function"&&"applyToOptions"in n}function e_(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const Bd=2e4;function t_(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Bd;)e+=t,r=n.next(e);return e>=Bd?1/0:e}function mL(n,e=100,t){const r=t({...n,keyframes:[0,e]}),i=Math.min(t_(r),Bd);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:Ur(i)}}function UA(n){return!!(typeof n=="function"&&sc()||!n||typeof n=="string"&&(n in Vg||sc())||Yy(n)||Array.isArray(n)&&n.every(UA))}function DT(n,e){n.timeline=e,n.onfinish=null}const ud=["read","resolveKeyframes","update","preRender","render","postRender"];function gL(n,e){let t=new Set,r=new Set,i=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},h=0;function f(y){l.has(y)&&(m.schedule(y),n()),h++,y(u)}const m={schedule:(y,w=!1,T=!1)=>{const b=T&&i?t:r;return w&&l.add(y),b.has(y)||b.add(y),y},cancel:y=>{r.delete(y),l.delete(y)},process:y=>{if(u=y,i){o=!0;return}i=!0,[t,r]=[r,t],t.forEach(f),e&&OT.value&&OT.value.frameloop[e].push(h),h=0,t.clear(),i=!1,o&&(o=!1,m.process(y))}};return m}const yL=40;function FA(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,l=ud.reduce((D,H)=>(D[H]=gL(o,e?H:void 0),D),{}),{read:u,resolveKeyframes:h,update:f,preRender:m,render:y,postRender:w}=l,T=()=>{const D=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(D-i.timestamp,yL),1),i.timestamp=D,i.isProcessing=!0,u.process(i),h.process(i),f.process(i),m.process(i),y.process(i),w.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(T))},A=()=>{t=!0,r=!0,i.isProcessing||n(T)};return{schedule:ud.reduce((D,H)=>{const F=l[H];return D[H]=(G,Q=!1,ne=!1)=>(t||A(),F.schedule(G,Q,ne)),D},{}),cancel:D=>{for(let H=0;H<ud.length;H++)l[ud[H]].cancel(D)},state:i,steps:l}}const{schedule:n_}=FA(queueMicrotask,!1),{schedule:Je,cancel:ps,state:Bt,steps:zm}=FA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gn,!0);let Sd;function _L(){Sd=void 0}const Fr={now:()=>(Sd===void 0&&Fr.set(Bt.isProcessing||Lg.useManualTiming?Bt.timestamp:performance.now()),Sd),set:n=>{Sd=n,queueMicrotask(_L)}},gr={x:!1,y:!1};function jA(){return gr.x||gr.y}function vL(n){return n==="x"||n==="y"?gr[n]?null:(gr[n]=!0,()=>{gr[n]=!1}):gr.x||gr.y?null:(gr.x=gr.y=!0,()=>{gr.x=gr.y=!1})}function wL(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const i=(t==null?void 0:t[n])??r.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n)}function $A(n,e){const t=wL(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function NT(n){return!(n.pointerType==="touch"||jA())}function EL(n,e,t={}){const[r,i,o]=$A(n,t),l=u=>{if(!NT(u))return;const{target:h}=u,f=e(h,u);if(typeof f!="function"||!h)return;const m=y=>{NT(y)&&(f(y),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,i)};return r.forEach(u=>{u.addEventListener("pointerenter",l,i)}),o}const BA=(n,e)=>e?n===e?!0:BA(n,e.parentElement):!1,r_=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,TL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function SL(n){return TL.has(n.tagName)||n.tabIndex!==-1}const Lu=new WeakSet;function LT(n){return e=>{e.key==="Enter"&&n(e)}}function Hm(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const IL=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=LT(()=>{if(Lu.has(t))return;Hm(t,"down");const i=LT(()=>{Hm(t,"up")}),o=()=>Hm(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function VT(n){return r_(n)&&!jA()}function AL(n,e,t={}){const[r,i,o]=$A(n,t),l=u=>{const h=u.currentTarget;if(!VT(u)||Lu.has(h))return;Lu.add(h);const f=e(h,u),m=(T,A)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",w),!(!VT(T)||!Lu.has(h))&&(Lu.delete(h),typeof f=="function"&&f(T,{success:A}))},y=T=>{m(T,h===window||h===document||t.useGlobalTarget||BA(h,T.target))},w=T=>{m(T,!1)};window.addEventListener("pointerup",y,i),window.addEventListener("pointercancel",w,i)};return r.forEach(u=>{(t.useGlobalTarget?window:u).addEventListener("pointerdown",l,i),u instanceof HTMLElement&&(u.addEventListener("focus",f=>IL(f,i)),!SL(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}const MT=30,PL=n=>!isNaN(parseFloat(n));class CL{constructor(e,t={}){this.version="12.7.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=Fr.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Fr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=PL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Xy);const r=this.events[e].add(t);return e==="change"?()=>{r(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Fr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>MT)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,MT);return LA(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function oc(n,e){return new CL(n,e)}const zA=V.createContext({strict:!1}),UT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sl={};for(const n in UT)sl[n]={isEnabled:e=>UT[n].some(t=>!!e[t])};function RL(n){for(const e in n)sl[e]={...sl[e],...n[e]}}const kL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zd(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||kL.has(n)}let HA=n=>!zd(n);function bL(n){n&&(HA=e=>e.startsWith("on")?!zd(e):n(e))}try{bL(require("@emotion/is-prop-valid").default)}catch{}function xL(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(HA(i)||t===!0&&zd(i)||!e&&!zd(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function OL(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const wf=V.createContext({});function Ef(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function ac(n){return typeof n=="string"||Array.isArray(n)}const i_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],s_=["initial",...i_];function Tf(n){return Ef(n.animate)||s_.some(e=>ac(n[e]))}function qA(n){return!!(Tf(n)||n.variants)}function DL(n,e){if(Tf(n)){const{initial:t,animate:r}=n;return{initial:t===!1||ac(t)?t:void 0,animate:ac(r)?r:void 0}}return n.inherit!==!1?e:{}}function NL(n){const{initial:e,animate:t}=DL(n,V.useContext(wf));return V.useMemo(()=>({initial:e,animate:t}),[FT(e),FT(t)])}function FT(n){return Array.isArray(n)?n.join(" "):n}const LL=Symbol.for("motionComponentSymbol");function Ha(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function VL(n,e,t){return V.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Ha(t)&&(t.current=r))},[e])}const o_=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ML="framerAppearId",WA="data-"+o_(ML),KA=V.createContext({});function UL(n,e,t,r,i){var b,C;const{visualElement:o}=V.useContext(wf),l=V.useContext(zA),u=V.useContext(vf),h=V.useContext(Ky).reducedMotion,f=V.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(n,{visualState:e,parent:o,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const m=f.current,y=V.useContext(KA);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&FL(f.current,t,i,y);const w=V.useRef(!1);V.useInsertionEffect(()=>{m&&w.current&&m.update(t,u)});const T=t[WA],A=V.useRef(!!T&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,T))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,T)));return OA(()=>{m&&(w.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),n_.render(m.render),A.current&&m.animationState&&m.animationState.animateChanges())}),V.useEffect(()=>{m&&(!A.current&&m.animationState&&m.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)==null||D.call(window,T)}),A.current=!1))}),m}function FL(n,e,t,r){const{layoutId:i,layout:o,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:f,layoutCrossfade:m}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:GA(n.parent)),n.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||u&&Ha(u),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:h,layoutRoot:f})}function GA(n){if(n)return n.options.allowProjection!==!1?n.projection:GA(n.parent)}function jL({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&RL(n);function o(u,h){let f;const m={...V.useContext(Ky),...u,layoutId:$L(u)},{isStatic:y}=m,w=NL(u),T=r(u,y);if(!y&&Wy){BL();const A=zL(m);f=A.MeasureLayout,w.visualElement=UL(i,T,m,e,A.ProjectionNode)}return gi.jsxs(wf.Provider,{value:w,children:[f&&w.visualElement?gi.jsx(f,{visualElement:w.visualElement,...m}):null,t(i,u,VL(T,w.visualElement,h),T,y,w.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const l=V.forwardRef(o);return l[LL]=i,l}function $L({layoutId:n}){const e=V.useContext(Hy).id;return e&&n!==void 0?e+"-"+n:n}function BL(n,e){V.useContext(zA).strict}function zL(n){const{drag:e,layout:t}=sl;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const QA=n=>e=>typeof e=="string"&&e.startsWith(n),a_=QA("--"),HL=QA("var(--"),l_=n=>HL(n)?qL.test(n.split("/*")[0].trim()):!1,qL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,lc={};function WL(n){for(const e in n)lc[e]=n[e],a_(e)&&(lc[e].isCSSVariable=!0)}const vl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ko=new Set(vl);function JA(n,{layout:e,layoutId:t}){return ko.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!lc[n]||n==="opacity")}const tn=n=>!!(n&&n.getVelocity),XA=(n,e)=>e&&typeof n=="number"?e.transform(n):n,vi=(n,e,t)=>t>e?e:t<n?n:t,wl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},uc={...wl,transform:n=>vi(0,1,n)},cd={...wl,default:1},Ac=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Zi=Ac("deg"),jr=Ac("%"),ve=Ac("px"),KL=Ac("vh"),GL=Ac("vw"),jT={...jr,parse:n=>jr.parse(n)/100,transform:n=>jr.transform(n*100)},QL={borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,radius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,top:ve,right:ve,bottom:ve,left:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,backgroundPositionX:ve,backgroundPositionY:ve},JL={rotate:Zi,rotateX:Zi,rotateY:Zi,rotateZ:Zi,scale:cd,scaleX:cd,scaleY:cd,scaleZ:cd,skew:Zi,skewX:Zi,skewY:Zi,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:uc,originX:jT,originY:jT,originZ:ve},$T={...wl,transform:Math.round},u_={...QL,...JL,zIndex:$T,size:ve,fillOpacity:uc,strokeOpacity:uc,numOctaves:$T},XL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YL=vl.length;function ZL(n,e,t){let r="",i=!0;for(let o=0;o<YL;o++){const l=vl[o],u=n[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||t){const f=XA(u,u_[l]);if(!h){i=!1;const m=XL[l]||l;r+=`${m}(${f}) `}t&&(e[l]=f)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function c_(n,e,t){const{style:r,vars:i,transformOrigin:o}=n;let l=!1,u=!1;for(const h in e){const f=e[h];if(ko.has(h)){l=!0;continue}else if(a_(h)){i[h]=f;continue}else{const m=XA(f,u_[h]);h.startsWith("origin")?(u=!0,o[h]=m):r[h]=m}}if(e.transform||(l||t?r.transform=ZL(e,n.transform,t):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:m=0}=o;r.transformOrigin=`${h} ${f} ${m}`}}const h_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function YA(n,e,t){for(const r in e)!tn(e[r])&&!JA(r,t)&&(n[r]=e[r])}function e2({transformTemplate:n},e){return V.useMemo(()=>{const t=h_();return c_(t,e,n),Object.assign({},t.vars,t.style)},[e])}function t2(n,e){const t=n.style||{},r={};return YA(r,t,n),Object.assign(r,e2(n,e)),r}function n2(n,e){const t={},r=t2(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const r2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function d_(n){return typeof n!="string"||n.includes("-")?!1:!!(r2.indexOf(n)>-1||/[A-Z]/u.test(n))}const i2={offset:"stroke-dashoffset",array:"stroke-dasharray"},s2={offset:"strokeDashoffset",array:"strokeDasharray"};function o2(n,e,t=1,r=0,i=!0){n.pathLength=1;const o=i?i2:s2;n[o.offset]=ve.transform(-r);const l=ve.transform(e),u=ve.transform(t);n[o.array]=`${l} ${u}`}function BT(n,e,t){return typeof n=="string"?n:ve.transform(e+t*n)}function a2(n,e,t){const r=BT(e,n.x,n.width),i=BT(t,n.y,n.height);return`${r} ${i}`}function f_(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:o,pathLength:l,pathSpacing:u=1,pathOffset:h=0,...f},m,y){if(c_(n,f,y),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:w,style:T,dimensions:A}=n;w.transform&&(A&&(T.transform=w.transform),delete w.transform),A&&(i!==void 0||o!==void 0||T.transform)&&(T.transformOrigin=a2(A,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(w.x=e),t!==void 0&&(w.y=t),r!==void 0&&(w.scale=r),l!==void 0&&o2(w,l,u,h,!1)}const ZA=()=>({...h_(),attrs:{}}),p_=n=>typeof n=="string"&&n.toLowerCase()==="svg";function l2(n,e,t,r){const i=V.useMemo(()=>{const o=ZA();return f_(o,e,p_(r),n.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};YA(o,n.style,n),i.style={...o,...i.style}}return i}function u2(n=!1){return(t,r,i,{latestValues:o},l)=>{const h=(d_(t)?l2:n2)(r,o,l,t),f=xL(r,typeof t=="string",n),m=t!==V.Fragment?{...f,...h,ref:i}:{},{children:y}=r,w=V.useMemo(()=>tn(y)?y.get():y,[y]);return V.createElement(t,{...m,children:w})}}function zT(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function m_(n,e,t,r){if(typeof e=="function"){const[i,o]=zT(r);e=e(t!==void 0?t:n.custom,i,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,o]=zT(r);e=e(t!==void 0?t:n.custom,i,o)}return e}const Mg=n=>Array.isArray(n),c2=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),h2=n=>Mg(n)?n[n.length-1]||0:n;function Id(n){const e=tn(n)?n.get():n;return c2(e)?e.toValue():e}function d2({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,i,o){const l={latestValues:f2(r,i,o,n),renderState:e()};return t&&(l.onMount=u=>t({props:r,current:u,...l}),l.onUpdate=u=>t(u)),l}const eP=n=>(e,t)=>{const r=V.useContext(wf),i=V.useContext(vf),o=()=>d2(n,e,r,i);return t?o():qy(o)};function f2(n,e,t,r){const i={},o=r(n,{});for(const w in o)i[w]=Id(o[w]);let{initial:l,animate:u}=n;const h=Tf(n),f=qA(n);e&&f&&!h&&n.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let m=t?t.initial===!1:!1;m=m||l===!1;const y=m?u:l;if(y&&typeof y!="boolean"&&!Ef(y)){const w=Array.isArray(y)?y:[y];for(let T=0;T<w.length;T++){const A=m_(n,w[T]);if(A){const{transitionEnd:b,transition:C,...D}=A;for(const H in D){let F=D[H];if(Array.isArray(F)){const G=m?F.length-1:0;F=F[G]}F!==null&&(i[H]=F)}for(const H in b)i[H]=b[H]}}}return i}function g_(n,e,t){var o;const{style:r}=n,i={};for(const l in r)(tn(r[l])||e.style&&tn(e.style[l])||JA(l,n)||((o=t==null?void 0:t.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(i[l]=r[l]);return i}const p2={useVisualState:eP({scrapeMotionValuesFromProps:g_,createRenderState:h_})};function tP(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function nP(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const o in t)n.style.setProperty(o,t[o])}const rP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iP(n,e,t,r){nP(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(rP.has(i)?i:o_(i),e.attrs[i])}function sP(n,e,t){const r=g_(n,e,t);for(const i in n)if(tn(n[i])||tn(e[i])){const o=vl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=n[i]}return r}const HT=["x","y","width","height","cx","cy","r"],m2={useVisualState:eP({scrapeMotionValuesFromProps:sP,createRenderState:ZA,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:i})=>{if(!t)return;let o=!!n.drag;if(!o){for(const u in i)if(ko.has(u)){o=!0;break}}if(!o)return;let l=!e;if(e)for(let u=0;u<HT.length;u++){const h=HT[u];n[h]!==e[h]&&(l=!0)}l&&Je.read(()=>{tP(t,r),Je.render(()=>{f_(r,i,p_(t.tagName),n.transformTemplate),iP(t,r)})})}})};function g2(n,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...d_(r)?m2:p2,preloadedFeatures:n,useRender:u2(i),createVisualElement:e,Component:r};return jL(l)}}function cc(n,e,t){const r=n.getProps();return m_(r,e,t!==void 0?t:r.custom,n)}const oP=new Set(["width","height","top","left","right","bottom",...vl]);function y2(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,oc(t))}function _2(n,e){const t=cc(n,e);let{transitionEnd:r={},transition:i={},...o}=t||{};o={...o,...r};for(const l in o){const u=h2(o[l]);y2(n,l,u)}}function v2(n){return!!(tn(n)&&n.add)}function Ug(n,e){const t=n.getValue("willChange");if(v2(t))return t.add(e);if(!t&&Lg.WillChange){const r=new Lg.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function aP(n){return n.props[WA]}const lP=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,w2=1e-7,E2=12;function T2(n,e,t,r,i){let o,l,u=0;do l=e+(t-e)/2,o=lP(l,r,i)-n,o>0?t=l:e=l;while(Math.abs(o)>w2&&++u<E2);return l}function Pc(n,e,t,r){if(n===e&&t===r)return Gn;const i=o=>T2(o,0,1,n,t);return o=>o===0||o===1?o:lP(i(o),e,r)}const uP=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,cP=n=>e=>1-n(1-e),hP=Pc(.33,1.53,.69,.99),y_=cP(hP),dP=uP(y_),fP=n=>(n*=2)<1?.5*y_(n):.5*(2-Math.pow(2,-10*(n-1))),__=n=>1-Math.sin(Math.acos(n)),pP=cP(__),mP=uP(__),gP=n=>/^0[^.\s]+$/u.test(n);function S2(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||gP(n):!0}const qu=n=>Math.round(n*1e5)/1e5,v_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function I2(n){return n==null}const A2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,w_=(n,e)=>t=>!!(typeof t=="string"&&A2.test(t)&&t.startsWith(n)||e&&!I2(t)&&Object.prototype.hasOwnProperty.call(t,e)),yP=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,o,l,u]=r.match(v_);return{[n]:parseFloat(i),[e]:parseFloat(o),[t]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},P2=n=>vi(0,255,n),qm={...wl,transform:n=>Math.round(P2(n))},fo={test:w_("rgb","red"),parse:yP("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+qm.transform(n)+", "+qm.transform(e)+", "+qm.transform(t)+", "+qu(uc.transform(r))+")"};function C2(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Fg={test:w_("#"),parse:C2,transform:fo.transform},qa={test:w_("hsl","hue"),parse:yP("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+jr.transform(qu(e))+", "+jr.transform(qu(t))+", "+qu(uc.transform(r))+")"},Yt={test:n=>fo.test(n)||Fg.test(n)||qa.test(n),parse:n=>fo.test(n)?fo.parse(n):qa.test(n)?qa.parse(n):Fg.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?fo.transform(n):qa.transform(n)},R2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function k2(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(v_))==null?void 0:e.length)||0)+(((t=n.match(R2))==null?void 0:t.length)||0)>0}const _P="number",vP="color",b2="var",x2="var(",qT="${}",O2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hc(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let o=0;const u=e.replace(O2,h=>(Yt.test(h)?(r.color.push(o),i.push(vP),t.push(Yt.parse(h))):h.startsWith(x2)?(r.var.push(o),i.push(b2),t.push(h)):(r.number.push(o),i.push(_P),t.push(parseFloat(h))),++o,qT)).split(qT);return{values:t,split:u,indexes:r,types:i}}function wP(n){return hc(n).values}function EP(n){const{split:e,types:t}=hc(n),r=e.length;return i=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],i[l]!==void 0){const u=t[l];u===_P?o+=qu(i[l]):u===vP?o+=Yt.transform(i[l]):o+=i[l]}return o}}const D2=n=>typeof n=="number"?0:n;function N2(n){const e=wP(n);return EP(n)(e.map(D2))}const ms={test:k2,parse:wP,createTransformer:EP,getAnimatableNone:N2},L2=new Set(["brightness","contrast","saturate","opacity"]);function V2(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(v_)||[];if(!r)return n;const i=t.replace(r,"");let o=L2.has(e)?1:0;return r!==t&&(o*=100),e+"("+o+i+")"}const M2=/\b([a-z-]*)\(.*?\)/gu,jg={...ms,getAnimatableNone:n=>{const e=n.match(M2);return e?e.map(V2).join(" "):n}},U2={...u_,color:Yt,backgroundColor:Yt,outlineColor:Yt,fill:Yt,stroke:Yt,borderColor:Yt,borderTopColor:Yt,borderRightColor:Yt,borderBottomColor:Yt,borderLeftColor:Yt,filter:jg,WebkitFilter:jg},TP=n=>U2[n];function SP(n,e){let t=TP(n);return t!==jg&&(t=ms),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const F2=new Set(["auto","none","0"]);function j2(n,e,t){let r=0,i;for(;r<n.length&&!i;){const o=n[r];typeof o=="string"&&!F2.has(o)&&hc(o).values.length&&(i=n[r]),r++}if(i&&t)for(const o of e)n[o]=SP(t,i)}const po=n=>n*180/Math.PI,$g=n=>{const e=po(Math.atan2(n[1],n[0]));return Bg(e)},$2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:$g,rotateZ:$g,skewX:n=>po(Math.atan(n[1])),skewY:n=>po(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Bg=n=>(n=n%360,n<0&&(n+=360),n),WT=$g,KT=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),GT=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),B2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:KT,scaleY:GT,scale:n=>(KT(n)+GT(n))/2,rotateX:n=>Bg(po(Math.atan2(n[6],n[5]))),rotateY:n=>Bg(po(Math.atan2(-n[2],n[0]))),rotateZ:WT,rotate:WT,skewX:n=>po(Math.atan(n[4])),skewY:n=>po(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function QT(n){return n.includes("scale")?1:0}function zg(n,e){if(!n||n==="none")return QT(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(t)r=B2,i=t;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=$2,i=u}if(!i)return QT(e);const o=r[e],l=i[1].split(",").map(H2);return typeof o=="function"?o(l):l[o]}const z2=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return zg(t,e)};function H2(n){return parseFloat(n.trim())}const JT=n=>n===wl||n===ve,q2=new Set(["x","y","z"]),W2=vl.filter(n=>!q2.has(n));function K2(n){const e=[];return W2.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const ol={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>zg(e,"x"),y:(n,{transform:e})=>zg(e,"y")};ol.translateX=ol.x;ol.translateY=ol.y;const _o=new Set;let Hg=!1,qg=!1;function IP(){if(qg){const n=Array.from(_o).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=K2(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([o,l])=>{var u;(u=r.getValue(o))==null||u.set(l)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}qg=!1,Hg=!1,_o.forEach(n=>n.complete()),_o.clear()}function AP(){_o.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(qg=!0)})}function G2(){AP(),IP()}class E_{constructor(e,t,r,i,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(_o.add(this),Hg||(Hg=!0,Je.read(AP),Je.resolveKeyframes(IP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=i==null?void 0:i.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&t){const h=r.readValue(t,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),i&&l===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),_o.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,_o.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const PP=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),Q2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function J2(n){const e=Q2.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function CP(n,e,t=1){const[r,i]=J2(n);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return PP(l)?parseFloat(l):l}return l_(i)?CP(i,e,t+1):i}const RP=n=>e=>e.test(n),X2={test:n=>n==="auto",parse:n=>n},kP=[wl,ve,jr,Zi,GL,KL,X2],XT=n=>kP.find(RP(n));class bP extends E_{constructor(e,t,r,i,o){super(e,t,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),l_(f))){const m=CP(f,t.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!oP.has(r)||e.length!==2)return;const[i,o]=e,l=XT(i),u=XT(o);if(l!==u)if(JT(l)&&JT(u))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)S2(e[i])&&r.push(i);r.length&&j2(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ol[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var u;const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=ol[t](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}const YT=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ms.test(n)||n==="0")&&!n.startsWith("url("));function Y2(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function Z2(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],l=YT(i,e),u=YT(o,e);return!l||!u?!1:Y2(n)||(t==="spring"||Zy(t))&&r}const eV=n=>n!==null;function Sf(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(eV),o=e&&t!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const tV=40;class xP{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Fr.now(),this.options={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:o,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>tV?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&G2(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Fr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:l,onComplete:u,onUpdate:h,isGenerator:f}=this.options;if(!f&&!Z2(e,r,i,o))if(l)this.options.duration=0;else{h&&h(Sf(e,this.options,t)),u&&u(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,t);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...m},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ot=(n,e,t)=>n+(e-n)*t;function Wm(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function nV({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,o=0,l=0;if(!e)i=o=l=t;else{const u=t<.5?t*(1+e):t+e-t*e,h=2*t-u;i=Wm(h,u,n+1/3),o=Wm(h,u,n),l=Wm(h,u,n-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function Hd(n,e){return t=>t>0?e:n}const Km=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},rV=[Fg,fo,qa],iV=n=>rV.find(e=>e.test(n));function ZT(n){const e=iV(n);if(!e)return!1;let t=e.parse(n);return e===qa&&(t=nV(t)),t}const e0=(n,e)=>{const t=ZT(n),r=ZT(e);if(!t||!r)return Hd(n,e);const i={...t};return o=>(i.red=Km(t.red,r.red,o),i.green=Km(t.green,r.green,o),i.blue=Km(t.blue,r.blue,o),i.alpha=ot(t.alpha,r.alpha,o),fo.transform(i))},sV=(n,e)=>t=>e(n(t)),Cc=(...n)=>n.reduce(sV),Wg=new Set(["none","hidden"]);function oV(n,e){return Wg.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function aV(n,e){return t=>ot(n,e,t)}function T_(n){return typeof n=="number"?aV:typeof n=="string"?l_(n)?Hd:Yt.test(n)?e0:cV:Array.isArray(n)?OP:typeof n=="object"?Yt.test(n)?e0:lV:Hd}function OP(n,e){const t=[...n],r=t.length,i=n.map((o,l)=>T_(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)t[l]=i[l](o);return t}}function lV(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=T_(n[i])(n[i],e[i]));return i=>{for(const o in r)t[o]=r[o](i);return t}}function uV(n,e){const t=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],l=n.indexes[o][r[o]],u=n.values[l]??0;t[i]=u,r[o]++}return t}const cV=(n,e)=>{const t=ms.createTransformer(e),r=hc(n),i=hc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Wg.has(n)&&!i.values.length||Wg.has(e)&&!r.values.length?oV(n,e):Cc(OP(uV(r,i),i.values),t):Hd(n,e)};function DP(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?ot(n,e,t):T_(n)(n,e)}const hV=5;function NP(n,e,t){const r=Math.max(e-hV,0);return LA(t-n(r),e-r)}const ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},t0=.001;function dV({duration:n=ct.duration,bounce:e=ct.bounce,velocity:t=ct.velocity,mass:r=ct.mass}){let i,o,l=1-e;l=vi(ct.minDamping,ct.maxDamping,l),n=vi(ct.minDuration,ct.maxDuration,Ur(n)),l<1?(i=f=>{const m=f*l,y=m*n,w=m-t,T=Kg(f,l),A=Math.exp(-y);return t0-w/T*A},o=f=>{const y=f*l*n,w=y*t+t,T=Math.pow(l,2)*Math.pow(f,2)*n,A=Math.exp(-y),b=Kg(Math.pow(f,2),l);return(-i(f)+t0>0?-1:1)*((w-T)*A)/b}):(i=f=>{const m=Math.exp(-f*n),y=(f-t)*n+1;return-.001+m*y},o=f=>{const m=Math.exp(-f*n),y=(t-f)*(n*n);return m*y});const u=5/n,h=pV(i,o,u);if(n=Mr(n),isNaN(h))return{stiffness:ct.stiffness,damping:ct.damping,duration:n};{const f=Math.pow(h,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:n}}}const fV=12;function pV(n,e,t){let r=t;for(let i=1;i<fV;i++)r=r-n(r)/e(r);return r}function Kg(n,e){return n*Math.sqrt(1-e*e)}const mV=["duration","bounce"],gV=["stiffness","damping","mass"];function n0(n,e){return e.some(t=>n[t]!==void 0)}function yV(n){let e={velocity:ct.velocity,stiffness:ct.stiffness,damping:ct.damping,mass:ct.mass,isResolvedFromDuration:!1,...n};if(!n0(n,gV)&&n0(n,mV))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,o=2*vi(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:ct.mass,stiffness:i,damping:o}}else{const t=dV(n);e={...e,...t,mass:ct.mass},e.isResolvedFromDuration=!0}return e}function qd(n=ct.visualDuration,e=ct.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const o=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],u={done:!1,value:o},{stiffness:h,damping:f,mass:m,duration:y,velocity:w,isResolvedFromDuration:T}=yV({...t,velocity:-Ur(t.velocity||0)}),A=w||0,b=f/(2*Math.sqrt(h*m)),C=l-o,D=Ur(Math.sqrt(h/m)),H=Math.abs(C)<5;r||(r=H?ct.restSpeed.granular:ct.restSpeed.default),i||(i=H?ct.restDelta.granular:ct.restDelta.default);let F;if(b<1){const Q=Kg(D,b);F=ne=>{const O=Math.exp(-b*D*ne);return l-O*((A+b*D*C)/Q*Math.sin(Q*ne)+C*Math.cos(Q*ne))}}else if(b===1)F=Q=>l-Math.exp(-D*Q)*(C+(A+D*C)*Q);else{const Q=D*Math.sqrt(b*b-1);F=ne=>{const O=Math.exp(-b*D*ne),P=Math.min(Q*ne,300);return l-O*((A+b*D*C)*Math.sinh(P)+Q*C*Math.cosh(P))/Q}}const G={calculatedDuration:T&&y||null,next:Q=>{const ne=F(Q);if(T)u.done=Q>=y;else{let O=0;b<1&&(O=Q===0?Mr(A):NP(F,Q,ne));const P=Math.abs(O)<=r,R=Math.abs(l-ne)<=i;u.done=P&&R}return u.value=u.done?l:ne,u},toString:()=>{const Q=Math.min(t_(G),Bd),ne=VA(O=>G.next(Q*O).value,Q,30);return Q+"ms "+ne},toTransition:()=>{}};return G}qd.applyToOptions=n=>{const e=mL(n,100,qd);return n.ease=sc()?e.ease:"easeOut",n.duration=Mr(e.duration),n.type="keyframes",n};function r0({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:h,restDelta:f=.5,restSpeed:m}){const y=n[0],w={done:!1,value:y},T=P=>u!==void 0&&P<u||h!==void 0&&P>h,A=P=>u===void 0?h:h===void 0||Math.abs(u-P)<Math.abs(h-P)?u:h;let b=t*e;const C=y+b,D=l===void 0?C:l(C);D!==C&&(b=D-y);const H=P=>-b*Math.exp(-P/r),F=P=>D+H(P),G=P=>{const R=H(P),N=F(P);w.done=Math.abs(R)<=f,w.value=w.done?D:N};let Q,ne;const O=P=>{T(w.value)&&(Q=P,ne=qd({keyframes:[w.value,A(w.value)],velocity:NP(F,P,w.value),damping:i,stiffness:o,restDelta:f,restSpeed:m}))};return O(0),{calculatedDuration:null,next:P=>{let R=!1;return!ne&&Q===void 0&&(R=!0,G(P),O(P)),Q!==void 0&&P>=Q?ne.next(P-Q):(!R&&G(P),w)}}}const _V=Pc(.42,0,1,1),vV=Pc(0,0,.58,1),LP=Pc(.42,0,.58,1),wV=n=>Array.isArray(n)&&typeof n[0]!="number",EV={linear:Gn,easeIn:_V,easeInOut:LP,easeOut:vV,circIn:__,circInOut:mP,circOut:pP,backIn:y_,backInOut:dP,backOut:hP,anticipate:fP},i0=n=>{if(Yy(n)){NA(n.length===4);const[e,t,r,i]=n;return Pc(e,t,r,i)}else if(typeof n=="string")return EV[n];return n};function TV(n,e,t){const r=[],i=t||DP,o=n.length-1;for(let l=0;l<o;l++){let u=i(n[l],n[l+1]);if(e){const h=Array.isArray(e)?e[l]||Gn:e;u=Cc(h,u)}r.push(u)}return r}function SV(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const o=n.length;if(NA(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=TV(e,r,i),h=u.length,f=m=>{if(l&&m<n[0])return e[0];let y=0;if(h>1)for(;y<n.length-2&&!(m<n[y+1]);y++);const w=ic(n[y],n[y+1],m);return u[y](w)};return t?m=>f(vi(n[0],n[o-1],m)):f}function IV(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=ic(0,e,r);n.push(ot(t,1,i))}}function AV(n){const e=[0];return IV(e,n.length-1),e}function PV(n,e){return n.map(t=>t*e)}function CV(n,e){return n.map(()=>e||LP).splice(0,n.length-1)}function Wd({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=wV(r)?r.map(i0):i0(r),o={done:!1,value:e[0]},l=PV(t&&t.length===e.length?t:AV(e),n),u=SV(l,e,{ease:Array.isArray(i)?i:CV(e,i)});return{calculatedDuration:n,next:h=>(o.value=u(h),o.done=h>=n,o)}}const RV=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Je.update(e,!0),stop:()=>ps(e),now:()=>Bt.isProcessing?Bt.timestamp:Fr.now()}},kV={decay:r0,inertia:r0,tween:Wd,keyframes:Wd,spring:qd},bV=n=>n/100;class S_ extends xP{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:t,motionValue:r,element:i,keyframes:o}=this.options,l=(i==null?void 0:i.KeyframeResolver)||E_,u=(h,f)=>this.onKeyframesResolved(h,f);this.resolver=new l(o,u,t,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=this.options,u=Zy(t)?t:kV[t]||Wd;let h,f;u!==Wd&&typeof e[0]!="number"&&(h=Cc(bV,DP(e[0],e[1])),e=[0,100]);const m=u({...this.options,keyframes:e});o==="mirror"&&(f=u({...this.options,keyframes:[...e].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=t_(m));const{calculatedDuration:y}=m,w=y+i,T=w*(r+1)-i;return{generator:m,mirroredGenerator:f,mapPercentToKeyframes:h,calculatedDuration:y,resolvedDuration:w,totalDuration:T}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:h,calculatedDuration:f,totalDuration:m,resolvedDuration:y}=r;if(this.startTime===null)return o.next(0);const{delay:w,repeat:T,repeatType:A,repeatDelay:b,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const D=this.currentTime-w*(this.speed>=0?1:-1),H=this.speed>=0?D<0:D>m;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let F=this.currentTime,G=o;if(T){const P=Math.min(this.currentTime,m)/y;let R=Math.floor(P),N=P%1;!N&&P>=1&&(N=1),N===1&&R--,R=Math.min(R,T+1),!!(R%2)&&(A==="reverse"?(N=1-N,b&&(N-=b/y)):A==="mirror"&&(G=l)),F=vi(0,1,N)*y}const Q=H?{done:!1,value:h[0]}:G.next(F);u&&(Q.value=u(Q.value));let{done:ne}=Q;!H&&f!==null&&(ne=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ne);return O&&i!==void 0&&(Q.value=Sf(h,this.options,i)),C&&C(Q.value),O&&this.finish(),Q}get duration(){const{resolved:e}=this;return e?Ur(e.calculatedDuration):0}get time(){return Ur(this.currentTime)}set time(e){e=Mr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Ur(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=RV,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const xV=new Set(["opacity","clipPath","filter","transform"]),OV=Jy(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Kd=10,DV=2e4;function NV(n){return Zy(n.type)||n.type==="spring"||!UA(n.ease)}function LV(n,e){const t=new S_({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const i=[];let o=0;for(;!r.done&&o<DV;)r=t.sample(o),i.push(r.value),o+=Kd;return{times:void 0,keyframes:i,duration:o-Kd,ease:"linear"}}const VP={anticipate:fP,backInOut:dP,circInOut:mP};function VV(n){return n in VP}class s0 extends xP{constructor(e){super(e);const{name:t,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new bP(o,(l,u)=>this.onKeyframesResolved(l,u),t,r,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:i,ease:o,type:l,motionValue:u,name:h,startTime:f}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof o=="string"&&sc()&&VV(o)&&(o=VP[o]),NV(this.options)){const{onComplete:y,onUpdate:w,motionValue:T,element:A,...b}=this.options,C=LV(e,b);e=C.keyframes,e.length===1&&(e[1]=e[0]),r=C.duration,i=C.times,o=C.ease,l="keyframes"}const m=pL(u.owner.current,h,e,{...this.options,duration:r,times:i,ease:o});return m.startTime=f??this.calcStartTime(),this.pendingTimeline?(DT(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:y}=this.options;u.set(Sf(e,this.options,t)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:r,times:i,type:l,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Ur(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Ur(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Mr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Gn;const{animation:r}=t;DT(r,e)}return Gn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:i,type:o,ease:l,times:u}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:m,onComplete:y,element:w,...T}=this.options,A=new S_({...T,keyframes:r,duration:i,type:o,ease:l,times:u,isGenerator:!0}),b=Mr(this.time);f.setWithVelocity(A.sample(b-Kd).value,A.sample(b).value,Kd)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:i,repeatType:o,damping:l,type:u}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=t.owner.getProps();return OV()&&r&&xV.has(r)&&(r!=="transform"||!f)&&!h&&!i&&o!=="mirror"&&l!==0&&u!=="inertia"}}const MV={type:"spring",stiffness:500,damping:25,restSpeed:10},UV=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),FV={type:"keyframes",duration:.8},jV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$V=(n,{keyframes:e})=>e.length>2?FV:ko.has(n)?n.startsWith("scale")?UV(e[1]):MV:jV;function BV({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:u,from:h,elapsed:f,...m}){return!!Object.keys(m).length}const I_=(n,e,t,r={},i,o)=>l=>{const u=e_(r,n)||{},h=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Mr(h);let m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:w=>{e.set(w),u.onUpdate&&u.onUpdate(w)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:o?void 0:i};BV(u)||(m={...m,...$V(n,m)}),m.duration&&(m.duration=Mr(m.duration)),m.repeatDelay&&(m.repeatDelay=Mr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(y=!0)),m.allowFlatten=!u.type&&!u.ease,y&&!o&&e.get()!==void 0){const w=Sf(m.keyframes,u);if(w!==void 0)return Je.update(()=>{m.onUpdate(w),m.onComplete()}),new hL([])}return!o&&s0.supports(m)?new s0(m):new S_(m)};function zV({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function MP(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:o=n.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(o=r);const h=[],f=i&&n.animationState&&n.animationState.getState()[i];for(const m in u){const y=n.getValue(m,n.latestValues[m]??null),w=u[m];if(w===void 0||f&&zV(f,m))continue;const T={delay:t,...e_(o||{},m)};let A=!1;if(window.MotionHandoffAnimation){const C=aP(n);if(C){const D=window.MotionHandoffAnimation(C,m,Je);D!==null&&(T.startTime=D,A=!0)}}Ug(n,m),y.start(I_(m,y,w,n.shouldReduceMotion&&oP.has(m)?{type:!1}:T,n,A));const b=y.animation;b&&h.push(b)}return l&&Promise.all(h).then(()=>{Je.update(()=>{l&&_2(n,l)})}),h}function Gg(n,e,t={}){var h;const r=cc(n,e,t.type==="exit"?(h=n.presenceContext)==null?void 0:h.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const o=r?()=>Promise.all(MP(n,r,t)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:w}=i;return HV(n,e,m+f,y,w,t)}:()=>Promise.resolve(),{when:u}=i;if(u){const[f,m]=u==="beforeChildren"?[o,l]:[l,o];return f().then(()=>m())}else return Promise.all([o(),l(t.delay)])}function HV(n,e,t=0,r=0,i=1,o){const l=[],u=(n.variantChildren.size-1)*r,h=i===1?(f=0)=>f*r:(f=0)=>u-f*r;return Array.from(n.variantChildren).sort(qV).forEach((f,m)=>{f.notify("AnimationStart",e),l.push(Gg(f,e,{...o,delay:t+h(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function qV(n,e){return n.sortNodePosition(e)}function WV(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>Gg(n,o,t));r=Promise.all(i)}else if(typeof e=="string")r=Gg(n,e,t);else{const i=typeof e=="function"?cc(n,e,t.custom):e;r=Promise.all(MP(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function UP(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const KV=s_.length;function FP(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?FP(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<KV;t++){const r=s_[t],i=n.props[r];(ac(i)||i===!1)&&(e[r]=i)}return e}const GV=[...i_].reverse(),QV=i_.length;function JV(n){return e=>Promise.all(e.map(({animation:t,options:r})=>WV(n,t,r)))}function XV(n){let e=JV(n),t=o0(),r=!0;const i=h=>(f,m)=>{var w;const y=cc(n,m,h==="exit"?(w=n.presenceContext)==null?void 0:w.custom:void 0);if(y){const{transition:T,transitionEnd:A,...b}=y;f={...f,...b,...A}}return f};function o(h){e=h(n)}function l(h){const{props:f}=n,m=FP(n.parent)||{},y=[],w=new Set;let T={},A=1/0;for(let C=0;C<QV;C++){const D=GV[C],H=t[D],F=f[D]!==void 0?f[D]:m[D],G=ac(F),Q=D===h?H.isActive:null;Q===!1&&(A=C);let ne=F===m[D]&&F!==f[D]&&G;if(ne&&r&&n.manuallyAnimateOnMount&&(ne=!1),H.protectedKeys={...T},!H.isActive&&Q===null||!F&&!H.prevProp||Ef(F)||typeof F=="boolean")continue;const O=YV(H.prevProp,F);let P=O||D===h&&H.isActive&&!ne&&G||C>A&&G,R=!1;const N=Array.isArray(F)?F:[F];let U=N.reduce(i(D),{});Q===!1&&(U={});const{prevResolvedValues:$={}}=H,x={...$,...U},Ze=Ie=>{P=!0,w.has(Ie)&&(R=!0,w.delete(Ie)),H.needsAnimating[Ie]=!0;const ie=n.getValue(Ie);ie&&(ie.liveStyle=!1)};for(const Ie in x){const ie=U[Ie],fe=$[Ie];if(T.hasOwnProperty(Ie))continue;let oe=!1;Mg(ie)&&Mg(fe)?oe=!UP(ie,fe):oe=ie!==fe,oe?ie!=null?Ze(Ie):w.add(Ie):ie!==void 0&&w.has(Ie)?Ze(Ie):H.protectedKeys[Ie]=!0}H.prevProp=F,H.prevResolvedValues=U,H.isActive&&(T={...T,...U}),r&&n.blockInitialAnimation&&(P=!1),P&&(!(ne&&O)||R)&&y.push(...N.map(Ie=>({animation:Ie,options:{type:D}})))}if(w.size){const C={};if(typeof f.initial!="boolean"){const D=cc(n,Array.isArray(f.initial)?f.initial[0]:f.initial);D&&D.transition&&(C.transition=D.transition)}w.forEach(D=>{const H=n.getBaseTarget(D),F=n.getValue(D);F&&(F.liveStyle=!0),C[D]=H??null}),y.push({animation:C})}let b=!!y.length;return r&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(y):Promise.resolve()}function u(h,f){var y;if(t[h].isActive===f)return Promise.resolve();(y=n.variantChildren)==null||y.forEach(w=>{var T;return(T=w.animationState)==null?void 0:T.setActive(h,f)}),t[h].isActive=f;const m=l(h);for(const w in t)t[w].protectedKeys={};return m}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>t,reset:()=>{t=o0(),r=!0}}}function YV(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!UP(e,n):!1}function io(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function o0(){return{animate:io(!0),whileInView:io(),whileHover:io(),whileTap:io(),whileDrag:io(),whileFocus:io(),exit:io()}}class As{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ZV extends As{constructor(e){super(e),e.animationState||(e.animationState=XV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ef(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let eM=0;class tM extends As{constructor(){super(...arguments),this.id=eM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const nM={animation:{Feature:ZV},exit:{Feature:tM}};function dc(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function Rc(n){return{point:{x:n.pageX,y:n.pageY}}}const rM=n=>e=>r_(e)&&n(e,Rc(e));function Wu(n,e,t,r){return dc(n,e,rM(t),r)}function jP({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function iM({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function sM(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}const $P=1e-4,oM=1-$P,aM=1+$P,BP=.01,lM=0-BP,uM=0+BP;function un(n){return n.max-n.min}function cM(n,e,t){return Math.abs(n-e)<=t}function a0(n,e,t,r=.5){n.origin=r,n.originPoint=ot(e.min,e.max,n.origin),n.scale=un(t)/un(e),n.translate=ot(t.min,t.max,n.origin)-n.originPoint,(n.scale>=oM&&n.scale<=aM||isNaN(n.scale))&&(n.scale=1),(n.translate>=lM&&n.translate<=uM||isNaN(n.translate))&&(n.translate=0)}function Ku(n,e,t,r){a0(n.x,e.x,t.x,r?r.originX:void 0),a0(n.y,e.y,t.y,r?r.originY:void 0)}function l0(n,e,t){n.min=t.min+e.min,n.max=n.min+un(e)}function hM(n,e,t){l0(n.x,e.x,t.x),l0(n.y,e.y,t.y)}function u0(n,e,t){n.min=e.min-t.min,n.max=n.min+un(e)}function Gu(n,e,t){u0(n.x,e.x,t.x),u0(n.y,e.y,t.y)}const c0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wa=()=>({x:c0(),y:c0()}),h0=()=>({min:0,max:0}),mt=()=>({x:h0(),y:h0()});function qn(n){return[n("x"),n("y")]}function Gm(n){return n===void 0||n===1}function Qg({scale:n,scaleX:e,scaleY:t}){return!Gm(n)||!Gm(e)||!Gm(t)}function lo(n){return Qg(n)||zP(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function zP(n){return d0(n.x)||d0(n.y)}function d0(n){return n&&n!=="0%"}function Gd(n,e,t){const r=n-t,i=e*r;return t+i}function f0(n,e,t,r,i){return i!==void 0&&(n=Gd(n,i,r)),Gd(n,t,r)+e}function Jg(n,e=0,t=1,r,i){n.min=f0(n.min,e,t,r,i),n.max=f0(n.max,e,t,r,i)}function HP(n,{x:e,y:t}){Jg(n.x,e.translate,e.scale,e.originPoint),Jg(n.y,t.translate,t.scale,t.originPoint)}const p0=.999999999999,m0=1.0000000000001;function dM(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let o,l;for(let u=0;u<i;u++){o=t[u],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ga(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,HP(n,l)),r&&lo(o.latestValues)&&Ga(n,o.latestValues))}e.x<m0&&e.x>p0&&(e.x=1),e.y<m0&&e.y>p0&&(e.y=1)}function Ka(n,e){n.min=n.min+e,n.max=n.max+e}function g0(n,e,t,r,i=.5){const o=ot(n.min,n.max,i);Jg(n,e,t,o,r)}function Ga(n,e){g0(n.x,e.x,e.scaleX,e.scale,e.originX),g0(n.y,e.y,e.scaleY,e.scale,e.originY)}function qP(n,e){return jP(sM(n.getBoundingClientRect(),e))}function fM(n,e,t){const r=qP(n,t),{scroll:i}=e;return i&&(Ka(r.x,i.offset.x),Ka(r.y,i.offset.y)),r}const WP=({current:n})=>n?n.ownerDocument.defaultView:null,y0=(n,e)=>Math.abs(n-e);function pM(n,e){const t=y0(n.x,e.x),r=y0(n.y,e.y);return Math.sqrt(t**2+r**2)}class KP{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Jm(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,T=pM(y.offset,{x:0,y:0})>=3;if(!w&&!T)return;const{point:A}=y,{timestamp:b}=Bt;this.history.push({...A,timestamp:b});const{onStart:C,onMove:D}=this.handlers;w||(C&&C(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,y)},this.handlePointerMove=(y,w)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Qm(w,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(y,w)=>{this.end();const{onEnd:T,onSessionEnd:A,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Jm(y.type==="pointercancel"?this.lastMoveEventInfo:Qm(w,this.transformPagePoint),this.history);this.startEvent&&T&&T(y,C),A&&A(y,C)},!r_(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const l=Rc(e),u=Qm(l,this.transformPagePoint),{point:h}=u,{timestamp:f}=Bt;this.history=[{...h,timestamp:f}];const{onSessionStart:m}=t;m&&m(e,Jm(u,this.history)),this.removeListeners=Cc(Wu(this.contextWindow,"pointermove",this.handlePointerMove),Wu(this.contextWindow,"pointerup",this.handlePointerUp),Wu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ps(this.updatePoint)}}function Qm(n,e){return e?{point:e(n.point)}:n}function _0(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Jm({point:n},e){return{point:n,delta:_0(n,GP(e)),offset:_0(n,mM(e)),velocity:gM(e,.1)}}function mM(n){return n[0]}function GP(n){return n[n.length-1]}function gM(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=GP(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Mr(e)));)t--;if(!r)return{x:0,y:0};const o=Ur(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function yM(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?ot(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?ot(t,n,r.max):Math.min(n,t)),n}function v0(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function _M(n,{top:e,left:t,bottom:r,right:i}){return{x:v0(n.x,t,i),y:v0(n.y,e,r)}}function w0(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function vM(n,e){return{x:w0(n.x,e.x),y:w0(n.y,e.y)}}function wM(n,e){let t=.5;const r=un(n),i=un(e);return i>r?t=ic(e.min,e.max-r,n.min):r>i&&(t=ic(n.min,n.max-i,e.min)),vi(0,1,t)}function EM(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Xg=.35;function TM(n=Xg){return n===!1?n=0:n===!0&&(n=Xg),{x:E0(n,"left","right"),y:E0(n,"top","bottom")}}function E0(n,e,t){return{min:T0(n,e),max:T0(n,t)}}function T0(n,e){return typeof n=="number"?n:n[e]||0}const SM=new WeakMap;class IM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Rc(m).point)},o=(m,y)=>{const{drag:w,dragPropagation:T,onDragStart:A}=this.getProps();if(w&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vL(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qn(C=>{let D=this.getAxisMotionValue(C).get()||0;if(jr.test(D)){const{projection:H}=this.visualElement;if(H&&H.layout){const F=H.layout.layoutBox[C];F&&(D=un(F)*(parseFloat(D)/100))}}this.originPoint[C]=D}),A&&Je.postRender(()=>A(m,y)),Ug(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(m,y)=>{const{dragPropagation:w,dragDirectionLock:T,onDirectionLock:A,onDrag:b}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:C}=y;if(T&&this.currentDirection===null){this.currentDirection=AM(C),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",y.point,C),this.updateAxis("y",y.point,C),this.visualElement.render(),b&&b(m,y)},u=(m,y)=>this.stop(m,y),h=()=>qn(m=>{var y;return this.getAnimationState(m)==="paused"&&((y=this.getAxisMotionValue(m).animation)==null?void 0:y.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new KP(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:WP(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Je.postRender(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!hd(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=yM(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&Ha(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=_M(r.layoutBox,e):this.constraints=!1,this.elastic=TM(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&qn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=EM(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ha(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=fM(r,i.root,this.visualElement.getTransformPagePoint());let l=vM(i.layout.layoutBox,o);if(t){const u=t(iM(l));this.hasMutatedConstraints=!!u,u&&(l=jP(u))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=qn(m=>{if(!hd(m,t,this.currentDirection))return;let y=h&&h[m]||{};l&&(y={min:0,max:0});const w=i?200:1e6,T=i?40:1e7,A={type:"inertia",velocity:r?e[m]:0,bounceStiffness:w,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(m,A)});return Promise.all(f).then(u)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Ug(this.visualElement,e),r.start(I_(e,r,0,t,this.visualElement,!1))}stopAnimation(){qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){qn(t=>{const{drag:r}=this.getProps();if(!hd(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(t);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[t];o.set(e[t]-ot(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Ha(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};qn(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();i[l]=wM({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qn(l=>{if(!hd(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];u.set(ot(h,f,i[l]))})}addListeners(){if(!this.visualElement.current)return;SM.set(this.visualElement,this);const e=this.visualElement.current,t=Wu(e,"pointerdown",h=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Ha(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Je.read(r);const l=dc(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(qn(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=h[m].translate,y.set(y.get()+h[m].translate))}),this.visualElement.render())});return()=>{l(),t(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=Xg,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function hd(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function AM(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class PM extends As{constructor(e){super(e),this.removeGroupControls=Gn,this.removeListeners=Gn,this.controls=new IM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gn}unmount(){this.removeGroupControls(),this.removeListeners()}}const S0=n=>(e,t)=>{n&&Je.postRender(()=>n(e,t))};class CM extends As{constructor(){super(...arguments),this.removePointerDownListener=Gn}onPointerDown(e){this.session=new KP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:WP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:S0(e),onStart:S0(t),onMove:r,onEnd:(o,l)=>{delete this.session,i&&Je.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=Wu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ad={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function I0(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const bu={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ve.test(n))n=parseFloat(n);else return n;const t=I0(n,e.target.x),r=I0(n,e.target.y);return`${t}% ${r}%`}},RM={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=ms.parse(n);if(i.length>5)return r;const o=ms.createTransformer(n),l=typeof i[0]!="number"?1:0,u=t.x.scale*e.x,h=t.y.scale*e.y;i[0+l]/=u,i[1+l]/=h;const f=ot(u,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=f),typeof i[3+l]=="number"&&(i[3+l]/=f),o(i)}};class kM extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;WL(bM),o&&(t.group&&t.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ad.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:o}=this.props,l=r.projection;return l&&(l.isPresent=o,i||e.layoutDependency!==t||t===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||Je.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),n_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function QP(n){const[e,t]=DA(),r=V.useContext(Hy);return gi.jsx(kM,{...n,layoutGroup:r,switchLayoutGroup:V.useContext(KA),isPresent:e,safeToRemove:t})}const bM={borderRadius:{...bu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bu,borderTopRightRadius:bu,borderBottomLeftRadius:bu,borderBottomRightRadius:bu,boxShadow:RM};function xM(n,e,t){const r=tn(n)?n:oc(n);return r.start(I_("",r,e,t)),r.animation}function OM(n){return n instanceof SVGElement&&n.tagName!=="svg"}const DM=(n,e)=>n.depth-e.depth;class NM{constructor(){this.children=[],this.isDirty=!1}add(e){Gy(this.children,e),this.isDirty=!0}remove(e){Qy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(DM),this.isDirty=!1,this.children.forEach(e)}}function LM(n,e){const t=Fr.now(),r=({timestamp:i})=>{const o=i-t;o>=e&&(ps(r),n(o-e))};return Je.read(r,!0),()=>ps(r)}const JP=["TopLeft","TopRight","BottomLeft","BottomRight"],VM=JP.length,A0=n=>typeof n=="string"?parseFloat(n):n,P0=n=>typeof n=="number"||ve.test(n);function MM(n,e,t,r,i,o){i?(n.opacity=ot(0,t.opacity??1,UM(r)),n.opacityExit=ot(e.opacity??1,0,FM(r))):o&&(n.opacity=ot(e.opacity??1,t.opacity??1,r));for(let l=0;l<VM;l++){const u=`border${JP[l]}Radius`;let h=C0(e,u),f=C0(t,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||P0(h)===P0(f)?(n[u]=Math.max(ot(A0(h),A0(f),r),0),(jr.test(f)||jr.test(h))&&(n[u]+="%")):n[u]=f}(e.rotate||t.rotate)&&(n.rotate=ot(e.rotate||0,t.rotate||0,r))}function C0(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const UM=XP(0,.5,pP),FM=XP(.5,.95,Gn);function XP(n,e,t){return r=>r<n?0:r>e?1:t(ic(n,e,r))}function R0(n,e){n.min=e.min,n.max=e.max}function Hn(n,e){R0(n.x,e.x),R0(n.y,e.y)}function k0(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function b0(n,e,t,r,i){return n-=e,n=Gd(n,1/t,r),i!==void 0&&(n=Gd(n,1/i,r)),n}function jM(n,e=0,t=1,r=.5,i,o=n,l=n){if(jr.test(e)&&(e=parseFloat(e),e=ot(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=ot(o.min,o.max,r);n===o&&(u-=e),n.min=b0(n.min,e,t,u,i),n.max=b0(n.max,e,t,u,i)}function x0(n,e,[t,r,i],o,l){jM(n,e[t],e[r],e[i],e.scale,o,l)}const $M=["x","scaleX","originX"],BM=["y","scaleY","originY"];function O0(n,e,t,r){x0(n.x,e,$M,t?t.x:void 0,r?r.x:void 0),x0(n.y,e,BM,t?t.y:void 0,r?r.y:void 0)}function D0(n){return n.translate===0&&n.scale===1}function YP(n){return D0(n.x)&&D0(n.y)}function N0(n,e){return n.min===e.min&&n.max===e.max}function zM(n,e){return N0(n.x,e.x)&&N0(n.y,e.y)}function L0(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function ZP(n,e){return L0(n.x,e.x)&&L0(n.y,e.y)}function V0(n){return un(n.x)/un(n.y)}function M0(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class HM{constructor(){this.members=[]}add(e){Gy(this.members,e),e.scheduleRender()}remove(e){if(Qy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qM(n,e,t){let r="";const i=n.x.translate/e.x,o=n.y.translate/e.y,l=(t==null?void 0:t.z)||0;if((i||o||l)&&(r=`translate3d(${i}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:m,rotateX:y,rotateY:w,skewX:T,skewY:A}=t;f&&(r=`perspective(${f}px) ${r}`),m&&(r+=`rotate(${m}deg) `),y&&(r+=`rotateX(${y}deg) `),w&&(r+=`rotateY(${w}deg) `),T&&(r+=`skewX(${T}deg) `),A&&(r+=`skewY(${A}deg) `)}const u=n.x.scale*e.x,h=n.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const Xm=["","X","Y","Z"],WM={visibility:"hidden"},U0=1e3;let KM=0;function Ym(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function eC(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=aP(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Je,!(i||o))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&eC(r)}function tC({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},u=e==null?void 0:e()){this.id=KM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(JM),this.nodes.forEach(t4),this.nodes.forEach(n4),this.nodes.forEach(XM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new NM)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Xy),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=OM(l),this.instance=l;const{layoutId:h,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(f||h)&&(this.isLayoutDirty=!0),n){let y;const w=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=LM(w,250),Ad.hasAnimatedSinceResize&&(Ad.hasAnimatedSinceResize=!1,this.nodes.forEach(j0))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:w,hasRelativeLayoutChanged:T,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||m.getDefaultTransition()||a4,{onLayoutAnimationStart:C,onLayoutAnimationComplete:D}=m.getProps(),H=!this.targetLayout||!ZP(this.targetLayout,A),F=!w&&T;if(this.options.layoutRoot||this.resumeFrom||F||w&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,F);const G={...e_(b,"layout"),onPlay:C,onComplete:D};(m.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G)}else w||j0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ps(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(r4),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&eC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(F0);return}this.isUpdating||this.nodes.forEach(ZM),this.isUpdating=!1,this.nodes.forEach(e4),this.nodes.forEach(GM),this.nodes.forEach(QM),this.clearAllSnapshots();const u=Fr.now();Bt.delta=vi(0,1e3/60,u-Bt.timestamp),Bt.timestamp=u,Bt.isProcessing=!0,zm.update.process(Bt),zm.preRender.process(Bt),zm.render.process(Bt),Bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,n_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(YM),this.sharedNodes.forEach(i4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!un(this.snapshot.measuredBox.x)&&!un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!YP(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;l&&(u||lo(this.latestValues)||m)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),l4(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:l}=this.options;if(!l)return mt();const u=l.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(u4))){const{scroll:m}=this.root;m&&(Ka(u.x,m.offset.x),Ka(u.y,m.offset.y))}return u}removeElementScroll(l){var h;const u=mt();if(Hn(u,l),(h=this.scroll)!=null&&h.wasRoot)return u;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:y,options:w}=m;m!==this.root&&y&&w.layoutScroll&&(y.wasRoot&&Hn(u,l),Ka(u.x,y.offset.x),Ka(u.y,y.offset.y))}return u}applyTransform(l,u=!1){const h=mt();Hn(h,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Ga(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),lo(m.latestValues)&&Ga(h,m.latestValues)}return lo(this.latestValues)&&Ga(h,this.latestValues),h}removeTransform(l){const u=mt();Hn(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!lo(f.latestValues))continue;Qg(f.latestValues)&&f.updateSnapshot();const m=mt(),y=f.measurePageBox();Hn(m,y),O0(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return lo(this.latestValues)&&O0(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var w;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=Bt.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),Gu(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),Hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=mt(),this.targetWithTransforms=mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hn(this.target,this.layout.layoutBox),HP(this.target,this.targetDelta)):Hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),Gu(this.relativeTargetOrigin,this.target,T.target),Hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Qg(this.parent.latestValues)||zP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Bt.timestamp&&(h=!1),h)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;Hn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,w=this.treeScale.y;dM(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=mt());const{target:T}=l;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(k0(this.prevProjectionDelta.x,this.projectionDelta.x),k0(this.prevProjectionDelta.y,this.projectionDelta.y)),Ku(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==w||!M0(this.projectionDelta.x,this.prevProjectionDelta.x)||!M0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wa(),this.projectionDelta=Wa(),this.projectionDeltaWithTransform=Wa()}setAnimationOrigin(l,u=!1){const h=this.snapshot,f=h?h.latestValues:{},m={...this.latestValues},y=Wa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const w=mt(),T=h?h.source:void 0,A=this.layout?this.layout.source:void 0,b=T!==A,C=this.getStack(),D=!C||C.members.length<=1,H=!!(b&&!D&&this.options.crossfade===!0&&!this.path.some(o4));this.animationProgress=0;let F;this.mixTargetDelta=G=>{const Q=G/1e3;$0(y.x,l.x,Q),$0(y.y,l.y,Q),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gu(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),s4(this.relativeTarget,this.relativeTargetOrigin,w,Q),F&&zM(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=mt()),Hn(F,this.relativeTarget)),b&&(this.animationValues=m,MM(m,f,this.latestValues,Q,H,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ps(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{Ad.hasAnimatedSinceResize=!0,this.currentAnimation=xM(0,U0,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(U0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:m}=l;if(!(!u||!h||!f)){if(this!==l&&this.layout&&f&&nC(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||mt();const y=un(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const w=un(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+w}Hn(u,h),Ga(u,m),Ku(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new HM),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const f={};h.z&&Ym("z",l,f,this.animationValues);for(let m=0;m<Xm.length;m++)Ym(`rotate${Xm[m]}`,l,f,this.animationValues),Ym(`skew${Xm[m]}`,l,f,this.animationValues);l.render();for(const m in f)l.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return WM;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Id(l==null?void 0:l.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=Id(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!lo(this.latestValues)&&(T.transform=h?h({},""):"none",this.hasProjected=!1),T}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=qM(this.projectionDeltaWithTransform,this.treeScale,m),h&&(u.transform=h(m,u.transform));const{x:y,y:w}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${w.origin*100}% 0`,f.animationValues?u.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const T in lc){if(m[T]===void 0)continue;const{correct:A,applyTo:b,isCSSVariable:C}=lc[T],D=u.transform==="none"?m[T]:A(m[T],f);if(b){const H=b.length;for(let F=0;F<H;F++)u[b[F]]=D}else C?this.options.visualElement.renderState.vars[T]=D:u[T]=D}return this.options.layoutId&&(u.pointerEvents=f===this?Id(l==null?void 0:l.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(F0),this.root.sharedNodes.clear()}}}function GM(n){n.updateLayout()}function QM(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:o}=n.options,l=e.source!==n.layout.source;o==="size"?qn(y=>{const w=l?e.measuredBox[y]:e.layoutBox[y],T=un(w);w.min=r[y].min,w.max=w.min+T}):nC(o,e.layoutBox,r)&&qn(y=>{const w=l?e.measuredBox[y]:e.layoutBox[y],T=un(r[y]);w.max=w.min+T,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+T)});const u=Wa();Ku(u,r,e.layoutBox);const h=Wa();l?Ku(h,n.applyTransform(i,!0),e.measuredBox):Ku(h,r,e.layoutBox);const f=!YP(u);let m=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:w,layout:T}=y;if(w&&T){const A=mt();Gu(A,e.layoutBox,w.layoutBox);const b=mt();Gu(b,r,T.layoutBox),ZP(A,b)||(m=!0),y.options.layoutRoot&&(n.relativeTarget=b,n.relativeTargetOrigin=A,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function JM(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function XM(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function YM(n){n.clearSnapshot()}function F0(n){n.clearMeasurements()}function ZM(n){n.isLayoutDirty=!1}function e4(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function j0(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function t4(n){n.resolveTargetDelta()}function n4(n){n.calcProjection()}function r4(n){n.resetSkewAndRotation()}function i4(n){n.removeLeadSnapshot()}function $0(n,e,t){n.translate=ot(e.translate,0,t),n.scale=ot(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function B0(n,e,t,r){n.min=ot(e.min,t.min,r),n.max=ot(e.max,t.max,r)}function s4(n,e,t,r){B0(n.x,e.x,t.x,r),B0(n.y,e.y,t.y,r)}function o4(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const a4={duration:.45,ease:[.4,0,.1,1]},z0=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),H0=z0("applewebkit/")&&!z0("chrome/")?Math.round:Gn;function q0(n){n.min=H0(n.min),n.max=H0(n.max)}function l4(n){q0(n.x),q0(n.y)}function nC(n,e,t){return n==="position"||n==="preserve-aspect"&&!cM(V0(e),V0(t),.2)}function u4(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const c4=tC({attachResizeListener:(n,e)=>dc(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zm={current:void 0},rC=tC({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Zm.current){const n=new c4({});n.mount(window),n.setOptions({layoutScroll:!0}),Zm.current=n}return Zm.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),h4={pan:{Feature:CM},drag:{Feature:PM,ProjectionNode:rC,MeasureLayout:QP}};function W0(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,o=r[i];o&&Je.postRender(()=>o(e,Rc(e)))}class d4 extends As{mount(){const{current:e}=this.node;e&&(this.unmount=EL(e,(t,r)=>(W0(this.node,r,"Start"),i=>W0(this.node,i,"End"))))}unmount(){}}class f4 extends As{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cc(dc(this.node.current,"focus",()=>this.onFocus()),dc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function K0(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),o=r[i];o&&Je.postRender(()=>o(e,Rc(e)))}class p4 extends As{mount(){const{current:e}=this.node;e&&(this.unmount=AL(e,(t,r)=>(K0(this.node,r,"Start"),(i,{success:o})=>K0(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yg=new WeakMap,eg=new WeakMap,m4=n=>{const e=Yg.get(n.target);e&&e(n)},g4=n=>{n.forEach(m4)};function y4({root:n,...e}){const t=n||document;eg.has(t)||eg.set(t,{});const r=eg.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(g4,{root:n,...e})),r[i]}function _4(n,e,t){const r=y4(e);return Yg.set(n,t),r.observe(n),()=>{Yg.delete(n),r.unobserve(n)}}const v4={some:0,all:1};class w4 extends As{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:o}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:v4[i]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),w=f?m:y;w&&w(h)};return _4(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(E4(e,t))&&this.startObserver()}unmount(){}}function E4({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const T4={inView:{Feature:w4},tap:{Feature:p4},focus:{Feature:f4},hover:{Feature:d4}},S4={layout:{ProjectionNode:rC,MeasureLayout:QP}},Zg={current:null},iC={current:!1};function I4(){if(iC.current=!0,!!Wy)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Zg.current=n.matches;n.addListener(e),e()}else Zg.current=!1}const A4=[...kP,Yt,ms],P4=n=>A4.find(RP(n)),C4=new WeakMap;function R4(n,e,t){for(const r in e){const i=e[r],o=t[r];if(tn(i))n.addValue(r,i);else if(tn(o))n.addValue(r,oc(i,{owner:n}));else if(o!==i)if(n.hasValue(r)){const l=n.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=n.getStaticValue(r);n.addValue(r,oc(l!==void 0?l:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const G0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class k4{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=E_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Fr.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,Je.render(this.render,!1,!0))};const{latestValues:h,renderState:f,onUpdate:m}=l;this.onUpdate=m,this.latestValues=h,this.baseTarget={...h},this.initialValues=t.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Tf(t),this.isVariantNode=qA(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...w}=this.scrapeMotionValuesFromProps(t,{},this);for(const T in w){const A=w[T];h[T]!==void 0&&tn(A)&&A.set(h[T],!1)}}mount(e){this.current=e,C4.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),iC.current||I4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ps(this.notifyUpdate),ps(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ko.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Je.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),o(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in sl){const t=sl[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<G0.length;r++){const i=G0[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=e[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=R4(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=oc(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(PP(r)||gP(r))?r=parseFloat(r):!P4(r)&&ms.test(t)&&(r=SP(e,t)),this.setBaseTarget(e,tn(r)?r.get():r)),tn(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var o;const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const l=m_(this.props,t,(o=this.presenceContext)==null?void 0:o.custom);l&&(r=l[e])}if(t&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!tn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Xy),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class sC extends k4{constructor(){super(...arguments),this.KeyframeResolver=bP}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;tn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function b4(n){return window.getComputedStyle(n)}class x4 extends sC{constructor(){super(...arguments),this.type="html",this.renderInstance=nP}readValueFromInstance(e,t){if(ko.has(t))return z2(e,t);{const r=b4(e),i=(a_(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return qP(e,t)}build(e,t,r){c_(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return g_(e,t,r)}}class O4 extends sC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&tP(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ko.has(t)){const r=TP(t);return r&&r.default||0}return t=rP.has(t)?t:o_(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return sP(e,t,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&Je.postRender(this.updateDimensions)}build(e,t,r){f_(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,i){iP(e,t,r,i)}mount(e){this.isSVGTag=p_(e.tagName),super.mount(e)}}const D4=(n,e)=>d_(n)?new O4(e):new x4(e,{allowProjection:n!==V.Fragment}),N4=g2({...nM,...T4,...h4,...S4},D4),u8=OL(N4),L4=()=>{};var Q0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},V4=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],u=n[t++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},aC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,u=l?n[i+1]:0,h=i+2<n.length,f=h?n[i+2]:0,m=o>>2,y=(o&3)<<4|u>>4;let w=(u&15)<<2|f>>6,T=f&63;h||(T=64,l||(w=64)),r.push(t[m],t[y],t[w],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(oC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):V4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const y=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||u==null||f==null||y==null)throw new M4;const w=o<<2|u>>4;if(r.push(w),f!==64){const T=u<<4&240|f>>2;if(r.push(T),y!==64){const A=f<<6&192|y;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class M4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U4=function(n){const e=oC(n);return aC.encodeByteArray(e,!0)},Qd=function(n){return U4(n).replace(/\./g,"")},lC=function(n){try{return aC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=()=>F4().__FIREBASE_DEFAULTS__,$4=()=>{if(typeof process>"u"||typeof Q0>"u")return;const n=Q0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},B4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&lC(n[1]);return e&&JSON.parse(e)},If=()=>{try{return L4()||j4()||$4()||B4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},uC=n=>{var e,t;return(t=(e=If())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},cC=n=>{const e=uC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},hC=()=>{var n;return(n=If())===null||n===void 0?void 0:n.config},dC=n=>{var e;return(e=If())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Qd(JSON.stringify(t)),Qd(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function H4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function q4(){var n;const e=(n=If())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function W4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function K4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function G4(){const n=nn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Q4(){return!q4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mC(){try{return typeof indexedDB=="object"}catch{return!1}}function gC(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function J4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="FirebaseError";class er extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=X4,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bo.prototype.create)}}class bo{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?Y4(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new er(i,u,r)}}function Y4(n,e){return n.replace(Z4,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Z4=/\{\$([^}]+)}/g;function eU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function wo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(J0(o)&&J0(l)){if(!wo(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function J0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Mu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function tU(n,e){const t=new nU(n,e);return t.subscribe.bind(t)}class nU{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");rU(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=tg),i.error===void 0&&(i.error=tg),i.complete===void 0&&(i.complete=tg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rU(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function tg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=1e3,sU=2,oU=4*60*60*1e3,aU=.5;function X0(n,e=iU,t=sU){const r=e*Math.pow(t,n),i=Math.round(aU*r*(Math.random()-.5)*2);return Math.min(oU,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(n){return n&&n._delegate?n._delegate:n}class Yn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new z4;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cU(e))try{this.getOrInitializeService({instanceIdentifier:uo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=uo){return this.instances.has(e)}getOptions(e=uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uU(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=uo){return this.component?this.component.multipleInstances?e:uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uU(n){return n===uo?void 0:n}function cU(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new lU(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Oe||(Oe={}));const dU={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},fU=Oe.INFO,pU={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},mU=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=pU[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Af{constructor(e){this.name=e,this._logLevel=fU,this._logHandler=mU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const gU=(n,e)=>e.some(t=>n instanceof t);let Y0,Z0;function yU(){return Y0||(Y0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _U(){return Z0||(Z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yC=new WeakMap,ey=new WeakMap,_C=new WeakMap,ng=new WeakMap,A_=new WeakMap;function vU(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(ls(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&yC.set(t,n)}).catch(()=>{}),A_.set(e,n),e}function wU(n){if(ey.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});ey.set(n,e)}let ty={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ey.get(n);if(e==="objectStoreNames")return n.objectStoreNames||_C.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ls(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function EU(n){ty=n(ty)}function TU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(rg(this),e,...t);return _C.set(r,e.sort?e.sort():[e]),ls(r)}:_U().includes(n)?function(...e){return n.apply(rg(this),e),ls(yC.get(this))}:function(...e){return ls(n.apply(rg(this),e))}}function SU(n){return typeof n=="function"?TU(n):(n instanceof IDBTransaction&&wU(n),gU(n,yU())?new Proxy(n,ty):n)}function ls(n){if(n instanceof IDBRequest)return vU(n);if(ng.has(n))return ng.get(n);const e=SU(n);return e!==n&&(ng.set(n,e),A_.set(e,n)),e}const rg=n=>A_.get(n);function vC(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),u=ls(l);return r&&l.addEventListener("upgradeneeded",h=>{r(ls(l.result),h.oldVersion,h.newVersion,ls(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const IU=["get","getKey","getAll","getAllKeys","count"],AU=["put","add","delete","clear"],ig=new Map;function eS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ig.get(e))return ig.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=AU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||IU.includes(t)))return;const o=async function(l,...u){const h=this.transaction(l,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),i&&h.done]))[0]};return ig.set(e,o),o}EU(n=>({...n,get:(e,t,r)=>eS(e,t)||n.get(e,t,r),has:(e,t)=>!!eS(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(CU(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function CU(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ny="@firebase/app",tS="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new Af("@firebase/app"),RU="@firebase/app-compat",kU="@firebase/analytics-compat",bU="@firebase/analytics",xU="@firebase/app-check-compat",OU="@firebase/app-check",DU="@firebase/auth",NU="@firebase/auth-compat",LU="@firebase/database",VU="@firebase/data-connect",MU="@firebase/database-compat",UU="@firebase/functions",FU="@firebase/functions-compat",jU="@firebase/installations",$U="@firebase/installations-compat",BU="@firebase/messaging",zU="@firebase/messaging-compat",HU="@firebase/performance",qU="@firebase/performance-compat",WU="@firebase/remote-config",KU="@firebase/remote-config-compat",GU="@firebase/storage",QU="@firebase/storage-compat",JU="@firebase/firestore",XU="@firebase/vertexai",YU="@firebase/firestore-compat",ZU="firebase",eF="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="[DEFAULT]",tF={[ny]:"fire-core",[RU]:"fire-core-compat",[bU]:"fire-analytics",[kU]:"fire-analytics-compat",[OU]:"fire-app-check",[xU]:"fire-app-check-compat",[DU]:"fire-auth",[NU]:"fire-auth-compat",[LU]:"fire-rtdb",[VU]:"fire-data-connect",[MU]:"fire-rtdb-compat",[UU]:"fire-fn",[FU]:"fire-fn-compat",[jU]:"fire-iid",[$U]:"fire-iid-compat",[BU]:"fire-fcm",[zU]:"fire-fcm-compat",[HU]:"fire-perf",[qU]:"fire-perf-compat",[WU]:"fire-rc",[KU]:"fire-rc-compat",[GU]:"fire-gcs",[QU]:"fire-gcs-compat",[JU]:"fire-fst",[YU]:"fire-fst-compat",[XU]:"fire-vertex","fire-js":"fire-js",[ZU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new Map,nF=new Map,iy=new Map;function nS(n,e){try{n.container.addComponent(e)}catch(t){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function vr(n){const e=n.name;if(iy.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;iy.set(e,n);for(const t of Jd.values())nS(t,n);for(const t of nF.values())nS(t,n);return!0}function El(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Kn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},us=new bo("app","Firebase",rF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=eF;function sF(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ry,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw us.create("bad-app-name",{appName:String(i)});if(t||(t=hC()),!t)throw us.create("no-options");const o=Jd.get(i);if(o){if(wo(t,o.options)&&wo(r,o.config))return o;throw us.create("duplicate-app",{appName:i})}const l=new hU(i);for(const h of iy.values())l.addComponent(h);const u=new iF(t,r,l);return Jd.set(i,u),u}function P_(n=ry){const e=Jd.get(n);if(!e&&n===ry&&hC())return sF();if(!e)throw us.create("no-app",{appName:n});return e}function En(n,e,t){var r;let i=(r=tF[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(u.join(" "));return}vr(new Yn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF="firebase-heartbeat-database",aF=1,fc="firebase-heartbeat-store";let sg=null;function wC(){return sg||(sg=vC(oF,aF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fc)}catch(t){console.warn(t)}}}}).catch(n=>{throw us.create("idb-open",{originalErrorMessage:n.message})})),sg}async function lF(n){try{const t=(await wC()).transaction(fc),r=await t.objectStore(fc).get(EC(n));return await t.done,r}catch(e){if(e instanceof er)wi.warn(e.message);else{const t=us.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wi.warn(t.message)}}}async function rS(n,e){try{const r=(await wC()).transaction(fc,"readwrite");await r.objectStore(fc).put(e,EC(n)),await r.done}catch(t){if(t instanceof er)wi.warn(t.message);else{const r=us.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});wi.warn(r.message)}}}function EC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF=1024,cF=30;class hF{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fF(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=iS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>cF){const l=pF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){wi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=iS(),{heartbeatsToSend:r,unsentEntries:i}=dF(this._heartbeatsCache.heartbeats),o=Qd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return wi.warn(t),""}}}function iS(){return new Date().toISOString().substring(0,10)}function dF(n,e=uF){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),sS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),sS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class fF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mC()?gC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await lF(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return rS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return rS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function sS(n){return Qd(JSON.stringify({version:2,heartbeats:n})).length}function pF(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(n){vr(new Yn("platform-logger",e=>new PU(e),"PRIVATE")),vr(new Yn("heartbeat",e=>new hF(e),"PRIVATE")),En(ny,tS,n),En(ny,tS,"esm2017"),En("fire-js","")}mF("");var gF="firebase",yF="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En(gF,yF,"app");var oS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cs,TC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,P){function R(){}R.prototype=P.prototype,O.D=P.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(N,U,$){for(var x=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)x[Ze-2]=arguments[Ze];return P.prototype[U].apply(N,x)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,P,R){R||(R=0);var N=Array(16);if(typeof P=="string")for(var U=0;16>U;++U)N[U]=P.charCodeAt(R++)|P.charCodeAt(R++)<<8|P.charCodeAt(R++)<<16|P.charCodeAt(R++)<<24;else for(U=0;16>U;++U)N[U]=P[R++]|P[R++]<<8|P[R++]<<16|P[R++]<<24;P=O.g[0],R=O.g[1],U=O.g[2];var $=O.g[3],x=P+($^R&(U^$))+N[0]+3614090360&4294967295;P=R+(x<<7&4294967295|x>>>25),x=$+(U^P&(R^U))+N[1]+3905402710&4294967295,$=P+(x<<12&4294967295|x>>>20),x=U+(R^$&(P^R))+N[2]+606105819&4294967295,U=$+(x<<17&4294967295|x>>>15),x=R+(P^U&($^P))+N[3]+3250441966&4294967295,R=U+(x<<22&4294967295|x>>>10),x=P+($^R&(U^$))+N[4]+4118548399&4294967295,P=R+(x<<7&4294967295|x>>>25),x=$+(U^P&(R^U))+N[5]+1200080426&4294967295,$=P+(x<<12&4294967295|x>>>20),x=U+(R^$&(P^R))+N[6]+2821735955&4294967295,U=$+(x<<17&4294967295|x>>>15),x=R+(P^U&($^P))+N[7]+4249261313&4294967295,R=U+(x<<22&4294967295|x>>>10),x=P+($^R&(U^$))+N[8]+1770035416&4294967295,P=R+(x<<7&4294967295|x>>>25),x=$+(U^P&(R^U))+N[9]+2336552879&4294967295,$=P+(x<<12&4294967295|x>>>20),x=U+(R^$&(P^R))+N[10]+4294925233&4294967295,U=$+(x<<17&4294967295|x>>>15),x=R+(P^U&($^P))+N[11]+2304563134&4294967295,R=U+(x<<22&4294967295|x>>>10),x=P+($^R&(U^$))+N[12]+1804603682&4294967295,P=R+(x<<7&4294967295|x>>>25),x=$+(U^P&(R^U))+N[13]+4254626195&4294967295,$=P+(x<<12&4294967295|x>>>20),x=U+(R^$&(P^R))+N[14]+2792965006&4294967295,U=$+(x<<17&4294967295|x>>>15),x=R+(P^U&($^P))+N[15]+1236535329&4294967295,R=U+(x<<22&4294967295|x>>>10),x=P+(U^$&(R^U))+N[1]+4129170786&4294967295,P=R+(x<<5&4294967295|x>>>27),x=$+(R^U&(P^R))+N[6]+3225465664&4294967295,$=P+(x<<9&4294967295|x>>>23),x=U+(P^R&($^P))+N[11]+643717713&4294967295,U=$+(x<<14&4294967295|x>>>18),x=R+($^P&(U^$))+N[0]+3921069994&4294967295,R=U+(x<<20&4294967295|x>>>12),x=P+(U^$&(R^U))+N[5]+3593408605&4294967295,P=R+(x<<5&4294967295|x>>>27),x=$+(R^U&(P^R))+N[10]+38016083&4294967295,$=P+(x<<9&4294967295|x>>>23),x=U+(P^R&($^P))+N[15]+3634488961&4294967295,U=$+(x<<14&4294967295|x>>>18),x=R+($^P&(U^$))+N[4]+3889429448&4294967295,R=U+(x<<20&4294967295|x>>>12),x=P+(U^$&(R^U))+N[9]+568446438&4294967295,P=R+(x<<5&4294967295|x>>>27),x=$+(R^U&(P^R))+N[14]+3275163606&4294967295,$=P+(x<<9&4294967295|x>>>23),x=U+(P^R&($^P))+N[3]+4107603335&4294967295,U=$+(x<<14&4294967295|x>>>18),x=R+($^P&(U^$))+N[8]+1163531501&4294967295,R=U+(x<<20&4294967295|x>>>12),x=P+(U^$&(R^U))+N[13]+2850285829&4294967295,P=R+(x<<5&4294967295|x>>>27),x=$+(R^U&(P^R))+N[2]+4243563512&4294967295,$=P+(x<<9&4294967295|x>>>23),x=U+(P^R&($^P))+N[7]+1735328473&4294967295,U=$+(x<<14&4294967295|x>>>18),x=R+($^P&(U^$))+N[12]+2368359562&4294967295,R=U+(x<<20&4294967295|x>>>12),x=P+(R^U^$)+N[5]+4294588738&4294967295,P=R+(x<<4&4294967295|x>>>28),x=$+(P^R^U)+N[8]+2272392833&4294967295,$=P+(x<<11&4294967295|x>>>21),x=U+($^P^R)+N[11]+1839030562&4294967295,U=$+(x<<16&4294967295|x>>>16),x=R+(U^$^P)+N[14]+4259657740&4294967295,R=U+(x<<23&4294967295|x>>>9),x=P+(R^U^$)+N[1]+2763975236&4294967295,P=R+(x<<4&4294967295|x>>>28),x=$+(P^R^U)+N[4]+1272893353&4294967295,$=P+(x<<11&4294967295|x>>>21),x=U+($^P^R)+N[7]+4139469664&4294967295,U=$+(x<<16&4294967295|x>>>16),x=R+(U^$^P)+N[10]+3200236656&4294967295,R=U+(x<<23&4294967295|x>>>9),x=P+(R^U^$)+N[13]+681279174&4294967295,P=R+(x<<4&4294967295|x>>>28),x=$+(P^R^U)+N[0]+3936430074&4294967295,$=P+(x<<11&4294967295|x>>>21),x=U+($^P^R)+N[3]+3572445317&4294967295,U=$+(x<<16&4294967295|x>>>16),x=R+(U^$^P)+N[6]+76029189&4294967295,R=U+(x<<23&4294967295|x>>>9),x=P+(R^U^$)+N[9]+3654602809&4294967295,P=R+(x<<4&4294967295|x>>>28),x=$+(P^R^U)+N[12]+3873151461&4294967295,$=P+(x<<11&4294967295|x>>>21),x=U+($^P^R)+N[15]+530742520&4294967295,U=$+(x<<16&4294967295|x>>>16),x=R+(U^$^P)+N[2]+3299628645&4294967295,R=U+(x<<23&4294967295|x>>>9),x=P+(U^(R|~$))+N[0]+4096336452&4294967295,P=R+(x<<6&4294967295|x>>>26),x=$+(R^(P|~U))+N[7]+1126891415&4294967295,$=P+(x<<10&4294967295|x>>>22),x=U+(P^($|~R))+N[14]+2878612391&4294967295,U=$+(x<<15&4294967295|x>>>17),x=R+($^(U|~P))+N[5]+4237533241&4294967295,R=U+(x<<21&4294967295|x>>>11),x=P+(U^(R|~$))+N[12]+1700485571&4294967295,P=R+(x<<6&4294967295|x>>>26),x=$+(R^(P|~U))+N[3]+2399980690&4294967295,$=P+(x<<10&4294967295|x>>>22),x=U+(P^($|~R))+N[10]+4293915773&4294967295,U=$+(x<<15&4294967295|x>>>17),x=R+($^(U|~P))+N[1]+2240044497&4294967295,R=U+(x<<21&4294967295|x>>>11),x=P+(U^(R|~$))+N[8]+1873313359&4294967295,P=R+(x<<6&4294967295|x>>>26),x=$+(R^(P|~U))+N[15]+4264355552&4294967295,$=P+(x<<10&4294967295|x>>>22),x=U+(P^($|~R))+N[6]+2734768916&4294967295,U=$+(x<<15&4294967295|x>>>17),x=R+($^(U|~P))+N[13]+1309151649&4294967295,R=U+(x<<21&4294967295|x>>>11),x=P+(U^(R|~$))+N[4]+4149444226&4294967295,P=R+(x<<6&4294967295|x>>>26),x=$+(R^(P|~U))+N[11]+3174756917&4294967295,$=P+(x<<10&4294967295|x>>>22),x=U+(P^($|~R))+N[2]+718787259&4294967295,U=$+(x<<15&4294967295|x>>>17),x=R+($^(U|~P))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+P&4294967295,O.g[1]=O.g[1]+(U+(x<<21&4294967295|x>>>11))&4294967295,O.g[2]=O.g[2]+U&4294967295,O.g[3]=O.g[3]+$&4294967295}r.prototype.u=function(O,P){P===void 0&&(P=O.length);for(var R=P-this.blockSize,N=this.B,U=this.h,$=0;$<P;){if(U==0)for(;$<=R;)i(this,O,$),$+=this.blockSize;if(typeof O=="string"){for(;$<P;)if(N[U++]=O.charCodeAt($++),U==this.blockSize){i(this,N),U=0;break}}else for(;$<P;)if(N[U++]=O[$++],U==this.blockSize){i(this,N),U=0;break}}this.h=U,this.o+=P},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var P=1;P<O.length-8;++P)O[P]=0;var R=8*this.o;for(P=O.length-8;P<O.length;++P)O[P]=R&255,R/=256;for(this.u(O),O=Array(16),P=R=0;4>P;++P)for(var N=0;32>N;N+=8)O[R++]=this.g[P]>>>N&255;return O};function o(O,P){var R=u;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=P(O)}function l(O,P){this.h=P;for(var R=[],N=!0,U=O.length-1;0<=U;U--){var $=O[U]|0;N&&$==P||(R[U]=$,N=!1)}this.g=R}var u={};function h(O){return-128<=O&&128>O?o(O,function(P){return new l([P|0],0>P?-1:0)}):new l([O|0],0>O?-1:0)}function f(O){if(isNaN(O)||!isFinite(O))return y;if(0>O)return C(f(-O));for(var P=[],R=1,N=0;O>=R;N++)P[N]=O/R|0,R*=4294967296;return new l(P,0)}function m(O,P){if(O.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(O.charAt(0)=="-")return C(m(O.substring(1),P));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=f(Math.pow(P,8)),N=y,U=0;U<O.length;U+=8){var $=Math.min(8,O.length-U),x=parseInt(O.substring(U,U+$),P);8>$?($=f(Math.pow(P,$)),N=N.j($).add(f(x))):(N=N.j(R),N=N.add(f(x)))}return N}var y=h(0),w=h(1),T=h(16777216);n=l.prototype,n.m=function(){if(b(this))return-C(this).m();for(var O=0,P=1,R=0;R<this.g.length;R++){var N=this.i(R);O+=(0<=N?N:4294967296+N)*P,P*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(A(this))return"0";if(b(this))return"-"+C(this).toString(O);for(var P=f(Math.pow(O,6)),R=this,N="";;){var U=G(R,P).g;R=D(R,U.j(P));var $=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=U,A(R))return $+N;for(;6>$.length;)$="0"+$;N=$+N}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function A(O){if(O.h!=0)return!1;for(var P=0;P<O.g.length;P++)if(O.g[P]!=0)return!1;return!0}function b(O){return O.h==-1}n.l=function(O){return O=D(this,O),b(O)?-1:A(O)?0:1};function C(O){for(var P=O.g.length,R=[],N=0;N<P;N++)R[N]=~O.g[N];return new l(R,~O.h).add(w)}n.abs=function(){return b(this)?C(this):this},n.add=function(O){for(var P=Math.max(this.g.length,O.g.length),R=[],N=0,U=0;U<=P;U++){var $=N+(this.i(U)&65535)+(O.i(U)&65535),x=($>>>16)+(this.i(U)>>>16)+(O.i(U)>>>16);N=x>>>16,$&=65535,x&=65535,R[U]=x<<16|$}return new l(R,R[R.length-1]&-2147483648?-1:0)};function D(O,P){return O.add(C(P))}n.j=function(O){if(A(this)||A(O))return y;if(b(this))return b(O)?C(this).j(C(O)):C(C(this).j(O));if(b(O))return C(this.j(C(O)));if(0>this.l(T)&&0>O.l(T))return f(this.m()*O.m());for(var P=this.g.length+O.g.length,R=[],N=0;N<2*P;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var U=0;U<O.g.length;U++){var $=this.i(N)>>>16,x=this.i(N)&65535,Ze=O.i(U)>>>16,Vt=O.i(U)&65535;R[2*N+2*U]+=x*Vt,H(R,2*N+2*U),R[2*N+2*U+1]+=$*Vt,H(R,2*N+2*U+1),R[2*N+2*U+1]+=x*Ze,H(R,2*N+2*U+1),R[2*N+2*U+2]+=$*Ze,H(R,2*N+2*U+2)}for(N=0;N<P;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=P;N<2*P;N++)R[N]=0;return new l(R,0)};function H(O,P){for(;(O[P]&65535)!=O[P];)O[P+1]+=O[P]>>>16,O[P]&=65535,P++}function F(O,P){this.g=O,this.h=P}function G(O,P){if(A(P))throw Error("division by zero");if(A(O))return new F(y,y);if(b(O))return P=G(C(O),P),new F(C(P.g),C(P.h));if(b(P))return P=G(O,C(P)),new F(C(P.g),P.h);if(30<O.g.length){if(b(O)||b(P))throw Error("slowDivide_ only works with positive integers.");for(var R=w,N=P;0>=N.l(O);)R=Q(R),N=Q(N);var U=ne(R,1),$=ne(N,1);for(N=ne(N,2),R=ne(R,2);!A(N);){var x=$.add(N);0>=x.l(O)&&(U=U.add(R),$=x),N=ne(N,1),R=ne(R,1)}return P=D(O,U.j(P)),new F(U,P)}for(U=y;0<=O.l(P);){for(R=Math.max(1,Math.floor(O.m()/P.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),$=f(R),x=$.j(P);b(x)||0<x.l(O);)R-=N,$=f(R),x=$.j(P);A($)&&($=w),U=U.add($),O=D(O,x)}return new F(U,O)}n.A=function(O){return G(this,O).h},n.and=function(O){for(var P=Math.max(this.g.length,O.g.length),R=[],N=0;N<P;N++)R[N]=this.i(N)&O.i(N);return new l(R,this.h&O.h)},n.or=function(O){for(var P=Math.max(this.g.length,O.g.length),R=[],N=0;N<P;N++)R[N]=this.i(N)|O.i(N);return new l(R,this.h|O.h)},n.xor=function(O){for(var P=Math.max(this.g.length,O.g.length),R=[],N=0;N<P;N++)R[N]=this.i(N)^O.i(N);return new l(R,this.h^O.h)};function Q(O){for(var P=O.g.length+1,R=[],N=0;N<P;N++)R[N]=O.i(N)<<1|O.i(N-1)>>>31;return new l(R,O.h)}function ne(O,P){var R=P>>5;P%=32;for(var N=O.g.length-R,U=[],$=0;$<N;$++)U[$]=0<P?O.i($+R)>>>P|O.i($+R+1)<<32-P:O.i($+R);return new l(U,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,TC=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,cs=l}).apply(typeof oS<"u"?oS:typeof self<"u"?self:typeof window<"u"?window:{});var dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var SC,Uu,IC,Pd,sy,AC,PC,CC;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,E){return d==Array.prototype||d==Object.prototype||(d[_]=E.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof dd=="object"&&dd];for(var _=0;_<d.length;++_){var E=d[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function i(d,_){if(_)e:{var E=r;d=d.split(".");for(var I=0;I<d.length-1;I++){var B=d[I];if(!(B in E))break e;E=E[B]}d=d[d.length-1],I=E[d],_=_(I),_!=I&&_!=null&&e(E,d,{configurable:!0,writable:!0,value:_})}}function o(d,_){d instanceof String&&(d+="");var E=0,I=!1,B={next:function(){if(!I&&E<d.length){var K=E++;return{value:_(K,d[K]),done:!1}}return I=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}i("Array.prototype.values",function(d){return d||function(){return o(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function f(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function m(d,_,E){return d.call.apply(d.bind,arguments)}function y(d,_,E){if(!d)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,I),d.apply(_,B)}}return function(){return d.apply(_,arguments)}}function w(d,_,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,w.apply(null,arguments)}function T(d,_){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function A(d,_){function E(){}E.prototype=_.prototype,d.aa=_.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(I,B,K){for(var se=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)se[ze-2]=arguments[ze];return _.prototype[B].apply(I,se)}}function b(d){const _=d.length;if(0<_){const E=Array(_);for(let I=0;I<_;I++)E[I]=d[I];return E}return[]}function C(d,_){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(h(I)){const B=d.length||0,K=I.length||0;d.length=B+K;for(let se=0;se<K;se++)d[B+se]=I[se]}else d.push(I)}}class D{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function H(d){return/^[\s\xa0]*$/.test(d)}function F(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function G(d){return G[" "](d),d}G[" "]=function(){};var Q=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function ne(d,_,E){for(const I in d)_.call(E,d[I],I,d)}function O(d,_){for(const E in d)_.call(void 0,d[E],E,d)}function P(d){const _={};for(const E in d)_[E]=d[E];return _}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(d,_){let E,I;for(let B=1;B<arguments.length;B++){I=arguments[B];for(E in I)d[E]=I[E];for(let K=0;K<R.length;K++)E=R[K],Object.prototype.hasOwnProperty.call(I,E)&&(d[E]=I[E])}}function U(d){var _=1;d=d.split(":");const E=[];for(;0<_&&d.length;)E.push(d.shift()),_--;return d.length&&E.push(d.join(":")),E}function $(d){u.setTimeout(()=>{throw d},0)}function x(){var d=fe;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class Ze{constructor(){this.h=this.g=null}add(_,E){const I=Vt.get();I.set(_,E),this.h?this.h.next=I:this.g=I,this.h=I}}var Vt=new D(()=>new Mt,d=>d.reset());class Mt{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,ie=!1,fe=new Ze,oe=()=>{const d=u.Promise.resolve(void 0);Ie=()=>{d.then(j)}};var j=()=>{for(var d;d=x();){try{d.h.call(d.g)}catch(E){$(E)}var _=Vt;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}ie=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return d}();function ke(d,_){if(me.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(Q){e:{try{G(_.nodeName);var B=!0;break e}catch{}B=!1}B||(_=null)}}else E=="mouseover"?_=d.fromElement:E=="mouseout"&&(_=d.toElement);this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Le[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ke.aa.h.call(this)}}A(ke,me);var Le={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),$e=0;function qe(d,_,E,I,B){this.listener=d,this.proxy=null,this.src=_,this.type=E,this.capture=!!I,this.ha=B,this.key=++$e,this.da=this.fa=!1}function Rt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Kr(d){this.src=d,this.g={},this.h=0}Kr.prototype.add=function(d,_,E,I,B){var K=d.toString();d=this.g[K],d||(d=this.g[K]=[],this.h++);var se=Ai(d,_,I,B);return-1<se?(_=d[se],E||(_.fa=!1)):(_=new qe(_,this.src,K,!!I,B),_.fa=E,d.push(_)),_};function Vo(d,_){var E=_.type;if(E in d.g){var I=d.g[E],B=Array.prototype.indexOf.call(I,_,void 0),K;(K=0<=B)&&Array.prototype.splice.call(I,B,1),K&&(Rt(_),d.g[E].length==0&&(delete d.g[E],d.h--))}}function Ai(d,_,E,I){for(var B=0;B<d.length;++B){var K=d[B];if(!K.da&&K.listener==_&&K.capture==!!E&&K.ha==I)return B}return-1}var ks="closure_lm_"+(1e6*Math.random()|0),Mo={};function kl(d,_,E,I,B){if(Array.isArray(_)){for(var K=0;K<_.length;K++)kl(d,_[K],E,I,B);return null}return E=Ol(E),d&&d[je]?d.K(_,E,f(I)?!!I.capture:!1,B):bl(d,_,E,!1,I,B)}function bl(d,_,E,I,B,K){if(!_)throw Error("Invalid event type");var se=f(B)?!!B.capture:!!B,ze=Fo(d);if(ze||(d[ks]=ze=new Kr(d)),E=ze.add(_,E,I,se,K),E.proxy)return E;if(I=Uc(),E.proxy=I,I.src=d,I.listener=E,d.addEventListener)Ce||(B=se),B===void 0&&(B=!1),d.addEventListener(_.toString(),I,B);else if(d.attachEvent)d.attachEvent(Qr(_.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Uc(){function d(E){return _.call(d.src,d.listener,E)}const _=xl;return d}function Uo(d,_,E,I,B){if(Array.isArray(_))for(var K=0;K<_.length;K++)Uo(d,_[K],E,I,B);else I=f(I)?!!I.capture:!!I,E=Ol(E),d&&d[je]?(d=d.i,_=String(_).toString(),_ in d.g&&(K=d.g[_],E=Ai(K,E,I,B),-1<E&&(Rt(K[E]),Array.prototype.splice.call(K,E,1),K.length==0&&(delete d.g[_],d.h--)))):d&&(d=Fo(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Ai(_,E,I,B)),(E=-1<d?_[d]:null)&&Gr(E))}function Gr(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[je])Vo(_.i,d);else{var E=d.type,I=d.proxy;_.removeEventListener?_.removeEventListener(E,I,d.capture):_.detachEvent?_.detachEvent(Qr(E),I):_.addListener&&_.removeListener&&_.removeListener(I),(E=Fo(_))?(Vo(E,d),E.h==0&&(E.src=null,_[ks]=null)):Rt(d)}}}function Qr(d){return d in Mo?Mo[d]:Mo[d]="on"+d}function xl(d,_){if(d.da)d=!0;else{_=new ke(_,this);var E=d.listener,I=d.ha||d.src;d.fa&&Gr(d),d=E.call(I,_)}return d}function Fo(d){return d=d[ks],d instanceof Kr?d:null}var jo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ol(d){return typeof d=="function"?d:(d[jo]||(d[jo]=function(_){return d.handleEvent(_)}),d[jo])}function wt(){X.call(this),this.i=new Kr(this),this.M=this,this.F=null}A(wt,X),wt.prototype[je]=!0,wt.prototype.removeEventListener=function(d,_,E,I){Uo(this,d,_,E,I)};function Et(d,_){var E,I=d.F;if(I)for(E=[];I;I=I.F)E.push(I);if(d=d.M,I=_.type||_,typeof _=="string")_=new me(_,d);else if(_ instanceof me)_.target=_.target||d;else{var B=_;_=new me(I,d),N(_,B)}if(B=!0,E)for(var K=E.length-1;0<=K;K--){var se=_.g=E[K];B=Jr(se,I,!0,_)&&B}if(se=_.g=d,B=Jr(se,I,!0,_)&&B,B=Jr(se,I,!1,_)&&B,E)for(K=0;K<E.length;K++)se=_.g=E[K],B=Jr(se,I,!1,_)&&B}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var E=d.g[_],I=0;I<E.length;I++)Rt(E[I]);delete d.g[_],d.h--}}this.F=null},wt.prototype.K=function(d,_,E,I){return this.i.add(String(d),_,!1,E,I)},wt.prototype.L=function(d,_,E,I){return this.i.add(String(d),_,!0,E,I)};function Jr(d,_,E,I){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var B=!0,K=0;K<_.length;++K){var se=_[K];if(se&&!se.da&&se.capture==E){var ze=se.listener,Tt=se.ha||se.src;se.fa&&Vo(d.i,se),B=ze.call(Tt,I)!==!1&&B}}return B&&!I.defaultPrevented}function Dl(d,_,E){if(typeof d=="function")E&&(d=w(d,E));else if(d&&typeof d.handleEvent=="function")d=w(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(d,_||0)}function Pi(d){d.g=Dl(()=>{d.g=null,d.i&&(d.i=!1,Pi(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class bs extends X{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Pi(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(d){X.call(this),this.h=d,this.g={}}A(xs,X);var Nl=[];function Ll(d){ne(d.g,function(_,E){this.g.hasOwnProperty(E)&&Gr(_)},d),d.g={}}xs.prototype.N=function(){xs.aa.N.call(this),Ll(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vl=u.JSON.stringify,Ml=u.JSON.parse,Ul=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Os(){}Os.prototype.h=null;function $o(d){return d.h||(d.h=d.i())}function Bo(){}var Nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sr(){me.call(this,"d")}A(Sr,me);function zo(){me.call(this,"c")}A(zo,me);var Ir={},Fl=null;function Ds(){return Fl=Fl||new wt}Ir.La="serverreachability";function jl(d){me.call(this,Ir.La,d)}A(jl,me);function Xr(d){const _=Ds();Et(_,new jl(_))}Ir.STAT_EVENT="statevent";function $l(d,_){me.call(this,Ir.STAT_EVENT,d),this.stat=_}A($l,me);function ft(d){const _=Ds();Et(_,new $l(_,d))}Ir.Ma="timingevent";function Ho(d,_){me.call(this,Ir.Ma,d),this.size=_}A(Ho,me);function tr(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},_)}function Ns(){this.g=!0}Ns.prototype.xa=function(){this.g=!1};function Ls(d,_,E,I,B,K){d.info(function(){if(d.g)if(K)for(var se="",ze=K.split("&"),Tt=0;Tt<ze.length;Tt++){var Ve=ze[Tt].split("=");if(1<Ve.length){var kt=Ve[0];Ve=Ve[1];var yt=kt.split("_");se=2<=yt.length&&yt[1]=="type"?se+(kt+"="+Ve+"&"):se+(kt+"=redacted&")}}else se=null;else se=K;return"XMLHTTP REQ ("+I+") [attempt "+B+"]: "+_+`
`+E+`
`+se})}function qo(d,_,E,I,B,K,se){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+B+"]: "+_+`
`+E+`
`+K+" "+se})}function nr(d,_,E,I){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Xf(d,E)+(I?" "+I:"")})}function Bl(d,_){d.info(function(){return"TIMEOUT: "+_})}Ns.prototype.info=function(){};function Xf(d,_){if(!d.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var I=E[d];if(!(2>I.length)){var B=I[1];if(Array.isArray(B)&&!(1>B.length)){var K=B[0];if(K!="noop"&&K!="stop"&&K!="close")for(var se=1;se<B.length;se++)B[se]=""}}}}return Vl(E)}catch{return _}}var Wo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rr;function Vs(){}A(Vs,Os),Vs.prototype.g=function(){return new XMLHttpRequest},Vs.prototype.i=function(){return{}},rr=new Vs;function ir(d,_,E,I){this.j=d,this.i=_,this.l=E,this.R=I||1,this.U=new xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jc}function jc(){this.i=null,this.g="",this.h=!1}var zl={},Ko={};function Go(d,_,E){d.L=1,d.v=xi(An(_)),d.m=E,d.P=!0,Hl(d,null)}function Hl(d,_){d.F=Date.now(),We(d),d.A=An(d.v);var E=d.A,I=d.R;Array.isArray(I)||(I=[String(I)]),Di(E.i,"t",I),d.C=0,E=d.j.J,d.h=new jc,d.g=ih(d.j,E?_:null,!d.m),0<d.O&&(d.M=new bs(w(d.Y,d,d.g),d.O)),_=d.U,E=d.g,I=d.ca;var B="readystatechange";Array.isArray(B)||(B&&(Nl[0]=B.toString()),B=Nl);for(var K=0;K<B.length;K++){var se=kl(E,B[K],I||_.handleEvent,!1,_.h||_);if(!se)break;_.g[se.key]=se}_=d.H?P(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Xr(),Ls(d.i,d.u,d.A,d.l,d.R,d.m)}ir.prototype.ca=function(d){d=d.target;const _=this.M;_&&hn(d)==3?_.j():this.Y(d)},ir.prototype.Y=function(d){try{if(d==this.g)e:{const yt=hn(this.g);var _=this.g.Ba();const Mn=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||Jl(this.g)))){this.J||yt!=4||_==7||(_==8||0>=Mn?Xr(3):Xr(2)),Ms(this);var E=this.g.Z();this.X=E;t:if($c(this)){var I=Jl(this.g);d="";var B=I.length,K=hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ln(this),Ci(this);var se="";break t}this.h.i=new u.TextDecoder}for(_=0;_<B;_++)this.h.h=!0,d+=this.h.i.decode(I[_],{stream:!(K&&_==B-1)});I.length=0,this.h.g+=d,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=E==200,qo(this.i,this.u,this.A,this.l,this.R,yt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Tt=this.g;if((ze=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(ze)){var Ve=ze;break t}}Ve=null}if(E=Ve)nr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ql(this,E);else{this.o=!1,this.s=3,ft(12),Ln(this),Ci(this);break e}}if(this.P){E=!0;let Cn;for(;!this.J&&this.C<se.length;)if(Cn=Yf(this,se),Cn==Ko){yt==4&&(this.s=4,ft(14),E=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==zl){this.s=4,ft(15),nr(this.i,this.l,se,"[Invalid Chunk]"),E=!1;break}else nr(this.i,this.l,Cn,null),ql(this,Cn);if($c(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||se.length!=0||this.h.h||(this.s=1,ft(16),E=!1),this.o=this.o&&E,!E)nr(this.i,this.l,se,"[Invalid Chunked Response]"),Ln(this),Ci(this);else if(0<se.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Yl(kt),kt.M=!0,ft(11))}}else nr(this.i,this.l,se,null),ql(this,se);yt==4&&Ln(this),this.o&&!this.J&&(yt==4?sa(this.j,this):(this.o=!1,We(this)))}else ea(this.g),E==400&&0<se.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Ln(this),Ci(this)}}}catch{}finally{}};function $c(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Yf(d,_){var E=d.C,I=_.indexOf(`
`,E);return I==-1?Ko:(E=Number(_.substring(E,I)),isNaN(E)?zl:(I+=1,I+E>_.length?Ko:(_=_.slice(I,I+E),d.C=I+E,_)))}ir.prototype.cancel=function(){this.J=!0,Ln(this)};function We(d){d.S=Date.now()+d.I,Bc(d,d.I)}function Bc(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=tr(w(d.ba,d),_)}function Ms(d){d.B&&(u.clearTimeout(d.B),d.B=null)}ir.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Bl(this.i,this.A),this.L!=2&&(Xr(),ft(17)),Ln(this),this.s=2,Ci(this)):Bc(this,this.S-d)};function Ci(d){d.j.G==0||d.J||sa(d.j,d)}function Ln(d){Ms(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Ll(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function ql(d,_){try{var E=d.j;if(E.G!=0&&(E.g==d||rn(E.h,d))){if(!d.K&&rn(E.h,d)&&E.G==3){try{var I=E.Da.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var B=I;if(B[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)ia(E),ur(E);else break e;ra(E),ft(18)}}else E.za=B[1],0<E.za-E.T&&37500>B[2]&&E.F&&E.v==0&&!E.C&&(E.C=tr(w(E.Za,E),6e3));if(1>=Hc(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ni(E,11)}else if((d.K||E.g==d)&&ia(E),!H(_))for(B=E.Da.g.parse(_),_=0;_<B.length;_++){let Ve=B[_];if(E.T=Ve[0],Ve=Ve[1],E.G==2)if(Ve[0]=="c"){E.K=Ve[1],E.ia=Ve[2];const kt=Ve[3];kt!=null&&(E.la=kt,E.j.info("VER="+E.la));const yt=Ve[4];yt!=null&&(E.Aa=yt,E.j.info("SVER="+E.Aa));const Mn=Ve[5];Mn!=null&&typeof Mn=="number"&&0<Mn&&(I=1.5*Mn,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const Cn=d.g;if(Cn){const Hs=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hs){var K=I.h;K.g||Hs.indexOf("spdy")==-1&&Hs.indexOf("quic")==-1&&Hs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Wl(K,K.h),K.h=null))}if(I.D){const aa=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;aa&&(I.ya=aa,He(I.I,I.D,aa))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var se=d;if(I.qa=rh(I,I.J?I.ia:null,I.W),se.K){qc(I.h,se);var ze=se,Tt=I.L;Tt&&(ze.I=Tt),ze.B&&(Ms(ze),We(ze)),I.g=se}else zs(I);0<E.i.length&&Rr(E)}else Ve[0]!="stop"&&Ve[0]!="close"||ni(E,7);else E.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?ni(E,7):Ft(E):Ve[0]!="noop"&&E.l&&E.l.ta(Ve),E.v=0)}}Xr(4)}catch{}}var zc=class{constructor(d,_){this.g=d,this.map=_}};function Us(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function In(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Hc(d){return d.h?1:d.g?d.g.size:0}function rn(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Wl(d,_){d.g?d.g.add(_):d.h=_}function qc(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Us.prototype.cancel=function(){if(this.i=Wc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Wc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const E of d.g.values())_=_.concat(E.D);return _}return b(d.i)}function Qo(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var _=[],E=d.length,I=0;I<E;I++)_.push(d[I]);return _}_=[],E=0;for(I in d)_[E++]=d[I];return _}function Jo(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var _=[];d=d.length;for(var E=0;E<d;E++)_.push(E);return _}_=[],E=0;for(const I in d)_[E++]=I;return _}}}function Ri(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var E=Jo(d),I=Qo(d),B=I.length,K=0;K<B;K++)_.call(void 0,I[K],E&&E[K],d)}var Fs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zf(d,_){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var I=d[E].indexOf("="),B=null;if(0<=I){var K=d[E].substring(0,I);B=d[E].substring(I+1)}else K=d[E];_(K,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Yr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Yr){this.h=d.h,js(this,d.j),this.o=d.o,this.g=d.g,ki(this,d.s),this.l=d.l;var _=d.i,E=new Ar;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),bi(this,E),this.m=d.m}else d&&(_=String(d).match(Fs))?(this.h=!1,js(this,_[1]||"",!0),this.o=Ne(_[2]||""),this.g=Ne(_[3]||"",!0),ki(this,_[4]),this.l=Ne(_[5]||"",!0),bi(this,_[6]||"",!0),this.m=Ne(_[7]||"")):(this.h=!1,this.i=new Ar(null,this.h))}Yr.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Oi(_,Xo,!0),":");var E=this.g;return(E||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Oi(_,Xo,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Oi(E,E.charAt(0)=="/"?Qc:Gc,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Oi(E,Kl)),d.join("")};function An(d){return new Yr(d)}function js(d,_,E){d.j=E?Ne(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function ki(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function bi(d,_,E){_ instanceof Ar?(d.i=_,Pr(d.i,d.h)):(E||(_=Oi(_,Jc)),d.i=new Ar(_,d.h))}function He(d,_,E){d.i.set(_,E)}function xi(d){return He(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ne(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Oi(d,_,E){return typeof d=="string"?(d=encodeURI(d).replace(_,Kc),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Kc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Xo=/[#\/\?@]/g,Gc=/[#\?:]/g,Qc=/[#\?]/g,Jc=/[#\?@]/g,Kl=/#/g;function Ar(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Ut(d){d.g||(d.g=new Map,d.h=0,d.i&&Zf(d.i,function(_,E){d.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=Ar.prototype,n.add=function(d,_){Ut(this),this.i=null,d=Vn(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(_),this.h+=1,this};function sr(d,_){Ut(d),_=Vn(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function or(d,_){return Ut(d),_=Vn(d,_),d.g.has(_)}n.forEach=function(d,_){Ut(this),this.g.forEach(function(E,I){E.forEach(function(B){d.call(_,B,I,this)},this)},this)},n.na=function(){Ut(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let I=0;I<_.length;I++){const B=d[I];for(let K=0;K<B.length;K++)E.push(_[I])}return E},n.V=function(d){Ut(this);let _=[];if(typeof d=="string")or(this,d)&&(_=_.concat(this.g.get(Vn(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)_=_.concat(d[E])}return _},n.set=function(d,_){return Ut(this),this.i=null,d=Vn(this,d),or(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Di(d,_,E){sr(d,_),0<E.length&&(d.i=null,d.g.set(Vn(d,_),b(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var I=_[E];const K=encodeURIComponent(String(I)),se=this.V(I);for(I=0;I<se.length;I++){var B=K;se[I]!==""&&(B+="="+encodeURIComponent(String(se[I]))),d.push(B)}}return this.i=d.join("&")};function Vn(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Pr(d,_){_&&!d.j&&(Ut(d),d.i=null,d.g.forEach(function(E,I){var B=I.toLowerCase();I!=B&&(sr(this,I),Di(this,B,E))},d)),d.j=_}function ep(d,_){const E=new Ns;if(u.Image){const I=new Image;I.onload=T(cn,E,"TestLoadImage: loaded",!0,_,I),I.onerror=T(cn,E,"TestLoadImage: error",!1,_,I),I.onabort=T(cn,E,"TestLoadImage: abort",!1,_,I),I.ontimeout=T(cn,E,"TestLoadImage: timeout",!1,_,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else _(!1)}function Xc(d,_){const E=new Ns,I=new AbortController,B=setTimeout(()=>{I.abort(),cn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:I.signal}).then(K=>{clearTimeout(B),K.ok?cn(E,"TestPingServer: ok",!0,_):cn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),cn(E,"TestPingServer: error",!1,_)})}function cn(d,_,E,I,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),I(E)}catch{}}function tp(){this.g=new Ul}function Yc(d,_,E){const I=E||"";try{Ri(d,function(B,K){let se=B;f(B)&&(se=Vl(B)),_.push(I+K+"="+encodeURIComponent(se))})}catch(B){throw _.push(I+"type="+encodeURIComponent("_badmap")),B}}function Zr(d){this.l=d.Ub||null,this.j=d.eb||!1}A(Zr,Os),Zr.prototype.g=function(){return new $s(this.l,this.j)},Zr.prototype.i=function(d){return function(){return d}}({});function $s(d,_){wt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A($s,wt),n=$s.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,lr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ar(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,lr(this)),this.g&&(this.readyState=3,lr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?ar(this):lr(this),this.readyState==3&&Zc(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,ar(this))},n.Qa=function(d){this.g&&(this.response=d,ar(this))},n.ga=function(){this.g&&ar(this)};function ar(d){d.readyState=4,d.l=null,d.j=null,d.v=null,lr(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=_.next();return d.join(`\r
`)};function lr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty($s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ei(d){let _="";return ne(d,function(E,I){_+=I,_+=":",_+=E,_+=`\r
`}),_}function Ni(d,_,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=ei(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):He(d,_,E))}function et(d){wt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(et,wt);var np=/^https?$/i,Gl=["POST","PUT"];n=et.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rr.g(),this.v=this.o?$o(this.o):$o(rr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(K){Bs(this,K);return}if(d=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var B in I)E.set(B,I[B]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const K of I.keys())E.set(K,I.get(K));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),B=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Gl,_,void 0))||I||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of E)this.g.setRequestHeader(K,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zo(this),this.u=!0,this.g.send(d),this.u=!1}catch(K){Bs(this,K)}};function Bs(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,Yo(d),Pn(d)}function Yo(d){d.A||(d.A=!0,Et(d,"complete"),Et(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Et(this,"complete"),Et(this,"abort"),Pn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pn(this,!0)),et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ql(this):this.bb())},n.bb=function(){Ql(this)};function Ql(d){if(d.h&&typeof l<"u"&&(!d.v[1]||hn(d)!=4||d.Z()!=2)){if(d.u&&hn(d)==4)Dl(d.Ea,0,d);else if(Et(d,"readystatechange"),hn(d)==4){d.h=!1;try{const se=d.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var I;if(I=se===0){var B=String(d.D).match(Fs)[1]||null;!B&&u.self&&u.self.location&&(B=u.self.location.protocol.slice(0,-1)),I=!np.test(B?B.toLowerCase():"")}E=I}if(E)Et(d,"complete"),Et(d,"success");else{d.m=6;try{var K=2<hn(d)?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.Z()+"]",Yo(d)}}finally{Pn(d)}}}}function Pn(d,_){if(d.g){Zo(d);const E=d.g,I=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Et(d,"ready");try{E.onreadystatechange=I}catch{}}}function Zo(d){d.I&&(u.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function hn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<hn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Ml(_)}};function Jl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ea(d){const _={};d=(d.g&&2<=hn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(H(d[I]))continue;var E=U(d[I]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=_[B]||[];_[B]=K,K.push(E)}O(_,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cr(d,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||_}function Xl(d){this.Aa=0,this.i=[],this.j=new Ns,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cr("baseRetryDelayMs",5e3,d),this.cb=Cr("retryDelaySeedMs",1e4,d),this.Wa=Cr("forwardChannelMaxRetries",2,d),this.wa=Cr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Us(d&&d.concurrentRequestLimit),this.Da=new tp,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Xl.prototype,n.la=8,n.G=1,n.connect=function(d,_,E,I){ft(0),this.W=d,this.H=_||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=rh(this,null,this.W),Rr(this)};function Ft(d){if(ta(d),d.G==3){var _=d.U++,E=An(d.I);if(He(E,"SID",d.K),He(E,"RID",_),He(E,"TYPE","terminate"),ti(d,E),_=new ir(d,d.j,_),_.L=2,_.v=xi(An(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.v,E=!0),E||(_.g=ih(_.j,null),_.g.ea(_.v)),_.F=Date.now(),We(_)}nh(d)}function ur(d){d.g&&(Yl(d),d.g.cancel(),d.g=null)}function ta(d){ur(d),d.u&&(u.clearTimeout(d.u),d.u=null),ia(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function Rr(d){if(!In(d.h)&&!d.s){d.s=!0;var _=d.Ga;Ie||oe(),ie||(Ie(),ie=!0),fe.add(_,d),d.B=0}}function rp(d,_){return Hc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=tr(w(d.Ga,d,_),th(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const B=new ir(this,this.j,d);let K=this.o;if(this.S&&(K?(K=P(K),N(K,this.S)):K=this.S),this.m!==null||this.O||(B.H=K,K=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(_+=I,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Li(this,B,_),E=An(this.I),He(E,"RID",d),He(E,"CVER",22),this.D&&He(E,"X-HTTP-Session-Id",this.D),ti(this,E),K&&(this.O?_="headers="+encodeURIComponent(String(ei(K)))+"&"+_:this.m&&Ni(E,this.m,K)),Wl(this.h,B),this.Ua&&He(E,"TYPE","init"),this.P?(He(E,"$req",_),He(E,"SID","null"),B.T=!0,Go(B,E,null)):Go(B,E,_),this.G=2}}else this.G==3&&(d?na(this,d):this.i.length==0||In(this.h)||na(this))};function na(d,_){var E;_?E=_.l:E=d.U++;const I=An(d.I);He(I,"SID",d.K),He(I,"RID",E),He(I,"AID",d.T),ti(d,I),d.m&&d.o&&Ni(I,d.m,d.o),E=new ir(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Li(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Wl(d.h,E),Go(E,I,_)}function ti(d,_){d.H&&ne(d.H,function(E,I){He(_,I,E)}),d.l&&Ri({},function(E,I){He(_,I,E)})}function Li(d,_,E){E=Math.min(d.i.length,E);var I=d.l?w(d.l.Na,d.l,d):null;e:{var B=d.i;let K=-1;for(;;){const se=["count="+E];K==-1?0<E?(K=B[0].g,se.push("ofs="+K)):K=0:se.push("ofs="+K);let ze=!0;for(let Tt=0;Tt<E;Tt++){let Ve=B[Tt].g;const kt=B[Tt].map;if(Ve-=K,0>Ve)K=Math.max(0,B[Tt].g-100),ze=!1;else try{Yc(kt,se,"req"+Ve+"_")}catch{I&&I(kt)}}if(ze){I=se.join("&");break e}}}return d=d.i.splice(0,E),_.D=d,I}function zs(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;Ie||oe(),ie||(Ie(),ie=!0),fe.add(_,d),d.v=0}}function ra(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=tr(w(d.Fa,d),th(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,eh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=tr(w(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),ur(this),eh(this))};function Yl(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function eh(d){d.g=new ir(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=An(d.qa);He(_,"RID","rpc"),He(_,"SID",d.K),He(_,"AID",d.T),He(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&He(_,"TO",d.ja),He(_,"TYPE","xmlhttp"),ti(d,_),d.m&&d.o&&Ni(_,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=xi(An(_)),E.m=null,E.P=!0,Hl(E,d)}n.Za=function(){this.C!=null&&(this.C=null,ur(this),ra(this),ft(19))};function ia(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function sa(d,_){var E=null;if(d.g==_){ia(d),Yl(d),d.g=null;var I=2}else if(rn(d.h,_))E=_.D,qc(d.h,_),I=1;else return;if(d.G!=0){if(_.o)if(I==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var B=d.B;I=Ds(),Et(I,new Ho(I,E)),Rr(d)}else zs(d);else if(B=_.s,B==3||B==0&&0<_.X||!(I==1&&rp(d,_)||I==2&&ra(d)))switch(E&&0<E.length&&(_=d.h,_.i=_.i.concat(E)),B){case 1:ni(d,5);break;case 4:ni(d,10);break;case 3:ni(d,6);break;default:ni(d,2)}}}function th(d,_){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*_}function ni(d,_){if(d.j.info("Error code "+_),_==2){var E=w(d.fb,d),I=d.Xa;const B=!I;I=new Yr(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||js(I,"https"),xi(I),B?ep(I.toString(),E):Xc(I.toString(),E)}else ft(2);d.G=0,d.l&&d.l.sa(_),nh(d),ta(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function nh(d){if(d.G=0,d.ka=[],d.l){const _=Wc(d.h);(_.length!=0||d.i.length!=0)&&(C(d.ka,_),C(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function rh(d,_,E){var I=E instanceof Yr?An(E):new Yr(E);if(I.g!="")_&&(I.g=_+"."+I.g),ki(I,I.s);else{var B=u.location;I=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;var K=new Yr(null);I&&js(K,I),_&&(K.g=_),B&&ki(K,B),E&&(K.l=E),I=K}return E=d.D,_=d.ya,E&&_&&He(I,E,_),He(I,"VER",d.la),ti(d,I),I}function ih(d,_,E){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new et(new Zr({eb:E})):new et(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zl(){}n=Zl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function oa(){}oa.prototype.g=function(d,_){return new sn(d,_)};function sn(d,_){wt.call(this),this.g=new Xl(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!H(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!H(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new kr(this)}A(sn,wt),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Ft(this.g)},sn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Vl(d),d=E);_.i.push(new zc(_.Ya++,d)),_.G==3&&Rr(_)},sn.prototype.N=function(){this.g.l=null,delete this.j,Ft(this.g),delete this.g,sn.aa.N.call(this)};function sh(d){Sr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const E in _){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}A(sh,Sr);function oh(){zo.call(this),this.status=1}A(oh,zo);function kr(d){this.g=d}A(kr,Zl),kr.prototype.ua=function(){Et(this.g,"a")},kr.prototype.ta=function(d){Et(this.g,new sh(d))},kr.prototype.sa=function(d){Et(this.g,new oh)},kr.prototype.ra=function(){Et(this.g,"b")},oa.prototype.createWebChannel=oa.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,CC=function(){return new oa},PC=function(){return Ds()},AC=Ir,sy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wo.NO_ERROR=0,Wo.TIMEOUT=8,Wo.HTTP_ERROR=6,Pd=Wo,Fc.COMPLETE="complete",IC=Fc,Bo.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Uu=Bo,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,SC=et}).apply(typeof dd<"u"?dd:typeof self<"u"?self:typeof window<"u"?window:{});const aS="@firebase/firestore",lS="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new Af("@firebase/firestore");function ja(){return Eo.logLevel}function le(n,...e){if(Eo.logLevel<=Oe.DEBUG){const t=e.map(C_);Eo.debug(`Firestore (${Tl}): ${n}`,...t)}}function Ei(n,...e){if(Eo.logLevel<=Oe.ERROR){const t=e.map(C_);Eo.error(`Firestore (${Tl}): ${n}`,...t)}}function al(n,...e){if(Eo.logLevel<=Oe.WARN){const t=e.map(C_);Eo.warn(`Firestore (${Tl}): ${n}`,...t)}}function C_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n="Unexpected state"){const e=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: `+n;throw Ei(e),new Error(e)}function Be(n,e){n||Ee()}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends er{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _F{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zt.UNAUTHENTICATED))}shutdown(){}}class vF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wF{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0);let r=this.i;const i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let o=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _i,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},u=h=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _i)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string"),new RC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new Zt(e)}}class EF{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class TF{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new EF(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SF{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Kn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Be(this.o===void 0);const r=o=>{o.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,le("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new uS(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string"),this.R=t.token,new uS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=IF(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function Re(n,e){return n<e?-1:n>e?1:0}function oy(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Re(r,i);{const o=kC(),l=AF(o.encode(cS(n,t)),o.encode(cS(e,t)));return l!==0?l:Re(r,i)}}t+=r>65535?2:1}return Re(n.length,e.length)}function cS(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function AF(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Re(n[t],e[t]);return Re(n.length,e.length)}function ll(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=-62135596800,dS=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*dS);return new Pt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<hS)throw new pe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dS}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-hS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Pt(0,0))}static max(){return new Se(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="__name__";class Lr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ee(),r===void 0?r=e.length-t:r>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Lr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Lr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Lr.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Re(e.length,t.length)}static compareSegments(e,t){const r=Lr.isNumericId(e),i=Lr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Lr.extractNumericId(e).compare(Lr.extractNumericId(t)):oy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cs.fromString(e.substring(4,e.length-2))}}class nt extends Lr{construct(e,t,r){return new nt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new nt(t)}static emptyPath(){return new nt([])}}const PF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends Lr{construct(e,t,r){return new qt(e,t,r)}static isValidIdentifier(e){return PF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fS}static keyField(){return new qt([fS])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new pe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new pe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new pe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new pe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(t)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(nt.fromString(e))}static fromName(e){return new _e(nt.fromString(e).popFirst(5))}static empty(){return new _e(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=-1;function CF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new Pt(t+1,0):new Pt(t,r));return new gs(i,_e.empty(),e)}function RF(n){return new gs(n.readTime,n.key,pc)}class gs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new gs(Se.min(),_e.empty(),pc)}static max(){return new gs(Se.max(),_e.empty(),pc)}}function kF(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Re(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==bF)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):J.reject(t)}static resolve(e){return new J((t,r)=>{t(e)})}static reject(e){return new J((t,r)=>{r(e)})}static waitFor(e){return new J((t,r)=>{let i=0,o=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++o,l&&o===i&&t()},h=>r(h))}),l=!0,o===i&&t()})}static or(e){let t=J.resolve(!1);for(const r of e)t=t.next(i=>i?J.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new J((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let h=0;h<o;h++){const f=h;t(e[f]).next(m=>{l[f]=m,++u,u===o&&r(l)},m=>i(m))}})}static doWhile(e,t){return new J((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}function OF(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Il(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Pf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=-1;function Cf(n){return n==null}function Xd(n){return n===0&&1/n==-1/0}function DF(n){return typeof n=="number"&&Number.isInteger(n)&&!Xd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="";function NF(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=pS(e)),e=LF(n.get(t),e);return pS(e)}function LF(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case xC:t+="";break;default:t+=o}}return t}function pS(n){return n+xC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ps(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function OC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t){this.comparator=e,this.root=t||zt.EMPTY}insert(e,t){return new lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fd(this.root,e,this.comparator,!1)}getReverseIterator(){return new fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fd(this.root,e,this.comparator,!0)}}class fd{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??zt.RED,this.left=i??zt.EMPTY,this.right=o??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new zt(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,r,i,o){return this}insert(e,t,r){return new zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gS(this.data.getIterator())}getIteratorFrom(e){return new gS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ct(this.comparator);return t.data=e,t}}class gS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new On([])}unionWith(e){let t=new Ct(qt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new On(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new DC("Invalid base64 string: "+o):o}}(e);return new Wt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new Wt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const VF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(n){if(Be(!!n),typeof n=="string"){let e=0;const t=VF.exec(n);if(Be(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(n.seconds),nanos:gt(n.nanos)}}function gt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _s(n){return typeof n=="string"?Wt.fromBase64String(n):Wt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="server_timestamp",LC="__type__",VC="__previous_value__",MC="__local_write_time__";function k_(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[LC])===null||t===void 0?void 0:t.stringValue)===NC}function Rf(n){const e=n.mapValue.fields[VC];return k_(e)?Rf(e):e}function mc(n){const e=ys(n.mapValue.fields[MC].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,t,r,i,o,l,u,h,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f}}const Yd="(default)";class gc{constructor(e,t){this.projectId=e,this.database=t||Yd}static empty(){return new gc("","")}get isDefaultDatabase(){return this.database===Yd}isEqual(e){return e instanceof gc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="__type__",UF="__max__",pd={mapValue:{}},FC="__vector__",Zd="value";function vs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?k_(n)?4:jF(n)?9007199254740991:FF(n)?10:11:Ee()}function qr(n,e){if(n===e)return!0;const t=vs(n);if(t!==vs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mc(n).isEqual(mc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=ys(i.timestampValue),u=ys(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return _s(i.bytesValue).isEqual(_s(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return gt(i.geoPointValue.latitude)===gt(o.geoPointValue.latitude)&&gt(i.geoPointValue.longitude)===gt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return gt(i.integerValue)===gt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=gt(i.doubleValue),u=gt(o.doubleValue);return l===u?Xd(l)===Xd(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return ll(n.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(mS(l)!==mS(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!qr(l[h],u[h])))return!1;return!0}(n,e);default:return Ee()}}function yc(n,e){return(n.values||[]).find(t=>qr(t,e))!==void 0}function ul(n,e){if(n===e)return 0;const t=vs(n),r=vs(e);if(t!==r)return Re(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Re(n.booleanValue,e.booleanValue);case 2:return function(o,l){const u=gt(o.integerValue||o.doubleValue),h=gt(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return yS(n.timestampValue,e.timestampValue);case 4:return yS(mc(n),mc(e));case 5:return oy(n.stringValue,e.stringValue);case 6:return function(o,l){const u=_s(o),h=_s(l);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const m=Re(u[f],h[f]);if(m!==0)return m}return Re(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const u=Re(gt(o.latitude),gt(l.latitude));return u!==0?u:Re(gt(o.longitude),gt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return _S(n.arrayValue,e.arrayValue);case 10:return function(o,l){var u,h,f,m;const y=o.fields||{},w=l.fields||{},T=(u=y[Zd])===null||u===void 0?void 0:u.arrayValue,A=(h=w[Zd])===null||h===void 0?void 0:h.arrayValue,b=Re(((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0,((m=A==null?void 0:A.values)===null||m===void 0?void 0:m.length)||0);return b!==0?b:_S(T,A)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===pd.mapValue&&l===pd.mapValue)return 0;if(o===pd.mapValue)return 1;if(l===pd.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),f=l.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let y=0;y<h.length&&y<m.length;++y){const w=oy(h[y],m[y]);if(w!==0)return w;const T=ul(u[h[y]],f[m[y]]);if(T!==0)return T}return Re(h.length,m.length)}(n.mapValue,e.mapValue);default:throw Ee()}}function yS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Re(n,e);const t=ys(n),r=ys(e),i=Re(t.seconds,r.seconds);return i!==0?i:Re(t.nanos,r.nanos)}function _S(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=ul(t[i],r[i]);if(o)return o}return Re(t.length,r.length)}function cl(n){return ay(n)}function ay(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ys(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return _s(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=ay(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${ay(t.fields[l])}`;return i+"}"}(n.mapValue):Ee()}function Cd(n){switch(vs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rf(n);return e?16+Cd(e):16;case 5:return 2*n.stringValue.length;case 6:return _s(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Cd(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ps(r.fields,(o,l)=>{i+=o.length+Cd(l)}),i}(n.mapValue);default:throw Ee()}}function ly(n){return!!n&&"integerValue"in n}function b_(n){return!!n&&"arrayValue"in n}function vS(n){return!!n&&"nullValue"in n}function wS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Rd(n){return!!n&&"mapValue"in n}function FF(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[UC])===null||t===void 0?void 0:t.stringValue)===FC}function Qu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ps(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Qu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function jF(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===UF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Rd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qu(t)}setAll(e){let t=qt.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=Qu(l):i.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Rd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Rd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ps(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new wn(Qu(this.value))}}function jC(n){const e=[];return Ps(n.fields,(t,r)=>{const i=new qt([t]);if(Rd(r)){const o=jC(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,r,i,o,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new en(e,0,Se.min(),Se.min(),Se.min(),wn.empty(),0)}static newFoundDocument(e,t,r,i){return new en(e,1,t,Se.min(),r,i,0)}static newNoDocument(e,t){return new en(e,2,t,Se.min(),Se.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,Se.min(),Se.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t){this.position=e,this.inclusive=t}}function ES(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),t.key):r=ul(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function TS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!qr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t="asc"){this.field=e,this.dir=t}}function $F(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{}class At extends $C{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new zF(e,t,r):t==="array-contains"?new WF(e,r):t==="in"?new KF(e,r):t==="not-in"?new GF(e,r):t==="array-contains-any"?new QF(e,r):new At(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new HF(e,r):new qF(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ul(t,this.value)):t!==null&&vs(this.value)===vs(t)&&this.matchesComparison(ul(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wr extends $C{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Wr(e,t)}matches(e){return BC(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function BC(n){return n.op==="and"}function zC(n){return BF(n)&&BC(n)}function BF(n){for(const e of n.filters)if(e instanceof Wr)return!1;return!0}function uy(n){if(n instanceof At)return n.field.canonicalString()+n.op.toString()+cl(n.value);if(zC(n))return n.filters.map(e=>uy(e)).join(",");{const e=n.filters.map(t=>uy(t)).join(",");return`${n.op}(${e})`}}function HC(n,e){return n instanceof At?function(r,i){return i instanceof At&&r.op===i.op&&r.field.isEqual(i.field)&&qr(r.value,i.value)}(n,e):n instanceof Wr?function(r,i){return i instanceof Wr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,u)=>o&&HC(l,i.filters[u]),!0):!1}(n,e):void Ee()}function qC(n){return n instanceof At?function(t){return`${t.field.canonicalString()} ${t.op} ${cl(t.value)}`}(n):n instanceof Wr?function(t){return t.op.toString()+" {"+t.getFilters().map(qC).join(" ,")+"}"}(n):"Filter"}class zF extends At{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class HF extends At{constructor(e,t){super(e,"in",t),this.keys=WC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class qF extends At{constructor(e,t){super(e,"not-in",t),this.keys=WC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function WC(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class WF extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return b_(t)&&yc(t.arrayValue,this.value)}}class KF extends At{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yc(this.value.arrayValue,t)}}class GF extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!yc(this.value.arrayValue,t)}}class QF extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!b_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>yc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e,t=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.le=null}}function SS(n,e=null,t=[],r=[],i=null,o=null,l=null){return new JF(n,e,t,r,i,o,l)}function x_(n){const e=Ae(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>uy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Cf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>cl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>cl(r)).join(",")),e.le=t}return e.le}function O_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!$F(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!HC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!TS(n.startAt,e.startAt)&&TS(n.endAt,e.endAt)}function cy(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t=null,r=[],i=[],o=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function XF(n,e,t,r,i,o,l,u){return new kf(n,e,t,r,i,o,l,u)}function D_(n){return new kf(n)}function IS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function YF(n){return n.collectionGroup!==null}function Ju(n){const e=Ae(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Ct(qt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new tf(o,r))}),t.has(qt.keyField().canonicalString())||e.he.push(new tf(qt.keyField(),r))}return e.he}function $r(n){const e=Ae(n);return e.Pe||(e.Pe=ZF(e,Ju(n))),e.Pe}function ZF(n,e){if(n.limitType==="F")return SS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new tf(i.field,o)});const t=n.endAt?new ef(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ef(n.startAt.position,n.startAt.inclusive):null;return SS(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function hy(n,e,t){return new kf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bf(n,e){return O_($r(n),$r(e))&&n.limitType===e.limitType}function KC(n){return`${x_($r(n))}|lt:${n.limitType}`}function $a(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>qC(i)).join(", ")}]`),Cf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>cl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>cl(i)).join(",")),`Target(${r})`}($r(n))}; limitType=${n.limitType})`}function xf(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Ju(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,h){const f=ES(l,u,h);return l.inclusive?f<=0:f<0}(r.startAt,Ju(r),i)||r.endAt&&!function(l,u,h){const f=ES(l,u,h);return l.inclusive?f>=0:f>0}(r.endAt,Ju(r),i))}(n,e)}function ej(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function GC(n){return(e,t)=>{let r=!1;for(const i of Ju(n)){const o=tj(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function tj(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(o,l,u){const h=l.data.field(o),f=u.data.field(o);return h!==null&&f!==null?ul(h,f):Ee()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ps(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return OC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=new lt(_e.comparator);function Ti(){return nj}const QC=new lt(_e.comparator);function Fu(...n){let e=QC;for(const t of n)e=e.insert(t.key,t);return e}function JC(n){let e=QC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function mo(){return Xu()}function XC(){return Xu()}function Xu(){return new Oo(n=>n.toString(),(n,e)=>n.isEqual(e))}const rj=new lt(_e.comparator),ij=new Ct(_e.comparator);function De(...n){let e=ij;for(const t of n)e=e.add(t);return e}const sj=new Ct(Re);function oj(){return sj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xd(e)?"-0":e}}function YC(n){return{integerValue:""+n}}function aj(n,e){return DF(e)?YC(e):N_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(){this._=void 0}}function lj(n,e,t){return n instanceof nf?function(i,o){const l={fields:{[LC]:{stringValue:NC},[MC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&k_(o)&&(o=Rf(o)),o&&(l.fields[VC]=o),{mapValue:l}}(t,e):n instanceof _c?eR(n,e):n instanceof vc?tR(n,e):function(i,o){const l=ZC(i,o),u=AS(l)+AS(i.Ie);return ly(l)&&ly(i.Ie)?YC(u):N_(i.serializer,u)}(n,e)}function uj(n,e,t){return n instanceof _c?eR(n,e):n instanceof vc?tR(n,e):t}function ZC(n,e){return n instanceof rf?function(r){return ly(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class nf extends Of{}class _c extends Of{constructor(e){super(),this.elements=e}}function eR(n,e){const t=nR(e);for(const r of n.elements)t.some(i=>qr(i,r))||t.push(r);return{arrayValue:{values:t}}}class vc extends Of{constructor(e){super(),this.elements=e}}function tR(n,e){let t=nR(e);for(const r of n.elements)t=t.filter(i=>!qr(i,r));return{arrayValue:{values:t}}}class rf extends Of{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function AS(n){return gt(n.integerValue||n.doubleValue)}function nR(n){return b_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function cj(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof _c&&i instanceof _c||r instanceof vc&&i instanceof vc?ll(r.elements,i.elements,qr):r instanceof rf&&i instanceof rf?qr(r.Ie,i.Ie):r instanceof nf&&i instanceof nf}(n.transform,e.transform)}class hj{constructor(e,t){this.version=e,this.transformResults=t}}class Qn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Df{}function rR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new L_(n.key,Qn.none()):new bc(n.key,n.data,Qn.none());{const t=n.data,r=wn.empty();let i=new Ct(qt.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new Cs(n.key,r,new On(i.toArray()),Qn.none())}}function dj(n,e,t){n instanceof bc?function(i,o,l){const u=i.value.clone(),h=CS(i.fieldTransforms,o,l.transformResults);u.setAll(h),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Cs?function(i,o,l){if(!kd(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=CS(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(iR(i)),h.setAll(u),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Yu(n,e,t,r){return n instanceof bc?function(o,l,u,h){if(!kd(o.precondition,l))return u;const f=o.value.clone(),m=RS(o.fieldTransforms,h,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof Cs?function(o,l,u,h){if(!kd(o.precondition,l))return u;const f=RS(o.fieldTransforms,h,l),m=l.data;return m.setAll(iR(o)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(n,e,t,r):function(o,l,u){return kd(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function fj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=ZC(r.transform,i||null);o!=null&&(t===null&&(t=wn.empty()),t.set(r.field,o))}return t||null}function PS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ll(r,i,(o,l)=>cj(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class bc extends Df{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Cs extends Df{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function iR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function CS(n,e,t){const r=new Map;Be(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,uj(l,u,t[i]))}return r}function RS(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,lj(o,l,e))}return r}class L_ extends Df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pj extends Df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&dj(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Yu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Yu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=XC();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(i.key)?null:u;const h=rR(l,u);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),De())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,(t,r)=>PS(t,r))&&ll(this.baseMutations,e.baseMutations,(t,r)=>PS(t,r))}}class V_{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Be(e.mutations.length===r.length);let i=function(){return rj}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new V_(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Me;function _j(n){switch(n){case ee.OK:return Ee();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ee()}}function sR(n){if(n===void 0)return Ei("GRPC error has no .code"),ee.UNKNOWN;switch(n){case vt.OK:return ee.OK;case vt.CANCELLED:return ee.CANCELLED;case vt.UNKNOWN:return ee.UNKNOWN;case vt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case vt.INTERNAL:return ee.INTERNAL;case vt.UNAVAILABLE:return ee.UNAVAILABLE;case vt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case vt.NOT_FOUND:return ee.NOT_FOUND;case vt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case vt.ABORTED:return ee.ABORTED;case vt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case vt.DATA_LOSS:return ee.DATA_LOSS;default:return Ee()}}(Me=vt||(vt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=new cs([4294967295,4294967295],0);function kS(n){const e=kC().encode(n),t=new TC;return t.update(e),new Uint8Array(t.digest())}function bS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new cs([t,r],0),new cs([i,o],0)]}class M_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ju(`Invalid padding: ${t}`);if(r<0)throw new ju(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ju(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ju(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=cs.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(cs.fromNumber(r)));return i.compare(vj)===1&&(i=new cs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=kS(e),[r,i]=bS(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,i,o);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new M_(o,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.Ee===0)return;const t=kS(e),[r,i]=bS(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,i,o);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,xc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Nf(Se.min(),i,new lt(Re),Ti(),De())}}class xc{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new xc(r,t,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class oR{constructor(e,t){this.targetId=e,this.ge=t}}class aR{constructor(e,t,r=Wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class xS{constructor(){this.pe=0,this.ye=OS(),this.we=Wt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=De(),t=De(),r=De();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new xc(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=OS()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Be(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class wj{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ti(),this.$e=md(),this.Ue=md(),this.Ke=new lt(Re)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const o=i.target;if(cy(o))if(r===0){const l=new _e(o.path);this.ze(t,l,en.newNoDocument(l,Se.min()))}else Be(r===1);else{const l=this.et(t);if(l!==r){const u=this.tt(e),h=u?this.nt(u,e,l):1;if(h!==0){this.Ye(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,f)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,u;try{l=_s(r).toUint8Array()}catch(h){if(h instanceof DC)return al("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new M_(l,i,o)}catch(h){return al(h instanceof ju?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.Ee===0?null:u}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,o,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((o,l)=>{const u=this.Xe(l);if(u){if(o.current&&cy(u.target)){const h=new _e(u.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,en.newNoDocument(h,e))}o.ve&&(t.set(l,o.Fe()),o.Me())}});let r=De();this.Ue.forEach((o,l)=>{let u=!0;l.forEachWhile(h=>{const f=this.Xe(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(e));const i=new Nf(e,t,this.Ke,this.Qe,r);return this.Qe=Ti(),this.$e=md(),this.Ue=md(),this.Ke=new lt(Re),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new xS,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Ct(Re),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Ct(Re),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new xS),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function md(){return new lt(_e.comparator)}function OS(){return new lt(_e.comparator)}const Ej={asc:"ASCENDING",desc:"DESCENDING"},Tj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sj={and:"AND",or:"OR"};class Ij{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function dy(n,e){return n.useProto3Json||Cf(e)?e:{value:e}}function sf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Aj(n,e){return sf(n,e.toTimestamp())}function Br(n){return Be(!!n),Se.fromTimestamp(function(t){const r=ys(t);return new Pt(r.seconds,r.nanos)}(n))}function U_(n,e){return fy(n,e).canonicalString()}function fy(n,e){const t=function(i){return new nt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function uR(n){const e=nt.fromString(n);return Be(pR(e)),e}function py(n,e){return U_(n.databaseId,e.path)}function og(n,e){const t=uR(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(hR(t))}function cR(n,e){return U_(n.databaseId,e)}function Pj(n){const e=uR(n);return e.length===4?nt.emptyPath():hR(e)}function my(n){return new nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hR(n){return Be(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function DS(n,e,t){return{name:py(n,e),fields:t.value.mapValue.fields}}function Cj(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(Be(m===void 0||typeof m=="string"),Wt.fromBase64String(m||"")):(Be(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Wt.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(f){const m=f.code===void 0?ee.UNKNOWN:sR(f.code);return new pe(m,f.message||"")}(l);t=new aR(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=og(n,r.document.name),o=Br(r.document.updateTime),l=r.document.createTime?Br(r.document.createTime):Se.min(),u=new wn({mapValue:{fields:r.document.fields}}),h=en.newFoundDocument(i,o,l,u),f=r.targetIds||[],m=r.removedTargetIds||[];t=new bd(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=og(n,r.document),o=r.readTime?Br(r.readTime):Se.min(),l=en.newNoDocument(i,o),u=r.removedTargetIds||[];t=new bd([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=og(n,r.document),o=r.removedTargetIds||[];t=new bd([],o,i,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new yj(i,o),u=r.targetId;t=new oR(u,l)}}return t}function Rj(n,e){let t;if(e instanceof bc)t={update:DS(n,e.key,e.value)};else if(e instanceof L_)t={delete:py(n,e.key)};else if(e instanceof Cs)t={update:DS(n,e.key,e.data),updateMask:Mj(e.fieldMask)};else{if(!(e instanceof pj))return Ee();t={verify:py(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof nf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof _c)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof vc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof rf)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw Ee()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Aj(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ee()}(n,e.precondition)),t}function kj(n,e){return n&&n.length>0?(Be(e!==void 0),n.map(t=>function(i,o){let l=i.updateTime?Br(i.updateTime):Br(o);return l.isEqual(Se.min())&&(l=Br(o)),new hj(l,i.transformResults||[])}(t,e))):[]}function bj(n,e){return{documents:[cR(n,e.path)]}}function xj(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=cR(n,i);const o=function(f){if(f.length!==0)return fR(Wr.create(f,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(m=>function(w){return{field:Ba(w.field),direction:Nj(w.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=dy(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:i}}function Oj(n){let e=Pj(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Be(r===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(y){const w=dR(y);return w instanceof Wr&&zC(w)?w.getFilters():[w]}(t.where));let l=[];t.orderBy&&(l=function(y){return y.map(w=>function(A){return new tf(za(A.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(w))}(t.orderBy));let u=null;t.limit&&(u=function(y){let w;return w=typeof y=="object"?y.value:y,Cf(w)?null:w}(t.limit));let h=null;t.startAt&&(h=function(y){const w=!!y.before,T=y.values||[];return new ef(T,w)}(t.startAt));let f=null;return t.endAt&&(f=function(y){const w=!y.before,T=y.values||[];return new ef(T,w)}(t.endAt)),XF(e,i,l,o,u,"F",h,f)}function Dj(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function dR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=za(t.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=za(t.unaryFilter.field);return At.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=za(t.unaryFilter.field);return At.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=za(t.unaryFilter.field);return At.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(n):n.fieldFilter!==void 0?function(t){return At.create(za(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Wr.create(t.compositeFilter.filters.map(r=>dR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(n):Ee()}function Nj(n){return Ej[n]}function Lj(n){return Tj[n]}function Vj(n){return Sj[n]}function Ba(n){return{fieldPath:n.canonicalString()}}function za(n){return qt.fromServerFormat(n.fieldPath)}function fR(n){return n instanceof At?function(t){if(t.op==="=="){if(wS(t.value))return{unaryFilter:{field:Ba(t.field),op:"IS_NAN"}};if(vS(t.value))return{unaryFilter:{field:Ba(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(wS(t.value))return{unaryFilter:{field:Ba(t.field),op:"IS_NOT_NAN"}};if(vS(t.value))return{unaryFilter:{field:Ba(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(t.field),op:Lj(t.op),value:t.value}}}(n):n instanceof Wr?function(t){const r=t.getFilters().map(i=>fR(i));return r.length===1?r[0]:{compositeFilter:{op:Vj(t.op),filters:r}}}(n):Ee()}function Mj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function pR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,t,r,i,o=Se.min(),l=Se.min(),u=Wt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e){this.Tt=e}}function Fj(n){const e=Oj({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?hy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(){this.Tn=new $j}addToCollectionParentIndex(e,t){return this.Tn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(gs.min())}updateCollectionGroup(e,t,r){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class $j{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ct(nt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ct(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mR=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(mR,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new hl(0)}static Kn(){return new hl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="LruGarbageCollector",Bj=1048576;function VS([n,e],[t,r]){const i=Re(n,t);return i===0?Re(e,r):i}class zj{constructor(e){this.Hn=e,this.buffer=new Ct(VS),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();VS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Hj{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){le(LS,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Il(t)?le(LS,"Ignoring IndexedDB error during garbage collection: ",t):await Sl(t)}await this.er(3e5)})}}class qj{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Pf.ae);const r=new zj(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(NS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NS):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,l,u,h,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,u=Date.now(),this.removeTargets(e,r,t))).next(y=>(o=y,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(f=Date.now(),ja()<=Oe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${y} documents in `+(f-h)+`ms
Total Duration: ${f-m}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y})))}}function Wj(n,e){return new qj(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(){this.changes=new Oo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?J.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Yu(r.mutation,i,On.empty(),Pt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,t,r=De()){const i=mo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=Fu();return o.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=mo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,De()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let o=Ti();const l=Xu(),u=function(){return Xu()}();return t.forEach((h,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof Cs)?o=o.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),Yu(m.mutation,f,m.mutation.getFieldMask(),Pt.now())):l.set(f.key,On.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((f,m)=>l.set(f,m)),t.forEach((f,m)=>{var y;return u.set(f,new Gj(m,(y=l.get(f))!==null&&y!==void 0?y:null))}),u))}recalculateAndSaveOverlays(e,t){const r=Xu();let i=new lt((l,u)=>l-u),o=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(h=>{const f=t.get(h);if(f===null)return;let m=r.get(h)||On.empty();m=u.applyToLocalView(f,m),r.set(h,m);const y=(i.get(u.batchId)||De()).add(h);i=i.insert(u.batchId,y)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,m=h.value,y=XC();m.forEach(w=>{if(!o.has(w)){const T=rR(t.get(w),r.get(w));T!==null&&y.set(w,T),o=o.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,y))}return J.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):YF(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):J.resolve(mo());let u=pc,h=o;return l.next(f=>J.forEach(f,(m,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(m)?J.resolve():this.remoteDocumentCache.getEntry(e,m).next(w=>{h=h.insert(m,w)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,h,f,De())).next(m=>({batchId:u,changes:JC(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let i=Fu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=Fu();return this.indexManager.getCollectionParents(e,o).next(u=>J.forEach(u,h=>{const f=function(y,w){return new kf(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(m=>{m.forEach((y,w)=>{l=l.insert(y,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(l=>{o.forEach((h,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,en.newInvalidDocument(m)))});let u=Fu();return l.forEach((h,f)=>{const m=o.get(h);m!==void 0&&Yu(m.mutation,f,On.empty(),Pt.now()),xf(t,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return J.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Br(i.createTime)}}(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:Fj(i.bundledQuery),readTime:Br(i.readTime)}}(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(){this.overlays=new lt(_e.comparator),this.Rr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const r=mo();return J.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),J.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),J.resolve()}getOverlaysForCollection(e,t,r){const i=mo(),o=t.length+1,l=new _e(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return J.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new lt((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let m=o.get(f.largestBatchId);m===null&&(m=mo(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=mo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,m)=>u.set(f,m)),!(u.size()>=i)););return J.resolve(u)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new gj(t,r));let o=this.Rr.get(t);o===void 0&&(o=De(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(){this.Vr=new Ct(Lt.mr),this.gr=new Ct(Lt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Lt(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Lt(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new _e(new nt([])),r=new Lt(t,e),i=new Lt(t,e+1),o=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new nt([])),r=new Lt(t,e),i=new Lt(t,e+1);let o=De();return this.gr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new Lt(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||Re(e.Cr,t.Cr)}static pr(e,t){return Re(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Ct(Lt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new mj(o,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Mr=this.Mr.add(new Lt(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return J.resolve(l)}lookupMutationBatch(e,t){return J.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),o=i<0?0:i;return J.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?R_:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Lt(t,0),i=new Lt(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],l=>{const u=this.Or(l.Cr);o.push(u)}),J.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ct(Re);return t.forEach(i=>{const o=new Lt(i,0),l=new Lt(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],u=>{r=r.add(u.Cr)})}),J.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const l=new Lt(new _e(o),0);let u=new Ct(Re);return this.Mr.forEachWhile(h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(h.Cr)),!0)},l),J.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Be(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return J.forEach(t.mutations,i=>{const o=new Lt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Lt(t,0),i=this.Mr.firstAfterOrEqual(r);return J.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e){this.kr=e,this.docs=function(){return new lt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return J.resolve(r?r.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let r=Ti();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():en.newInvalidDocument(i))}),J.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ti();const l=t.path,u=new _e(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||kF(RF(m),r)<=0||(i.has(m.key)||xf(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return J.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Ee()}qr(e,t){return J.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new t$(this)}getSize(e){return J.resolve(this.size)}}class t$ extends Kj{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),J.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e){this.persistence=e,this.Qr=new Oo(t=>x_(t),O_),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Ur=new F_,this.targetCount=0,this.Kr=hl.Un()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),J.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new hl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.zn(t),J.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Qr.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),J.waitFor(o).next(()=>i)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return J.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),J.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),J.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),J.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return J.resolve(r)}containsKey(e,t){return J.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Pf(0),this.zr=!1,this.zr=!0,this.jr=new Yj,this.referenceDelegate=e(this),this.Hr=new n$(this),this.indexManager=new jj,this.remoteDocumentCache=function(i){return new e$(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Uj(t),this.Yr=new Jj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Xj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new Zj(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){le("MemoryPersistence","Starting transaction:",e);const i=new r$(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return J.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class r$ extends xF{constructor(e){super(),this.currentSequenceNumber=e}}class j_{constructor(e){this.persistence=e,this.ti=new F_,this.ni=null}static ri(e){return new j_(e)}get ii(){if(this.ni)return this.ni;throw Ee()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),J.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),J.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,r=>{const i=_e.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,Se.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return J.or([()=>J.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class of{constructor(e,t){this.persistence=e,this.oi=new Oo(r=>NF(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Wj(this,t)}static ri(e,t){return new of(e,t)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return J.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?J.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(u=>{u||(r++,o.removeEntry(l,Se.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),J.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Cd(e.data.value)),t}ar(e,t,r){return J.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return J.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=De(),i=De();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new $_(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Q4()?8:OF(nn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new i$;return this._s(e,t,l).next(u=>{if(o.result=u,this.Xi)return this.us(e,t,l,u.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(ja()<=Oe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",$a(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(ja()<=Oe.DEBUG&&le("QueryEngine","Query:",$a(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(ja()<=Oe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",$a(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$r(t))):J.resolve())}rs(e,t){if(IS(t))return J.resolve(null);let r=$r(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=hy(t,null,"F"),r=$r(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=De(...o);return this.ns.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const f=this.cs(t,u);return this.ls(t,f,l,h.readTime)?this.rs(e,hy(t,null,"F")):this.hs(e,f,t,h)}))})))}ss(e,t,r,i){return IS(t)||i.isEqual(Se.min())?J.resolve(null):this.ns.getDocuments(e,r).next(o=>{const l=this.cs(t,o);return this.ls(t,l,r,i)?J.resolve(null):(ja()<=Oe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$a(t)),this.hs(e,l,t,CF(i,pc)).next(u=>u))})}cs(e,t){let r=new Ct(GC(e));return t.forEach((i,o)=>{xf(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return ja()<=Oe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",$a(t)),this.ns.getDocumentsMatchingQuery(e,t,gs.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="LocalStore",o$=3e8;class a${constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new lt(Re),this.Is=new Oo(o=>x_(o),O_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qj(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function l$(n,e,t,r){return new a$(n,e,t,r)}async function yR(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let h=De();for(const f of i){l.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of o){u.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return t.localDocuments.getDocuments(r,h).next(f=>({Rs:f,removedBatchIds:l,addedBatchIds:u}))})})}function u$(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,h,f,m){const y=f.batch,w=y.keys();let T=J.resolve();return w.forEach(A=>{T=T.next(()=>m.getEntry(h,A)).next(b=>{const C=f.docVersions.get(A);Be(C!==null),b.version.compareTo(C)<0&&(y.applyToRemoteDocument(b,f),b.isValidDocument()&&(b.setReadTime(f.commitVersion),m.addEntry(b)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(h,y))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=De();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function _R(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function c$(n,e){const t=Ae(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const u=[];e.targetChanges.forEach((m,y)=>{const w=i.get(y);if(!w)return;u.push(t.Hr.removeMatchingKeys(o,m.removedDocuments,y).next(()=>t.Hr.addMatchingKeys(o,m.addedDocuments,y)));let T=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(Wt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),i=i.insert(y,T),function(b,C,D){return b.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=o$?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(w,T,m)&&u.push(t.Hr.updateTargetData(o,T))});let h=Ti(),f=De();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(h$(o,l,e.documentUpdates).next(m=>{h=m.Vs,f=m.fs})),!r.isEqual(Se.min())){const m=t.Hr.getLastRemoteSnapshotVersion(o).next(y=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(m)}return J.waitFor(u).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(t.Ts=i,o))}function h$(n,e,t){let r=De(),i=De();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=Ti();return t.forEach((u,h)=>{const f=o.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(Se.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):le(B_,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{Vs:l,fs:i}})}function d$(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=R_),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function f$(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,J.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new as(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function gy(n,e,t){const r=Ae(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Il(l))throw l;le(B_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function MS(n,e,t){const r=Ae(n);let i=Se.min(),o=De();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,m){const y=Ae(h),w=y.Is.get(m);return w!==void 0?J.resolve(y.Ts.get(w)):y.Hr.getTargetData(f,m)}(r,l,$r(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,u.targetId).next(h=>{o=h})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:Se.min(),t?o:De())).next(u=>(p$(r,ej(e),u),{documents:u,gs:o})))}function p$(n,e,t){let r=n.Es.get(e)||Se.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}class US{constructor(){this.activeTargetIds=oj()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class m${constructor(){this.ho=new US,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new US,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="ConnectivityMonitor";class jS{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){le(FS,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){le(FS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd=null;function yy(){return gd===null?gd=function(){return 268435456+Math.round(2147483648*Math.random())}():gd++,"0x"+gd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="RestConnection",y$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _${get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Yd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,o){const l=yy(),u=this.bo(e,t.toUriEncodedString());le(ag,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,i,o),this.vo(e,u,h,r).then(f=>(le(ag,`Received RPC '${e}' ${l}: `,f),f),f=>{throw al(ag,`RPC '${e}' ${l} failed with error: `,f,"url: ",u,"request:",r),f})}Co(e,t,r,i,o,l){return this.So(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,t){const r=y$[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class w$ extends _${constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const o=yy();return new Promise((l,u)=>{const h=new SC;h.setWithCredentials(!0),h.listenOnce(IC.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Pd.NO_ERROR:const m=h.getResponseJson();le(Xt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Pd.TIMEOUT:le(Xt,`RPC '${e}' ${o} timed out`),u(new pe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Pd.HTTP_ERROR:const y=h.getStatus();if(le(Xt,`RPC '${e}' ${o} failed with status:`,y,"response text:",h.getResponseText()),y>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w==null?void 0:w.error;if(T&&T.status&&T.message){const A=function(C){const D=C.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(D)>=0?D:ee.UNKNOWN}(T.status);u(new pe(A,T.message))}else u(new pe(ee.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new pe(ee.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{le(Xt,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);le(Xt,`RPC '${e}' ${o} sending request:`,i),h.send(t,"POST",f,r,15)})}Wo(e,t,r){const i=yy(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=CC(),u=PC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const m=o.join("");le(Xt,`Creating RPC '${e}' stream ${i}: ${m}`,h);const y=l.createWebChannel(m,h);let w=!1,T=!1;const A=new v$({Fo:C=>{T?le(Xt,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(w||(le(Xt,`Opening RPC '${e}' stream ${i} transport.`),y.open(),w=!0),le(Xt,`RPC '${e}' stream ${i} sending:`,C),y.send(C))},Mo:()=>y.close()}),b=(C,D,H)=>{C.listen(D,F=>{try{H(F)}catch(G){setTimeout(()=>{throw G},0)}})};return b(y,Uu.EventType.OPEN,()=>{T||(le(Xt,`RPC '${e}' stream ${i} transport opened.`),A.Qo())}),b(y,Uu.EventType.CLOSE,()=>{T||(T=!0,le(Xt,`RPC '${e}' stream ${i} transport closed`),A.Uo())}),b(y,Uu.EventType.ERROR,C=>{T||(T=!0,al(Xt,`RPC '${e}' stream ${i} transport errored:`,C),A.Uo(new pe(ee.UNAVAILABLE,"The operation could not be completed")))}),b(y,Uu.EventType.MESSAGE,C=>{var D;if(!T){const H=C.data[0];Be(!!H);const F=H,G=(F==null?void 0:F.error)||((D=F[0])===null||D===void 0?void 0:D.error);if(G){le(Xt,`RPC '${e}' stream ${i} received error:`,G);const Q=G.status;let ne=function(R){const N=vt[R];if(N!==void 0)return sR(N)}(Q),O=G.message;ne===void 0&&(ne=ee.INTERNAL,O="Unknown error status: "+Q+" with message "+G.message),T=!0,A.Uo(new pe(ne,O)),y.close()}else le(Xt,`RPC '${e}' stream ${i} received:`,H),A.Ko(H)}}),b(u,AC.STAT_EVENT,C=>{C.stat===sy.PROXY?le(Xt,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===sy.NOPROXY&&le(Xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.$o()},0),A}}function lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(n){return new Ij(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="PersistentStream";class wR{constructor(e,t,r,i,o,l,u,h){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new vR(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Ei(t.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new pe(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return le($S,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(le($S,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class E$ extends wR{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Cj(this.serializer,e),r=function(o){if(!("targetChange"in o))return Se.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Se.min():l.readTime?Br(l.readTime):Se.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=my(this.serializer),t.addTarget=function(o,l){let u;const h=l.target;if(u=cy(h)?{documents:bj(o,h)}:{query:xj(o,h).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=lR(o,l.resumeToken);const f=dy(o,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Se.min())>0){u.readTime=sf(o,l.snapshotVersion.toTimestamp());const f=dy(o,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const r=Dj(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=my(this.serializer),t.removeTarget=e,this.I_(t)}}class T$ extends wR{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=kj(e.writeResults,e.commitTime),r=Br(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=my(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Rj(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${}class I$ extends S${constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new pe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.So(e,fy(t,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(ee.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(e,fy(t,r),i,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(ee.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class A${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ei(t),this.N_=!1):le("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="RemoteStore";class P${constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{r.enqueueAndForget(async()=>{Do(this)&&(le(To,"Restarting streams for network reachability change."),await async function(h){const f=Ae(h);f.W_.add(4),await Oc(f),f.j_.set("Unknown"),f.W_.delete(4),await Vf(f)}(this))})}),this.j_=new A$(r,i)}}async function Vf(n){if(Do(n))for(const e of n.G_)await e(!0)}async function Oc(n){for(const e of n.G_)await e(!1)}function ER(n,e){const t=Ae(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),W_(t)?q_(t):Al(t).c_()&&H_(t,e))}function z_(n,e){const t=Ae(n),r=Al(t);t.K_.delete(e),r.c_()&&TR(t,e),t.K_.size===0&&(r.c_()?r.P_():Do(t)&&t.j_.set("Unknown"))}function H_(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Al(n).y_(e)}function TR(n,e){n.H_.Ne(e),Al(n).w_(e)}function q_(n){n.H_=new wj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Al(n).start(),n.j_.B_()}function W_(n){return Do(n)&&!Al(n).u_()&&n.K_.size>0}function Do(n){return Ae(n).W_.size===0}function SR(n){n.H_=void 0}async function C$(n){n.j_.set("Online")}async function R$(n){n.K_.forEach((e,t)=>{H_(n,e)})}async function k$(n,e){SR(n),W_(n)?(n.j_.q_(e),q_(n)):n.j_.set("Unknown")}async function b$(n,e,t){if(n.j_.set("Online"),e instanceof aR&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const u of o.targetIds)i.K_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.K_.delete(u),i.H_.removeTarget(u))}(n,e)}catch(r){le(To,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await af(n,r)}else if(e instanceof bd?n.H_.We(e):e instanceof oR?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Se.min()))try{const r=await _R(n.localStore);t.compareTo(r)>=0&&await function(o,l){const u=o.H_.ot(l);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.K_.get(f);m&&o.K_.set(f,m.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,f)=>{const m=o.K_.get(h);if(!m)return;o.K_.set(h,m.withResumeToken(Wt.EMPTY_BYTE_STRING,m.snapshotVersion)),TR(o,h);const y=new as(m.target,h,f,m.sequenceNumber);H_(o,y)}),o.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){le(To,"Failed to raise snapshot:",r),await af(n,r)}}async function af(n,e,t){if(!Il(e))throw e;n.W_.add(1),await Oc(n),n.j_.set("Offline"),t||(t=()=>_R(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le(To,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Vf(n)})}function IR(n,e){return e().catch(t=>af(n,t,e))}async function Mf(n){const e=Ae(n),t=ws(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:R_;for(;x$(e);)try{const i=await d$(e.localStore,r);if(i===null){e.U_.length===0&&t.P_();break}r=i.batchId,O$(e,i)}catch(i){await af(e,i)}AR(e)&&PR(e)}function x$(n){return Do(n)&&n.U_.length<10}function O$(n,e){n.U_.push(e);const t=ws(n);t.c_()&&t.S_&&t.b_(e.mutations)}function AR(n){return Do(n)&&!ws(n).u_()&&n.U_.length>0}function PR(n){ws(n).start()}async function D$(n){ws(n).C_()}async function N$(n){const e=ws(n);for(const t of n.U_)e.b_(t.mutations)}async function L$(n,e,t){const r=n.U_.shift(),i=V_.from(r,e,t);await IR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Mf(n)}async function V$(n,e){e&&ws(n).S_&&await async function(r,i){if(function(l){return _j(l)&&l!==ee.ABORTED}(i.code)){const o=r.U_.shift();ws(r).h_(),await IR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Mf(r)}}(n,e),AR(n)&&PR(n)}async function BS(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),le(To,"RemoteStore received new credentials");const r=Do(t);t.W_.add(3),await Oc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Vf(t)}async function M$(n,e){const t=Ae(n);e?(t.W_.delete(2),await Vf(t)):e||(t.W_.add(2),await Oc(t),t.j_.set("Unknown"))}function Al(n){return n.J_||(n.J_=function(t,r,i){const o=Ae(t);return o.M_(),new E$(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:C$.bind(null,n),No:R$.bind(null,n),Lo:k$.bind(null,n),p_:b$.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),W_(n)?q_(n):n.j_.set("Unknown")):(await n.J_.stop(),SR(n))})),n.J_}function ws(n){return n.Y_||(n.Y_=function(t,r,i){const o=Ae(t);return o.M_(),new T$(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:D$.bind(null,n),Lo:V$.bind(null,n),D_:N$.bind(null,n),v_:L$.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Mf(n)):(await n.Y_.stop(),n.U_.length>0&&(le(To,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,u=new K_(e,t,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function G_(n,e){if(Ei("AsyncQueue",`${e}: ${n}`),Il(n))return new pe(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{static emptySet(e){return new Za(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=Fu(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Za;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.Z_=new lt(_e.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ee():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class dl{constructor(e,t,r,i,o,l,u,h,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new dl(e,t,Za.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class F${constructor(){this.queries=HS(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=Ae(t),o=i.queries;i.queries=HS(),o.forEach((l,u)=>{for(const h of u.ta)h.onError(r)})})(this,new pe(ee.ABORTED,"Firestore shutting down"))}}function HS(){return new Oo(n=>KC(n),bf)}async function CR(n,e){const t=Ae(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new U$,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(i,!0);break;case 1:o.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=G_(l,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&Q_(t)}async function RR(n,e){const t=Ae(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.ta.indexOf(e);l>=0&&(o.ta.splice(l,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function j$(n,e){const t=Ae(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const u of l.ta)u.oa(i)&&(r=!0);l.ea=i}}r&&Q_(t)}function $$(n,e,t){const r=Ae(n),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(t);r.queries.delete(e)}function Q_(n){n.ia.forEach(e=>{e.next()})}var _y,qS;(qS=_y||(_y={}))._a="default",qS.Cache="cache";class kR{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new dl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==_y.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.key=e}}class xR{constructor(e){this.key=e}}class B${constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=De(),this.mutatedKeys=De(),this.ya=GC(e),this.wa=new Za(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new zS,i=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,y)=>{const w=i.get(m),T=xf(this.query,y)?y:null,A=!!w&&this.mutatedKeys.has(w.key),b=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let C=!1;w&&T?w.data.isEqual(T.data)?A!==b&&(r.track({type:3,doc:T}),C=!0):this.va(w,T)||(r.track({type:2,doc:T}),C=!0,(h&&this.ya(T,h)>0||f&&this.ya(T,f)<0)&&(u=!0)):!w&&T?(r.track({type:0,doc:T}),C=!0):w&&!T&&(r.track({type:1,doc:w}),C=!0,(h||f)&&(u=!0)),C&&(T?(l=l.add(T),o=b?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{wa:l,Da:r,ls:u,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((m,y)=>function(T,A){const b=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return b(T)-b(A)}(m.type,y.type)||this.ya(m.doc,y.doc)),this.Ca(r),i=i!=null&&i;const u=t&&!i?this.Fa():[],h=this.pa.size===0&&this.current&&!i?1:0,f=h!==this.ga;return this.ga=h,l.length!==0||f?{snapshot:new dl(this.query,e.wa,o,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new zS,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=De(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new xR(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new bR(r))}),t}Oa(e){this.fa=e.gs,this.pa=De();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return dl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const J_="SyncEngine";class z${constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class H${constructor(e){this.key=e,this.Ba=!1}}class q${constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Oo(u=>KC(u),bf),this.qa=new Map,this.Qa=new Set,this.$a=new lt(_e.comparator),this.Ua=new Map,this.Ka=new F_,this.Wa={},this.Ga=new Map,this.za=hl.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function W$(n,e,t=!0){const r=MR(n);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await OR(r,e,t,!0),i}async function K$(n,e){const t=MR(n);await OR(t,e,!0,!1)}async function OR(n,e,t,r){const i=await f$(n.localStore,$r(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await G$(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&ER(n.remoteStore,i),u}async function G$(n,e,t,r,i){n.Ha=(y,w,T)=>async function(b,C,D,H){let F=C.view.ba(D);F.ls&&(F=await MS(b.localStore,C.query,!1).then(({documents:O})=>C.view.ba(O,F)));const G=H&&H.targetChanges.get(C.targetId),Q=H&&H.targetMismatches.get(C.targetId)!=null,ne=C.view.applyChanges(F,b.isPrimaryClient,G,Q);return KS(b,C.targetId,ne.Ma),ne.snapshot}(n,y,w,T);const o=await MS(n.localStore,e,!0),l=new B$(e,o.gs),u=l.ba(o.documents),h=xc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=l.applyChanges(u,n.isPrimaryClient,h);KS(n,t,f.Ma);const m=new z$(e,t,l);return n.ka.set(e,m),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),f.snapshot}async function Q$(n,e,t){const r=Ae(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(l=>!bf(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&z_(r.remoteStore,i.targetId),vy(r,i.targetId)}).catch(Sl)):(vy(r,i.targetId),await gy(r.localStore,i.targetId,!0))}async function J$(n,e){const t=Ae(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),z_(t.remoteStore,r.targetId))}async function X$(n,e,t){const r=i3(n);try{const i=await function(l,u){const h=Ae(l),f=Pt.now(),m=u.reduce((T,A)=>T.add(A.key),De());let y,w;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let A=Ti(),b=De();return h.ds.getEntries(T,m).next(C=>{A=C,A.forEach((D,H)=>{H.isValidDocument()||(b=b.add(D))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,A)).next(C=>{y=C;const D=[];for(const H of u){const F=fj(H,y.get(H.key).overlayedDocument);F!=null&&D.push(new Cs(H.key,F,jC(F.value.mapValue),Qn.exists(!0)))}return h.mutationQueue.addMutationBatch(T,f,D,u)}).next(C=>{w=C;const D=C.applyToLocalDocumentSet(y,b);return h.documentOverlayCache.saveOverlays(T,C.batchId,D)})}).then(()=>({batchId:w.batchId,changes:JC(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,h){let f=l.Wa[l.currentUser.toKey()];f||(f=new lt(Re)),f=f.insert(u,h),l.Wa[l.currentUser.toKey()]=f}(r,i.batchId,t),await Dc(r,i.changes),await Mf(r.remoteStore)}catch(i){const o=G_(i,"Failed to persist write");t.reject(o)}}async function DR(n,e){const t=Ae(n);try{const r=await c$(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.Ua.get(o);l&&(Be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Be(l.Ba):i.removedDocuments.size>0&&(Be(l.Ba),l.Ba=!1))}),await Dc(t,r,e)}catch(r){await Sl(r)}}function WS(n,e,t){const r=Ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((o,l)=>{const u=l.view.sa(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const h=Ae(l);h.onlineState=u;let f=!1;h.queries.forEach((m,y)=>{for(const w of y.ta)w.sa(u)&&(f=!0)}),f&&Q_(h)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Y$(n,e,t){const r=Ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ua.get(e),o=i&&i.key;if(o){let l=new lt(_e.comparator);l=l.insert(o,en.newNoDocument(o,Se.min()));const u=De().add(o),h=new Nf(Se.min(),new Map,new lt(Re),l,u);await DR(r,h),r.$a=r.$a.remove(o),r.Ua.delete(e),X_(r)}else await gy(r.localStore,e,!1).then(()=>vy(r,e,t)).catch(Sl)}async function Z$(n,e){const t=Ae(n),r=e.batch.batchId;try{const i=await u$(t.localStore,e);LR(t,r,null),NR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Dc(t,i)}catch(i){await Sl(i)}}async function e3(n,e,t){const r=Ae(n);try{const i=await function(l,u){const h=Ae(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return h.mutationQueue.lookupMutationBatch(f,u).next(y=>(Be(y!==null),m=y.keys(),h.mutationQueue.removeMutationBatch(f,y))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>h.localDocuments.getDocuments(f,m))})}(r.localStore,e);LR(r,e,t),NR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Dc(r,i)}catch(i){await Sl(i)}}function NR(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function LR(n,e,t){const r=Ae(n);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function vy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||VR(n,r)})}function VR(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(z_(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),X_(n))}function KS(n,e,t){for(const r of t)r instanceof bR?(n.Ka.addReference(r.key,e),t3(n,r)):r instanceof xR?(le(J_,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||VR(n,r.key)):Ee()}function t3(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(le(J_,"New document in limbo: "+t),n.Qa.add(r),X_(n))}function X_(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(nt.fromString(e)),r=n.za.next();n.Ua.set(r,new H$(t)),n.$a=n.$a.insert(t,r),ER(n.remoteStore,new as($r(D_(t.path)),r,"TargetPurposeLimboResolution",Pf.ae))}}async function Dc(n,e,t){const r=Ae(n),i=[],o=[],l=[];r.ka.isEmpty()||(r.ka.forEach((u,h)=>{l.push(r.Ha(h,e,t).then(f=>{var m;if((f||t)&&r.isPrimaryClient){const y=f?!f.fromCache:(m=t==null?void 0:t.targetChanges.get(h.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(f){i.push(f);const y=$_.Yi(h.targetId,f);o.push(y)}}))}),await Promise.all(l),r.La.p_(i),await async function(h,f){const m=Ae(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>J.forEach(f,w=>J.forEach(w.Hi,T=>m.persistence.referenceDelegate.addReference(y,w.targetId,T)).next(()=>J.forEach(w.Ji,T=>m.persistence.referenceDelegate.removeReference(y,w.targetId,T)))))}catch(y){if(!Il(y))throw y;le(B_,"Failed to update sequence numbers: "+y)}for(const y of f){const w=y.targetId;if(!y.fromCache){const T=m.Ts.get(w),A=T.snapshotVersion,b=T.withLastLimboFreeSnapshotVersion(A);m.Ts=m.Ts.insert(w,b)}}}(r.localStore,o))}async function n3(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){le(J_,"User change. New user:",e.toKey());const r=await yR(t.localStore,e);t.currentUser=e,function(o,l){o.Ga.forEach(u=>{u.forEach(h=>{h.reject(new pe(ee.CANCELLED,l))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Dc(t,r.Rs)}}function r3(n,e){const t=Ae(n),r=t.Ua.get(e);if(r&&r.Ba)return De().add(r.key);{let i=De();const o=t.qa.get(e);if(!o)return i;for(const l of o){const u=t.ka.get(l);i=i.unionWith(u.view.Sa)}return i}}function MR(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=DR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y$.bind(null,e),e.La.p_=j$.bind(null,e.eventManager),e.La.Ja=$$.bind(null,e.eventManager),e}function i3(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e3.bind(null,e),e}class lf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return l$(this.persistence,new s$,e.initialUser,this.serializer)}Xa(e){return new gR(j_.ri,this.serializer)}Za(e){return new m$}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lf.provider={build:()=>new lf};class s3 extends lf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Be(this.persistence.referenceDelegate instanceof of);const r=this.persistence.referenceDelegate.garbageCollector;return new Hj(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new gR(r=>of.ri(r,t),this.serializer)}}class wy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>WS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=n3.bind(null,this.syncEngine),await M$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new F$}()}createDatastore(e){const t=Lf(e.databaseInfo.databaseId),r=function(o){return new w$(o)}(e.databaseInfo);return function(o,l,u,h){return new I$(o,l,u,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,l,u){return new P$(r,i,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>WS(this.syncEngine,t,0),function(){return jS.D()?new jS:new g$}())}createSyncEngine(e,t){return function(i,o,l,u,h,f,m){const y=new q$(i,o,l,u,h,f);return m&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Ae(i);le(To,"RemoteStore shutting down."),o.W_.add(5),await Oc(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}wy.provider={build:()=>new wy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="FirestoreClient";class o3{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Zt.UNAUTHENTICATED,this.clientId=bC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{le(Es,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(le(Es,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=G_(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ug(n,e){n.asyncQueue.verifyOperationInProgress(),le(Es,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function GS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await a3(n);le(Es,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>BS(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>BS(e.remoteStore,i)),n._onlineComponents=e}async function a3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(Es,"Using user provided OfflineComponentProvider");try{await ug(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ee.FAILED_PRECONDITION||i.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;al("Error using user provided cache. Falling back to memory cache: "+t),await ug(n,new lf)}}else le(Es,"Using default OfflineComponentProvider"),await ug(n,new s3(void 0));return n._offlineComponents}async function FR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(Es,"Using user provided OnlineComponentProvider"),await GS(n,n._uninitializedComponentsProvider._online)):(le(Es,"Using default OnlineComponentProvider"),await GS(n,new wy))),n._onlineComponents}function l3(n){return FR(n).then(e=>e.syncEngine)}async function jR(n){const e=await FR(n),t=e.eventManager;return t.onListen=W$.bind(null,e.syncEngine),t.onUnlisten=Q$.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=K$.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=J$.bind(null,e.syncEngine),t}function u3(n,e,t={}){const r=new _i;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,h,f){const m=new UR({next:w=>{m.su(),l.enqueueAndForget(()=>RR(o,y));const T=w.docs.has(u);!T&&w.fromCache?f.reject(new pe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&w.fromCache&&h&&h.source==="server"?f.reject(new pe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(w)},error:w=>f.reject(w)}),y=new kR(D_(u.path),m,{includeMetadataChanges:!0,Ta:!0});return CR(o,y)}(await jR(n),n.asyncQueue,e,t,r)),r.promise}function c3(n,e,t={}){const r=new _i;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,h,f){const m=new UR({next:w=>{m.su(),l.enqueueAndForget(()=>RR(o,y)),w.fromCache&&h.source==="server"?f.reject(new pe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(w)},error:w=>f.reject(w)}),y=new kR(u,m,{includeMetadataChanges:!0,Ta:!0});return CR(o,y)}(await jR(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(n,e,t){if(!t)throw new pe(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function h3(n,e,t,r){if(e===!0&&r===!0)throw new pe(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function JS(n){if(!_e.isDocumentKey(n))throw new pe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function XS(n){if(_e.isDocumentKey(n))throw new pe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Y_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee()}function wr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Y_(n);throw new pe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="firestore.googleapis.com",YS=!0;class ZS{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zR,this.ssl=YS}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:YS;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Bj)throw new pe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}h3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$R((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _F;switch(r.type){case"firstParty":return new TF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=QS.get(t);r&&(le("ComponentProvider","Removing Datastore"),QS.delete(t),r.terminate())}(this),Promise.resolve()}}function d3(n,e,t,r={}){var i;const o=(n=wr(n,Uf))._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o.host!==zR&&o.host!==u&&al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:u,ssl:!1,emulatorOptions:r});if(!wo(h,l)&&(n._setSettings(h),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=Zt.MOCK_USER;else{f=fC(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new pe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Zt(y)}n._authCredentials=new vF(new RC(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ff(this.firestore,e,this._query)}}class Tn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class hs extends Ff{constructor(e,t,r){super(e,t,D_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new _e(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function h8(n,e,...t){if(n=at(n),BR("collection","path",e),n instanceof Uf){const r=nt.fromString(e,...t);return XS(r),new hs(n,null,r)}{if(!(n instanceof Tn||n instanceof hs))throw new pe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nt.fromString(e,...t));return XS(r),new hs(n.firestore,null,r)}}function f3(n,e,...t){if(n=at(n),arguments.length===1&&(e=bC.newId()),BR("doc","path",e),n instanceof Uf){const r=nt.fromString(e,...t);return JS(r),new Tn(n,null,new _e(r))}{if(!(n instanceof Tn||n instanceof hs))throw new pe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nt.fromString(e,...t));return JS(r),new Tn(n.firestore,n instanceof hs?n.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="AsyncQueue";class tI{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new vR(this,"async_queue_retry"),this.Su=()=>{const r=lg();r&&le(eI,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=lg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=lg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new _i;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Il(e))throw e;le(eI,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw Ei("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=K_.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&Ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class No extends Uf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new tI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tI(e),this._firestoreClient=void 0,await e}}}function d8(n,e){const t=typeof n=="object"?n:P_(),r=typeof n=="string"?n:Yd,i=El(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=cC("firestore");o&&d3(i,...o)}return i}function Z_(n){if(n._terminated)throw new pe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||p3(n),n._firestoreClient}function p3(n){var e,t,r;const i=n._freezeSettings(),o=function(u,h,f,m){return new MF(u,h,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,$R(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new o3(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fl(Wt.fromBase64String(e))}catch(t){throw new pe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fl(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=/^__.*__$/;class g3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new bc(e,this.data,t,this.fieldTransforms)}}class HR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Cs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class rv{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new rv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return uf(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(qR(this.Lu)&&m3.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class y3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Lf(e)}ju(e,t,r,i=!1){return new rv({Lu:e,methodName:t,zu:r,path:qt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iv(n){const e=n._freezeSettings(),t=Lf(n._databaseId);return new y3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function WR(n,e,t,r,i,o={}){const l=n.ju(o.merge||o.mergeFields?2:0,e,t,i);sv("Data must be an object, but it was:",l,r);const u=KR(r,l);let h,f;if(o.merge)h=new On(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const y of o.mergeFields){const w=Ey(e,y,t);if(!l.contains(w))throw new pe(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);QR(m,w)||m.push(w)}h=new On(m),f=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,f=l.fieldTransforms;return new g3(new wn(u),h,f)}class $f extends ev{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $f}}function _3(n,e,t,r){const i=n.ju(1,e,t);sv("Data must be an object, but it was:",i,r);const o=[],l=wn.empty();Ps(r,(h,f)=>{const m=ov(e,h,t);f=at(f);const y=i.Uu(m);if(f instanceof $f)o.push(m);else{const w=Bf(f,y);w!=null&&(o.push(m),l.set(m,w))}});const u=new On(o);return new HR(l,u,i.fieldTransforms)}function v3(n,e,t,r,i,o){const l=n.ju(1,e,t),u=[Ey(e,r,t)],h=[i];if(o.length%2!=0)throw new pe(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)u.push(Ey(e,o[w])),h.push(o[w+1]);const f=[],m=wn.empty();for(let w=u.length-1;w>=0;--w)if(!QR(f,u[w])){const T=u[w];let A=h[w];A=at(A);const b=l.Uu(T);if(A instanceof $f)f.push(T);else{const C=Bf(A,b);C!=null&&(f.push(T),m.set(T,C))}}const y=new On(f);return new HR(m,y,l.fieldTransforms)}function Bf(n,e){if(GR(n=at(n)))return sv("Unsupported field value:",e,n),KR(n,e);if(n instanceof ev)return function(r,i){if(!qR(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const u of r){let h=Bf(u,i.Ku(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Pt.fromDate(r);return{timestampValue:sf(i.serializer,o)}}if(r instanceof Pt){const o=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sf(i.serializer,o)}}if(r instanceof tv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fl)return{bytesValue:lR(i.serializer,r._byteString)};if(r instanceof Tn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:U_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof nv)return function(l,u){return{mapValue:{fields:{[UC]:{stringValue:FC},[Zd]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.Wu("VectorValues must only contain numeric values.");return N_(u.serializer,f)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Y_(r)}`)}(n,e)}function KR(n,e){const t={};return OC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ps(n,(r,i)=>{const o=Bf(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function GR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof tv||n instanceof fl||n instanceof Tn||n instanceof ev||n instanceof nv)}function sv(n,e,t){if(!GR(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Y_(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function Ey(n,e,t){if((e=at(e))instanceof jf)return e._internalPath;if(typeof e=="string")return ov(n,e);throw uf("Field path arguments must be of type string or ",n,!1,void 0,t)}const w3=new RegExp("[~\\*/\\[\\]]");function ov(n,e,t){if(e.search(w3)>=0)throw uf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new jf(...e.split("."))._internalPath}catch{throw uf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function uf(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new pe(ee.INVALID_ARGUMENT,u+n+h)}function QR(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new E3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(XR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class E3 extends JR{data(){return super.data()}}function XR(n,e){return typeof e=="string"?ov(n,e):e instanceof jf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class S3{convertValue(e,t="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ps(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Zd].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>gt(l.doubleValue));return new nv(o)}convertGeoPoint(e){return new tv(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Rf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(mc(e));default:return null}}convertTimestamp(e){const t=ys(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nt.fromString(e);Be(pR(r));const i=new gc(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(t)||Ei(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZR extends JR{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(XR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class xd extends ZR{data(e={}){return super.data(e)}}class I3{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new $u(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new xd(this._firestore,this._userDataWriter,r.key,r,new $u(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const h=new xd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new $u(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const h=new xd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new $u(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:A3(u.type),doc:h,oldIndex:f,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function A3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(n){n=wr(n,Tn);const e=wr(n.firestore,No);return u3(Z_(e),n._key).then(t=>P3(e,n,t))}class ek extends S3{constructor(e){super(),this.firestore=e}convertBytes(e){return new fl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,t)}}function p8(n){n=wr(n,Ff);const e=wr(n.firestore,No),t=Z_(e),r=new ek(e);return T3(n._query),c3(t,n._query).then(i=>new I3(e,r,n,i))}function m8(n,e,t){n=wr(n,Tn);const r=wr(n.firestore,No),i=YR(n.converter,e,t);return zf(r,[WR(iv(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Qn.none())])}function g8(n,e,t,...r){n=wr(n,Tn);const i=wr(n.firestore,No),o=iv(i);let l;return l=typeof(e=at(e))=="string"||e instanceof jf?v3(o,"updateDoc",n._key,e,t,r):_3(o,"updateDoc",n._key,e),zf(i,[l.toMutation(n._key,Qn.exists(!0))])}function y8(n){return zf(wr(n.firestore,No),[new L_(n._key,Qn.none())])}function _8(n,e){const t=wr(n.firestore,No),r=f3(n),i=YR(n.converter,e);return zf(t,[WR(iv(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Qn.exists(!1))]).then(()=>r)}function zf(n,e){return function(r,i){const o=new _i;return r.asyncQueue.enqueueAndForget(async()=>X$(await l3(r),i,o)),o.promise}(Z_(n),e)}function P3(n,e,t){const r=t.docs.get(e._key),i=new ek(n);return new ZR(n,i,e._key,r,new $u(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Tl=i})(xo),vr(new Yn("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new No(new wF(r.getProvider("auth-internal")),new SF(l,r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new pe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(f.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),En(aS,lS,e),En(aS,lS,"esm2017")})();function av(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function tk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C3=tk,nk=new bo("auth","Firebase",tk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=new Af("@firebase/auth");function R3(n,...e){cf.logLevel<=Oe.WARN&&cf.warn(`Auth (${xo}): ${n}`,...e)}function Od(n,...e){cf.logLevel<=Oe.ERROR&&cf.error(`Auth (${xo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(n,...e){throw lv(n,...e)}function zr(n,...e){return lv(n,...e)}function rk(n,e,t){const r=Object.assign(Object.assign({},C3()),{[e]:t});return new bo("auth","Firebase",r).create(e,{appName:n.name})}function ds(n){return rk(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return nk.create(n,...e)}function we(n,e,...t){if(!n)throw lv(e,...t)}function fi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Od(e),new Error(e)}function Si(n,e){n||fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function k3(){return nI()==="http:"||nI()==="https:"}function nI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k3()||pC()||"connection"in navigator)?navigator.onLine:!0}function x3(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Si(t>e,"Short delay should be less than long delay!"),this.isMobile=H4()||K4()}get(){return b3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(n,e){Si(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=new Nc(3e4,6e4);function Lo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Rs(n,e,t,r,i={}){return sk(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=kc(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:h},o);return W4()||(f.referrerPolicy="no-referrer"),ik.fetch()(ok(n,n.config.apiHost,t,u),f)})}async function sk(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},O3),e);try{const i=new L3(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw yd(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw yd(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw yd(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw yd(n,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw rk(n,m,f);Er(n,m)}}catch(i){if(i instanceof er)throw i;Er(n,"network-request-failed",{message:String(i)})}}async function Hf(n,e,t,r,i={}){const o=await Rs(n,e,t,r,i);return"mfaPendingCredential"in o&&Er(n,"multi-factor-auth-required",{_serverResponse:o}),o}function ok(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?uv(n.config,i):`${n.config.apiScheme}://${i}`}function N3(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class L3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(zr(this.auth,"network-request-failed")),D3.get())})}}function yd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=zr(n,e,r);return i.customData._tokenResponse=t,i}function rI(n){return n!==void 0&&n.enterprise!==void 0}class V3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return N3(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function M3(n,e){return Rs(n,"GET","/v2/recaptchaConfig",Lo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U3(n,e){return Rs(n,"POST","/v1/accounts:delete",e)}async function ak(n,e){return Rs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F3(n,e=!1){const t=at(n),r=await t.getIdToken(e),i=cv(r);we(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Zu(cg(i.auth_time)),issuedAtTime:Zu(cg(i.iat)),expirationTime:Zu(cg(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function cg(n){return Number(n)*1e3}function cv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Od("JWT malformed, contained fewer than 3 sections"),null;try{const i=lC(t);return i?JSON.parse(i):(Od("Failed to decode base64 JWT payload"),null)}catch(i){return Od("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function iI(n){const e=cv(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof er&&j3(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function j3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zu(this.lastLoginAt),this.creationTime=Zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(n){var e;const t=n.auth,r=await n.getIdToken(),i=await wc(n,ak(t,{idToken:r}));we(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?lk(o.providerUserInfo):[],u=z3(n.providerData,l),h=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),m=h?f:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Sy(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function B3(n){const e=at(n);await hf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z3(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function lk(n){return n.map(e=>{var{providerId:t}=e,r=av(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H3(n,e){const t=await sk(n,{},async()=>{const r=kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=ok(n,i,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",ik.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function q3(n,e){return Rs(n,"POST","/v2/accounts:revokeToken",Lo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=iI(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await H3(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new el;return r&&(we(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(we(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(we(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class pi{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=av(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Sy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await wc(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return F3(this,e)}reload(){return B3(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new pi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await hf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(ds(this.auth));const e=await this.getIdToken();return await wc(this,U3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,u,h,f,m;const y=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(i=t.email)!==null&&i!==void 0?i:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,A=(l=t.photoURL)!==null&&l!==void 0?l:void 0,b=(u=t.tenantId)!==null&&u!==void 0?u:void 0,C=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,D=(f=t.createdAt)!==null&&f!==void 0?f:void 0,H=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:F,emailVerified:G,isAnonymous:Q,providerData:ne,stsTokenManager:O}=t;we(F&&O,e,"internal-error");const P=el.fromJSON(this.name,O);we(typeof F=="string",e,"internal-error"),Ji(y,e.name),Ji(w,e.name),we(typeof G=="boolean",e,"internal-error"),we(typeof Q=="boolean",e,"internal-error"),Ji(T,e.name),Ji(A,e.name),Ji(b,e.name),Ji(C,e.name),Ji(D,e.name),Ji(H,e.name);const R=new pi({uid:F,auth:e,email:w,emailVerified:G,displayName:y,isAnonymous:Q,photoURL:A,phoneNumber:T,tenantId:b,stsTokenManager:P,createdAt:D,lastLoginAt:H});return ne&&Array.isArray(ne)&&(R.providerData=ne.map(N=>Object.assign({},N))),C&&(R._redirectEventId=C),R}static async _fromIdTokenResponse(e,t,r=!1){const i=new el;i.updateFromServerResponse(t);const o=new pi({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await hf(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];we(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?lk(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new el;u.updateFromIdToken(r);const h=new pi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Sy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new Map;function mi(n){Si(n instanceof Function,"Expected a class definition");let e=sI.get(n);return e?(Si(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,sI.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}uk.type="NONE";const oI=uk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(n,e,t){return`firebase:${n}:${e}:${t}`}class tl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Dd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Dd("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new tl(mi(oI),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||mi(oI);const l=Dd(r,e.config.apiKey,e.name);let u=null;for(const f of t)try{const m=await f._get(l);if(m){const y=pi._fromJSON(e,m);f!==o&&(u=y),o=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new tl(o,e,r):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new tl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ck(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mk(e))return"Blackberry";if(gk(e))return"Webos";if(hk(e))return"Safari";if((e.includes("chrome/")||dk(e))&&!e.includes("edge/"))return"Chrome";if(pk(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ck(n=nn()){return/firefox\//i.test(n)}function hk(n=nn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dk(n=nn()){return/crios\//i.test(n)}function fk(n=nn()){return/iemobile/i.test(n)}function pk(n=nn()){return/android/i.test(n)}function mk(n=nn()){return/blackberry/i.test(n)}function gk(n=nn()){return/webos/i.test(n)}function hv(n=nn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function W3(n=nn()){var e;return hv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function K3(){return G4()&&document.documentMode===10}function yk(n=nn()){return hv(n)||pk(n)||gk(n)||mk(n)||/windows phone/i.test(n)||fk(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(n,e=[]){let t;switch(n){case"Browser":t=aI(nn());break;case"Worker":t=`${aI(nn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${xo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,u)=>{try{const h=e(o);l(h)}catch(h){u(h)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q3(n,e={}){return Rs(n,"GET","/v2/passwordPolicy",Lo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=6;class X3{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:J3,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lI(this),this.idTokenSubscription=new lI(this),this.beforeStateQueue=new G3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mi(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await tl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ak(this,{idToken:e}),r=await pi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Kn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(i=h.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=x3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(ds(this));const t=e?at(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Q3(this),t=new X3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bo("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await q3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&mi(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await tl.create(this,[mi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_k(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&R3(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Pl(n){return at(n)}class lI{constructor(e){this.auth=e,this.observer=null,this.addObserver=tU(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Z3(n){qf=n}function vk(n){return qf.loadJS(n)}function eB(){return qf.recaptchaEnterpriseScript}function tB(){return qf.gapiScript}function nB(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class rB{constructor(){this.enterprise=new iB}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class iB{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const sB="recaptcha-enterprise",wk="NO_RECAPTCHA";class oB{constructor(e){this.type=sB,this.auth=Pl(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{M3(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new V3(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{u(h)})})}function i(o,l,u){const h=window.grecaptcha;rI(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(wk)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rB().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!t&&rI(window.grecaptcha))i(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=eB();h.length!==0&&(h+=u),vk(h).then(()=>{i(u,o,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function uI(n,e,t,r=!1,i=!1){const o=new oB(n);let l;if(i)l=wk;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function cI(n,e,t,r,i){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await uI(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await uI(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(n,e){const t=El(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(wo(o,e??{}))return i;Er(i,"already-initialized")}return t.initialize({options:e})}function lB(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(mi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function uB(n,e,t){const r=Pl(n);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=Ek(e),{host:l,port:u}=cB(e),h=u===null?"":`:${u}`,f={url:`${o}//${l}${h}/`},m=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(wo(f,r.config.emulator)&&wo(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,hB()}function Ek(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function cB(n){const e=Ek(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:hI(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:hI(l)}}}function hI(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function hB(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,t){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}async function dB(n,e){return Rs(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fB(n,e){return Hf(n,"POST","/v1/accounts:signInWithPassword",Lo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pB(n,e){return Hf(n,"POST","/v1/accounts:signInWithEmailLink",Lo(n,e))}async function mB(n,e){return Hf(n,"POST","/v1/accounts:signInWithEmailLink",Lo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends dv{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Ec(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ec(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cI(e,t,"signInWithPassword",fB);case"emailLink":return pB(e,{email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cI(e,r,"signUpPassword",dB);case"emailLink":return mB(e,{idToken:t,email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(n,e){return Hf(n,"POST","/v1/accounts:signInWithIdp",Lo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB="http://localhost";class So extends dv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new So(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=av(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new So(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return nl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,nl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,nl(e,t)}buildRequest(){const e={requestUri:gB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=kc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _B(n){const e=Vu(Mu(n)).link,t=e?Vu(Mu(e)).deep_link_id:null,r=Vu(Mu(n)).deep_link_id;return(r?Vu(Mu(r)).link:null)||r||t||e||n}class fv{constructor(e){var t,r,i,o,l,u;const h=Vu(Mu(e)),f=(t=h.apiKey)!==null&&t!==void 0?t:null,m=(r=h.oobCode)!==null&&r!==void 0?r:null,y=yB((i=h.mode)!==null&&i!==void 0?i:null);we(f&&m&&y,"argument-error"),this.apiKey=f,this.operation=y,this.code=m,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=_B(e);try{return new fv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(){this.providerId=Cl.PROVIDER_ID}static credential(e,t){return Ec._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=fv.parseLink(t);return we(r,"argument-error"),Ec._fromEmailAndCode(e,r.code,r.tenantId)}}Cl.PROVIDER_ID="password";Cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends Tk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Lc{constructor(){super("facebook.com")}static credential(e){return So._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return So._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return rs.credential(t,r)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Lc{constructor(){super("github.com")}static credential(e){return So._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Lc{constructor(){super("twitter.com")}static credential(e,t){return So._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ss.credential(t,r)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await pi._fromIdTokenResponse(e,r,i),l=dI(r);return new pl({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=dI(r);return new pl({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function dI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends er{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,df.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new df(e,t,r,i)}}function Sk(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?df._fromErrorAndOperation(n,o,e,r):o})}async function vB(n,e,t=!1){const r=await wc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return pl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wB(n,e,t=!1){const{auth:r}=n;if(Kn(r.app))return Promise.reject(ds(r));const i="reauthenticate";try{const o=await wc(n,Sk(r,i,e,n),t);we(o.idToken,r,"internal-error");const l=cv(o.idToken);we(l,r,"internal-error");const{sub:u}=l;return we(n.uid===u,r,"user-mismatch"),pl._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Er(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ik(n,e,t=!1){if(Kn(n.app))return Promise.reject(ds(n));const r="signIn",i=await Sk(n,r,e),o=await pl._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function EB(n,e){return Ik(Pl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TB(n){const e=Pl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function v8(n,e,t){return Kn(n.app)?Promise.reject(ds(n)):EB(at(n),Cl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&TB(n),r})}function SB(n,e,t,r){return at(n).onIdTokenChanged(e,t,r)}function IB(n,e,t){return at(n).beforeAuthStateChanged(e,t)}function w8(n,e,t,r){return at(n).onAuthStateChanged(e,t,r)}function E8(n){return at(n).signOut()}const ff="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ff,"1"),this.storage.removeItem(ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB=1e3,PB=10;class Pk extends Ak{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);K3()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,PB):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},AB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Pk.type="LOCAL";const CB=Pk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck extends Ak{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ck.type="SESSION";const Rk=Ck;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Wf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async f=>f(t.origin,o)),h=await RB(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const f=pv("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const w=y;if(w.data.eventId===f)switch(w.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(w.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return window}function bB(n){Hr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(){return typeof Hr().WorkerGlobalScope<"u"&&typeof Hr().importScripts=="function"}async function xB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OB(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function DB(){return kk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="firebaseLocalStorageDb",NB=1,pf="firebaseLocalStorage",xk="fbase_key";class Vc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Kf(n,e){return n.transaction([pf],e?"readwrite":"readonly").objectStore(pf)}function LB(){const n=indexedDB.deleteDatabase(bk);return new Vc(n).toPromise()}function Iy(){const n=indexedDB.open(bk,NB);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(pf,{keyPath:xk})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(pf)?e(r):(r.close(),await LB(),e(await Iy()))})})}async function fI(n,e,t){const r=Kf(n,!0).put({[xk]:e,value:t});return new Vc(r).toPromise()}async function VB(n,e){const t=Kf(n,!1).get(e),r=await new Vc(t).toPromise();return r===void 0?null:r.value}function pI(n,e){const t=Kf(n,!0).delete(e);return new Vc(t).toPromise()}const MB=800,UB=3;class Ok{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Iy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>UB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wf._getInstance(DB()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await xB(),!this.activeServiceWorker)return;this.sender=new kB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Iy();return await fI(e,ff,"1"),await pI(e,ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>fI(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>VB(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>pI(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Kf(i,!1).getAll();return new Vc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ok.type="LOCAL";const FB=Ok;new Nc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(n,e){return e?mi(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv extends dv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return nl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $B(n){return Ik(n.auth,new mv(n),n.bypassAuthState)}function BB(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),wB(t,new mv(n),n.bypassAuthState)}async function zB(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),vB(t,new mv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $B;case"linkViaPopup":case"linkViaRedirect":return zB;case"reauthViaPopup":case"reauthViaRedirect":return BB;default:Er(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB=new Nc(2e3,1e4);class Qa extends Dk{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const e=pv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HB.get())};e()}}Qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB="pendingRedirect",Nd=new Map;class WB extends Dk{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Nd.get(this.auth._key());if(!e){try{const r=await KB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Nd.set(this.auth._key(),e)}return this.bypassAuthState||Nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KB(n,e){const t=JB(e),r=QB(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function GB(n,e){Nd.set(n._key(),e)}function QB(n){return mi(n._redirectPersistence)}function JB(n){return Dd(qB,n.config.apiKey,n.name)}async function XB(n,e,t=!1){if(Kn(n.app))return Promise.reject(ds(n));const r=Pl(n),i=jB(r,e),l=await new WB(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=10*60*1e3;class ZB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!e9(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Nk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(zr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YB&&this.cachedEventUids.clear(),this.cachedEventUids.has(mI(e))}saveEventToCache(e){this.cachedEventUids.add(mI(e)),this.lastProcessedEventTime=Date.now()}}function mI(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Nk({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function e9(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nk(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t9(n,e={}){return Rs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r9=/^https?/;async function i9(n){if(n.config.emulator)return;const{authorizedDomains:e}=await t9(n);for(const t of e)try{if(s9(t))return}catch{}Er(n,"unauthorized-domain")}function s9(n){const e=Ty(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!r9.test(t))return!1;if(n9.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9=new Nc(3e4,6e4);function gI(){const n=Hr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function a9(n){return new Promise((e,t)=>{var r,i,o;function l(){gI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gI(),t(zr(n,"network-request-failed"))},timeout:o9.get()})}if(!((i=(r=Hr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Hr().gapi)===null||o===void 0)&&o.load)l();else{const u=nB("iframefcb");return Hr()[u]=()=>{gapi.load?l():t(zr(n,"network-request-failed"))},vk(`${tB()}?onload=${u}`).catch(h=>t(h))}}).catch(e=>{throw Ld=null,e})}let Ld=null;function l9(n){return Ld=Ld||a9(n),Ld}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9=new Nc(5e3,15e3),c9="__/auth/iframe",h9="emulator/auth/iframe",d9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p9(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?uv(e,h9):`https://${n.config.authDomain}/${c9}`,r={apiKey:e.apiKey,appName:n.name,v:xo},i=f9.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${kc(r).slice(1)}`}async function m9(n){const e=await l9(n),t=Hr().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:p9(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d9,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=zr(n,"network-request-failed"),u=Hr().setTimeout(()=>{o(l)},u9.get());function h(){Hr().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y9=500,_9=600,v9="_blank",w9="http://localhost";class yI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E9(n,e,t,r=y9,i=_9){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},g9),{width:r.toString(),height:i.toString(),top:o,left:l}),f=nn().toLowerCase();t&&(u=dk(f)?v9:t),ck(f)&&(e=e||w9,h.scrollbars="yes");const m=Object.entries(h).reduce((w,[T,A])=>`${w}${T}=${A},`,"");if(W3(f)&&u!=="_self")return T9(e||"",u),new yI(null);const y=window.open(e||"",u,m);we(y,n,"popup-blocked");try{y.focus()}catch{}return new yI(y)}function T9(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9="__/auth/handler",I9="emulator/auth/handler",A9=encodeURIComponent("fac");async function _I(n,e,t,r,i,o){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:xo,eventId:i};if(e instanceof Tk){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",eU(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof Lc){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await n._getAppCheckToken(),f=h?`#${A9}=${encodeURIComponent(h)}`:"";return`${P9(n)}?${kc(u).slice(1)}${f}`}function P9({config:n}){return n.emulator?uv(n,I9):`https://${n.authDomain}/${S9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="webStorageSupport";class C9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rk,this._completeRedirectFn=XB,this._overrideRedirectResult=GB}async _openPopup(e,t,r,i){var o;Si((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await _I(e,t,r,Ty(),i);return E9(e,l,pv())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await _I(e,t,r,Ty(),i);return bB(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Si(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await m9(e),r=new ZB(e);return t.register("authEvent",i=>(we(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hg,{type:hg},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[hg];l!==void 0&&t(!!l),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=i9(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yk()||hk()||hv()}}const R9=C9;var vI="@firebase/auth",wI="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x9(n){vr(new Yn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;we(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_k(n)},f=new Y3(r,i,o,h);return lB(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),vr(new Yn("auth-internal",e=>{const t=Pl(e.getProvider("auth").getImmediate());return(r=>new k9(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),En(vI,wI,b9(n)),En(vI,wI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=5*60,D9=dC("authIdTokenMaxAge")||O9;let EI=null;const N9=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>D9)return;const i=t==null?void 0:t.token;EI!==i&&(EI=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function T8(n=P_()){const e=El(n,"auth");if(e.isInitialized())return e.getImmediate();const t=aB(n,{popupRedirectResolver:R9,persistence:[FB,CB,Rk]}),r=dC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=N9(o.toString());IB(t,l,()=>l(t.currentUser)),SB(t,u=>l(u))}}const i=uC("auth");return i&&uB(t,`http://${i}`),t}function L9(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Z3({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=zr("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",L9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x9("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="firebasestorage.googleapis.com",Vk="storageBucket",V9=2*60*1e3,M9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt extends er{constructor(e,t,r=0){super(dg(e),`Firebase Storage: ${t} (${dg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ht;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ht||(ht={}));function dg(n){return"storage/"+n}function gv(){const n="An unknown error occurred, please check the error payload for server response.";return new dt(ht.UNKNOWN,n)}function U9(n){return new dt(ht.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function F9(n){return new dt(ht.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function j9(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dt(ht.UNAUTHENTICATED,n)}function $9(){return new dt(ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function B9(n){return new dt(ht.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function z9(){return new dt(ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function H9(){return new dt(ht.CANCELED,"User canceled the upload/download.")}function q9(n){return new dt(ht.INVALID_URL,"Invalid URL '"+n+"'.")}function W9(n){return new dt(ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function K9(){return new dt(ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Vk+"' property when initializing the app?")}function G9(){return new dt(ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Q9(){return new dt(ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function J9(n){return new dt(ht.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ay(n){return new dt(ht.INVALID_ARGUMENT,n)}function Mk(){return new dt(ht.APP_DELETED,"The Firebase app was deleted.")}function X9(n){return new dt(ht.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ec(n,e){return new dt(ht.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function xu(n){throw new dt(ht.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Dn.makeFromUrl(e,t)}catch{return new Dn(e,"")}if(r.path==="")return r;throw W9(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+i+l,"i"),h={bucket:1,path:3};function f(G){G.path_=decodeURIComponent(G.path)}const m="v[A-Za-z0-9_]+",y=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",T=new RegExp(`^https?://${y}/${m}/b/${i}/o${w}`,"i"),A={bucket:1,path:3},b=t===Lk?"(?:storage.googleapis.com|storage.cloud.google.com)":t,C="([^?#]*)",D=new RegExp(`^https?://${b}/${i}/${C}`,"i"),F=[{regex:u,indices:h,postModify:o},{regex:T,indices:A,postModify:f},{regex:D,indices:{bucket:1,path:2},postModify:f}];for(let G=0;G<F.length;G++){const Q=F[G],ne=Q.regex.exec(e);if(ne){const O=ne[Q.indices.bucket];let P=ne[Q.indices.path];P||(P=""),r=new Dn(O,P),Q.postModify(r);break}}if(r==null)throw q9(e);return r}}class Y9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(n,e,t){let r=1,i=null,o=null,l=!1,u=0;function h(){return u===2}let f=!1;function m(...C){f||(f=!0,e.apply(null,C))}function y(C){i=setTimeout(()=>{i=null,n(T,h())},C)}function w(){o&&clearTimeout(o)}function T(C,...D){if(f){w();return}if(C){w(),m.call(null,C,...D);return}if(h()||l){w(),m.call(null,C,...D);return}r<64&&(r*=2);let F;u===1?(u=2,F=0):F=(r+Math.random())*1e3,y(F)}let A=!1;function b(C){A||(A=!0,w(),!f&&(i!==null?(C||(u=2),clearTimeout(i),y(0)):C||(u=1)))}return y(0),o=setTimeout(()=>{l=!0,b(!0)},t),b}function e6(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(n){return n!==void 0}function n6(n){return typeof n=="object"&&!Array.isArray(n)}function yv(n){return typeof n=="string"||n instanceof String}function TI(n){return _v()&&n instanceof Blob}function _v(){return typeof Blob<"u"}function SI(n,e,t,r){if(r<e)throw Ay(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Ay(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function Uk(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var vo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(vo||(vo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,t,r,i,o,l,u,h,f,m,y,w=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=y,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,A)=>{this.resolve_=T,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new _d(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const h=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===vo.NO_ERROR,h=o.getStatus();if(!u||r6(h,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===vo.ABORT;r(!1,new _d(!1,null,m));return}const f=this.successCodes_.indexOf(h)!==-1;r(!0,new _d(f,o))})},t=(r,i)=>{const o=this.resolve_,l=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());t6(h)?o(h):o()}catch(h){l(h)}else if(u!==null){const h=gv();h.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,h)):l(h)}else if(i.canceled){const h=this.appDelete_?Mk():H9();l(h)}else{const h=z9();l(h)}};this.canceled_?t(!1,new _d(!1,null,!0)):this.backoffId_=Z9(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&e6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _d{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function s6(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function o6(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function a6(n,e){e&&(n["X-Firebase-GMPID"]=e)}function l6(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function u6(n,e,t,r,i,o,l=!0){const u=Uk(n.urlParams),h=n.url+u,f=Object.assign({},n.headers);return a6(f,e),s6(f,t),o6(f,o),l6(f,r),new i6(h,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function h6(...n){const e=c6();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(_v())return new Blob(n);throw new dt(ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function d6(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(n){if(typeof atob>"u")throw J9("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class fg{constructor(e,t){this.data=e,this.contentType=t||null}}function p6(n,e){switch(n){case Vr.RAW:return new fg(Fk(e));case Vr.BASE64:case Vr.BASE64URL:return new fg(jk(n,e));case Vr.DATA_URL:return new fg(g6(e),y6(e))}throw gv()}function Fk(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=n.charCodeAt(++t);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function m6(n){let e;try{e=decodeURIComponent(n)}catch{throw ec(Vr.DATA_URL,"Malformed data URL.")}return Fk(e)}function jk(n,e){switch(n){case Vr.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw ec(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Vr.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw ec(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=f6(e)}catch(i){throw i.message.includes("polyfill")?i:ec(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class $k{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw ec(Vr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=_6(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function g6(n){const e=new $k(n);return e.base64?jk(Vr.BASE64,e.rest):m6(e.rest)}function y6(n){return new $k(n).contentType}function _6(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,t){let r=0,i="";TI(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(TI(this.data_)){const r=this.data_,i=d6(r,e,t);return i===null?null:new os(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new os(r,!0)}}static getBlob(...e){if(_v()){const t=e.map(r=>r instanceof os?r.data_:r);return new os(h6.apply(null,t))}else{const t=e.map(l=>yv(l)?p6(Vr.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let o=0;return t.forEach(l=>{for(let u=0;u<l.length;u++)i[o++]=l[u]}),new os(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(n){let e;try{e=JSON.parse(n)}catch{return null}return n6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function w6(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function zk(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(n,e){return e}class ln{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||E6}}let vd=null;function T6(n){return!yv(n)||n.length<2?n:zk(n)}function Hk(){if(vd)return vd;const n=[];n.push(new ln("bucket")),n.push(new ln("generation")),n.push(new ln("metageneration")),n.push(new ln("name","fullPath",!0));function e(o,l){return T6(l)}const t=new ln("name");t.xform=e,n.push(t);function r(o,l){return l!==void 0?Number(l):l}const i=new ln("size");return i.xform=r,n.push(i),n.push(new ln("timeCreated")),n.push(new ln("updated")),n.push(new ln("md5Hash",null,!0)),n.push(new ln("cacheControl",null,!0)),n.push(new ln("contentDisposition",null,!0)),n.push(new ln("contentEncoding",null,!0)),n.push(new ln("contentLanguage",null,!0)),n.push(new ln("contentType",null,!0)),n.push(new ln("metadata","customMetadata",!0)),vd=n,vd}function S6(n,e){function t(){const r=n.bucket,i=n.fullPath,o=new Dn(r,i);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function I6(n,e,t){const r={};r.type="file";const i=t.length;for(let o=0;o<i;o++){const l=t[o];r[l.local]=l.xform(r,e[l.server])}return S6(r,n),r}function qk(n,e,t){const r=Bk(e);return r===null?null:I6(n,r,t)}function A6(n,e,t,r){const i=Bk(e);if(i===null||!yv(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(f=>{const m=n.bucket,y=n.fullPath,w="/b/"+l(m)+"/o/"+l(y),T=Gf(w,t,r),A=Uk({alt:"media",token:f});return T+A})[0]}function P6(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class vv{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(n){if(!n)throw gv()}function C6(n,e){function t(r,i){const o=qk(n,i,e);return Wk(o!==null),o}return t}function R6(n,e){function t(r,i){const o=qk(n,i,e);return Wk(o!==null),A6(o,i,n.host,n._protocol)}return t}function Kk(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=$9():i=j9():t.getStatus()===402?i=F9(n.bucket):t.getStatus()===403?i=B9(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Gk(n){const e=Kk(n);function t(r,i){let o=e(r,i);return r.getStatus()===404&&(o=U9(n.path)),o.serverResponse=i.serverResponse,o}return t}function k6(n,e,t){const r=e.fullServerUrl(),i=Gf(r,n.host,n._protocol),o="GET",l=n.maxOperationRetryTime,u=new vv(i,o,R6(n,t),l);return u.errorHandler=Gk(e),u}function b6(n,e){const t=e.fullServerUrl(),r=Gf(t,n.host,n._protocol),i="DELETE",o=n.maxOperationRetryTime;function l(h,f){}const u=new vv(r,i,l,o);return u.successCodes=[200,204],u.errorHandler=Gk(e),u}function x6(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function O6(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=x6(null,e)),r}function D6(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let F="";for(let G=0;G<2;G++)F=F+Math.random().toString().slice(2);return F}const h=u();l["Content-Type"]="multipart/related; boundary="+h;const f=O6(e,r,i),m=P6(f,t),y="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,w=`\r
--`+h+"--",T=os.getBlob(y,r,w);if(T===null)throw G9();const A={name:f.fullPath},b=Gf(o,n.host,n._protocol),C="POST",D=n.maxUploadRetryTime,H=new vv(b,C,C6(n,t),D);return H.urlParams=A,H.headers=l,H.body=T.uploadData(),H.errorHandler=Kk(e),H}class N6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw xu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class L6 extends N6{initXhr(){this.xhr_.responseType="text"}}function wv(){return new L6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,t){this._service=e,t instanceof Dn?this._location=t:this._location=Dn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Io(e,t)}get root(){const e=new Dn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zk(this._location.path)}get storage(){return this._service}get parent(){const e=v6(this._location.path);if(e===null)return null;const t=new Dn(this._location.bucket,e);return new Io(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw X9(e)}}function V6(n,e,t){n._throwIfRoot("uploadBytes");const r=D6(n.storage,n._location,Hk(),new os(e,!0),t);return n.storage.makeRequestWithTokens(r,wv).then(i=>({metadata:i,ref:n}))}function M6(n){n._throwIfRoot("getDownloadURL");const e=k6(n.storage,n._location,Hk());return n.storage.makeRequestWithTokens(e,wv).then(t=>{if(t===null)throw Q9();return t})}function U6(n){n._throwIfRoot("deleteObject");const e=b6(n.storage,n._location);return n.storage.makeRequestWithTokens(e,wv)}function F6(n,e){const t=w6(n._location.path,e),r=new Dn(n._location.bucket,t);return new Io(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(n){return/^[A-Za-z]+:\/\//.test(n)}function $6(n,e){return new Io(n,e)}function Qk(n,e){if(n instanceof Ev){const t=n;if(t._bucket==null)throw K9();const r=new Io(t,t._bucket);return e!=null?Qk(r,e):r}else return e!==void 0?F6(n,e):n}function B6(n,e){if(e&&j6(e)){if(n instanceof Ev)return $6(n,e);throw Ay("To use ref(service, url), the first argument must be a Storage instance.")}else return Qk(n,e)}function II(n,e){const t=e==null?void 0:e[Vk];return t==null?null:Dn.makeFromBucketSpec(t,n)}function z6(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:fC(i,n.app.options.projectId))}class Ev{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Lk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=V9,this._maxUploadRetryTime=M9,this._requests=new Set,i!=null?this._bucket=Dn.makeFromBucketSpec(i,this._host):this._bucket=II(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dn.makeFromBucketSpec(this._url,e):this._bucket=II(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Io(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new Y9(Mk());{const l=u6(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const AI="@firebase/storage",PI="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="storage";function S8(n,e,t){return n=at(n),V6(n,e,t)}function I8(n){return n=at(n),M6(n)}function A8(n){return n=at(n),U6(n)}function P8(n,e){return n=at(n),B6(n,e)}function C8(n=P_(),e){n=at(n);const r=El(n,Jk).getImmediate({identifier:e}),i=cC("storage");return i&&H6(r,...i),r}function H6(n,e,t,r={}){z6(n,e,t,r)}function q6(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Ev(t,r,i,e,xo)}function W6(){vr(new Yn(Jk,q6,"PUBLIC").setMultipleInstances(!0)),En(AI,PI,""),En(AI,PI,"esm2017")}W6();const Xk="@firebase/installations",Tv="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=1e4,Zk=`w:${Tv}`,e1="FIS_v2",K6="https://firebaseinstallations.googleapis.com/v1",G6=60*60*1e3,Q6="installations",J6="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ao=new bo(Q6,J6,X6);function t1(n){return n instanceof er&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1({projectId:n}){return`${K6}/projects/${n}/installations`}function r1(n){return{token:n.token,requestStatus:2,expiresIn:Z6(n.expiresIn),creationTime:Date.now()}}async function i1(n,e){const r=(await e.json()).error;return Ao.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function s1({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Y6(n,{refreshToken:e}){const t=s1(n);return t.append("Authorization",e5(e)),t}async function o1(n){const e=await n();return e.status>=500&&e.status<600?n():e}function Z6(n){return Number(n.replace("s","000"))}function e5(n){return`${e1} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t5({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=n1(n),i=s1(n),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const l={fid:t,authVersion:e1,appId:n.appId,sdkVersion:Zk},u={method:"POST",headers:i,body:JSON.stringify(l)},h=await o1(()=>fetch(r,u));if(h.ok){const f=await h.json();return{fid:f.fid||t,registrationStatus:2,refreshToken:f.refreshToken,authToken:r1(f.authToken)}}else throw await i1("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=/^[cdef][\w-]{21}$/,Py="";function i5(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=s5(n);return r5.test(t)?t:Py}catch{return Py}}function s5(n){return n5(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=new Map;function u1(n,e){const t=Qf(n);c1(t,e),o5(t,e)}function c1(n,e){const t=l1.get(n);if(t)for(const r of t)r(e)}function o5(n,e){const t=a5();t&&t.postMessage({key:n,fid:e}),l5()}let go=null;function a5(){return!go&&"BroadcastChannel"in self&&(go=new BroadcastChannel("[Firebase] FID Change"),go.onmessage=n=>{c1(n.data.key,n.data.fid)}),go}function l5(){l1.size===0&&go&&(go.close(),go=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5="firebase-installations-database",c5=1,Po="firebase-installations-store";let pg=null;function Sv(){return pg||(pg=vC(u5,c5,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Po)}}})),pg}async function mf(n,e){const t=Qf(n),i=(await Sv()).transaction(Po,"readwrite"),o=i.objectStore(Po),l=await o.get(t);return await o.put(e,t),await i.done,(!l||l.fid!==e.fid)&&u1(n,e.fid),e}async function h1(n){const e=Qf(n),r=(await Sv()).transaction(Po,"readwrite");await r.objectStore(Po).delete(e),await r.done}async function Jf(n,e){const t=Qf(n),i=(await Sv()).transaction(Po,"readwrite"),o=i.objectStore(Po),l=await o.get(t),u=e(l);return u===void 0?await o.delete(t):await o.put(u,t),await i.done,u&&(!l||l.fid!==u.fid)&&u1(n,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iv(n){let e;const t=await Jf(n.appConfig,r=>{const i=h5(r),o=d5(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===Py?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function h5(n){const e=n||{fid:i5(),registrationStatus:0};return d1(e)}function d5(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ao.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=f5(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:p5(n)}:{installationEntry:e}}async function f5(n,e){try{const t=await t5(n,e);return mf(n.appConfig,t)}catch(t){throw t1(t)&&t.customData.serverCode===409?await h1(n.appConfig):await mf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function p5(n){let e=await CI(n.appConfig);for(;e.registrationStatus===1;)await a1(100),e=await CI(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Iv(n);return r||t}return e}function CI(n){return Jf(n,e=>{if(!e)throw Ao.create("installation-not-found");return d1(e)})}function d1(n){return m5(n)?{fid:n.fid,registrationStatus:0}:n}function m5(n){return n.registrationStatus===1&&n.registrationTime+Yk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g5({appConfig:n,heartbeatServiceProvider:e},t){const r=y5(n,t),i=Y6(n,t),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const l={installation:{sdkVersion:Zk,appId:n.appId}},u={method:"POST",headers:i,body:JSON.stringify(l)},h=await o1(()=>fetch(r,u));if(h.ok){const f=await h.json();return r1(f)}else throw await i1("Generate Auth Token",h)}function y5(n,{fid:e}){return`${n1(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Av(n,e=!1){let t;const r=await Jf(n.appConfig,o=>{if(!f1(o))throw Ao.create("not-registered");const l=o.authToken;if(!e&&w5(l))return o;if(l.requestStatus===1)return t=_5(n,e),o;{if(!navigator.onLine)throw Ao.create("app-offline");const u=T5(o);return t=v5(n,u),u}});return t?await t:r.authToken}async function _5(n,e){let t=await RI(n.appConfig);for(;t.authToken.requestStatus===1;)await a1(100),t=await RI(n.appConfig);const r=t.authToken;return r.requestStatus===0?Av(n,e):r}function RI(n){return Jf(n,e=>{if(!f1(e))throw Ao.create("not-registered");const t=e.authToken;return S5(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function v5(n,e){try{const t=await g5(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await mf(n.appConfig,r),t}catch(t){if(t1(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await h1(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await mf(n.appConfig,r)}throw t}}function f1(n){return n!==void 0&&n.registrationStatus===2}function w5(n){return n.requestStatus===2&&!E5(n)}function E5(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+G6}function T5(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function S5(n){return n.requestStatus===1&&n.requestTime+Yk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I5(n){const e=n,{installationEntry:t,registrationPromise:r}=await Iv(e);return r?r.catch(console.error):Av(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A5(n,e=!1){const t=n;return await P5(t),(await Av(t,e)).token}async function P5(n){const{registrationPromise:e}=await Iv(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(n){if(!n||!n.options)throw mg("App Configuration");if(!n.name)throw mg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw mg(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function mg(n){return Ao.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="installations",R5="installations-internal",k5=n=>{const e=n.getProvider("app").getImmediate(),t=C5(e),r=El(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},b5=n=>{const e=n.getProvider("app").getImmediate(),t=El(e,p1).getImmediate();return{getId:()=>I5(t),getToken:i=>A5(t,i)}};function x5(){vr(new Yn(p1,k5,"PUBLIC")),vr(new Yn(R5,b5,"PRIVATE"))}x5();En(Xk,Tv);En(Xk,Tv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="analytics",O5="firebase_id",D5="origin",N5=60*1e3,L5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn=new Af("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Jn=new bo("analytics","Analytics",V5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(n){if(!n.startsWith(Pv)){const e=Jn.create("invalid-gtag-resource",{gtagURL:n});return Sn.warn(e.message),""}return n}function m1(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function U5(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function F5(n,e){const t=U5("firebase-js-sdk-policy",{createScriptURL:M5}),r=document.createElement("script"),i=`${Pv}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function j5(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function $5(n,e,t,r,i,o){const l=r[i];try{if(l)await e[l];else{const h=(await m1(t)).find(f=>f.measurementId===i);h&&await e[h.appId]}}catch(u){Sn.error(u)}n("config",i,o)}async function B5(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const u=await m1(t);for(const h of l){const f=u.find(y=>y.measurementId===h),m=f&&e[f.appId];if(m)o.push(m);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),n("event",r,i||{})}catch(o){Sn.error(o)}}function z5(n,e,t,r){async function i(o,...l){try{if(o==="event"){const[u,h]=l;await B5(n,e,t,u,h)}else if(o==="config"){const[u,h]=l;await $5(n,e,t,r,u,h)}else if(o==="consent"){const[u,h]=l;n("consent",u,h)}else if(o==="get"){const[u,h,f]=l;n("get",u,h,f)}else if(o==="set"){const[u]=l;n("set",u)}else n(o,...l)}catch(u){Sn.error(u)}}return i}function H5(n,e,t,r,i){let o=function(...l){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=z5(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}function q5(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Pv)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5=30,K5=1e3;class G5{constructor(e={},t=K5){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const g1=new G5;function Q5(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function J5(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:Q5(r)},o=L5.replace("{app-id}",t),l=await fetch(o,i);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();!((e=h.error)===null||e===void 0)&&e.message&&(u=h.error.message)}catch{}throw Jn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function X5(n,e=g1,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw Jn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Jn.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new ez;return setTimeout(async()=>{u.abort()},N5),y1({appId:r,apiKey:i,measurementId:o},l,u,e)}async function y1(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=g1){var o;const{appId:l,measurementId:u}=n;try{await Y5(r,e)}catch(h){if(u)return Sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:u};throw h}try{const h=await J5(n);return i.deleteThrottleMetadata(l),h}catch(h){const f=h;if(!Z5(f)){if(i.deleteThrottleMetadata(l),u)return Sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:u};throw h}const m=Number((o=f==null?void 0:f.customData)===null||o===void 0?void 0:o.httpStatus)===503?X0(t,i.intervalMillis,W5):X0(t,i.intervalMillis),y={throttleEndTimeMillis:Date.now()+m,backoffCount:t+1};return i.setThrottleMetadata(l,y),Sn.debug(`Calling attemptFetch again in ${m} millis`),y1(n,y,r,i)}}function Y5(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Z5(n){if(!(n instanceof er)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class ez{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function tz(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const o=await e,l=Object.assign(Object.assign({},r),{send_to:o});n("event",t,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nz(){if(mC())try{await gC()}catch(n){return Sn.warn(Jn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Sn.warn(Jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function rz(n,e,t,r,i,o,l){var u;const h=X5(n);h.then(T=>{t[T.measurementId]=T.appId,n.options.measurementId&&T.measurementId!==n.options.measurementId&&Sn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>Sn.error(T)),e.push(h);const f=nz().then(T=>{if(T)return r.getId()}),[m,y]=await Promise.all([h,f]);q5(o)||F5(o,m.measurementId),i("js",new Date);const w=(u=l==null?void 0:l.config)!==null&&u!==void 0?u:{};return w[D5]="firebase",w.update=!0,y!=null&&(w[O5]=y),i("config",m.measurementId,w),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e){this.app=e}_delete(){return delete tc[this.app.options.appId],Promise.resolve()}}let tc={},bI=[];const xI={};let gg="dataLayer",sz="gtag",OI,_1,DI=!1;function oz(){const n=[];if(pC()&&n.push("This is a browser extension environment."),J4()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Jn.create("invalid-analytics-context",{errorInfo:e});Sn.warn(t.message)}}function az(n,e,t){oz();const r=n.options.appId;if(!r)throw Jn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Jn.create("no-api-key");if(tc[r]!=null)throw Jn.create("already-exists",{id:r});if(!DI){j5(gg);const{wrappedGtag:o,gtagCore:l}=H5(tc,bI,xI,gg,sz);_1=o,OI=l,DI=!0}return tc[r]=rz(n,bI,xI,e,OI,gg,t),new iz(n)}function lz(n,e,t,r){n=at(n),tz(_1,tc[n.app.options.appId],e,t,r).catch(i=>Sn.error(i))}const NI="@firebase/analytics",LI="0.10.12";function uz(){vr(new Yn(kI,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return az(r,i,t)},"PUBLIC")),vr(new Yn("analytics-internal",n,"PRIVATE")),En(NI,LI),En(NI,LI,"esm2017");function n(e){try{const t=e.getProvider(kI).getImmediate();return{logEvent:(r,i,o)=>lz(t,r,i,o)}}catch(t){throw Jn.create("interop-component-reg-failed",{reason:t})}}}uz();var cz={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function hz(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return cz[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function VI(n){var e=hz(n);return"".concat(e.value).concat(e.unit)}var dz=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,l=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(l,0),r},gf=function(){return gf=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},gf.apply(this,arguments)},fz=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},pz=dz("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function R8(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,l=o===void 0?1:o,u=n.cssOverride,h=u===void 0?{}:u,f=n.size,m=f===void 0?35:f,y=fz(n,["loading","color","speedMultiplier","cssOverride","size"]),w=gf({background:"transparent !important",width:VI(m),height:VI(m),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(pz," ").concat(.75/l,"s 0s infinite linear"),animationFillMode:"both"},h);return t?V.createElement("span",gf({style:w},y)):null}class Mc{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const mz=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},Ht={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:mz()},Cv=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},gz=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=Cv(n);Ht.publicKey=t.publicKey,Ht.blockHeadless=t.blockHeadless,Ht.storageProvider=t.storageProvider,Ht.blockList=t.blockList,Ht.limitRate=t.limitRate,Ht.origin=t.origin||e},v1=async(n,e,t={})=>{const r=await fetch(Ht.origin+n,{method:"POST",headers:t,body:e}),i=await r.text(),o=new Mc(r.status,i);if(r.ok)return o;throw o},w1=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},yz=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},E1=n=>n.webdriver||!n.languages||n.languages.length===0,T1=()=>new Mc(451,"Unavailable For Headless Browser"),_z=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},vz=n=>{var e;return!((e=n.list)!=null&&e.length)||!n.watchVariable},wz=(n,e)=>n instanceof FormData?n.get(e):n[e],S1=(n,e)=>{if(vz(n))return!1;_z(n.list,n.watchVariable);const t=wz(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},I1=()=>new Mc(403,"Forbidden"),Ez=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},Tz=async(n,e,t)=>{const r=Number(await t.get(n)||0);return e-Date.now()+r},A1=async(n,e,t)=>{if(!e.throttle||!t)return!1;Ez(e.throttle,e.id);const r=e.id||n;return await Tz(r,e.throttle,t)>0?!0:(await t.set(r,Date.now().toString()),!1)},P1=()=>new Mc(429,"Too Many Requests"),Sz=async(n,e,t,r)=>{const i=Cv(r),o=i.publicKey||Ht.publicKey,l=i.blockHeadless||Ht.blockHeadless,u=i.storageProvider||Ht.storageProvider,h={...Ht.blockList,...i.blockList},f={...Ht.limitRate,...i.limitRate};return l&&E1(navigator)?Promise.reject(T1()):(w1(o,n,e),yz(t),t&&S1(h,t)?Promise.reject(I1()):await A1(location.pathname,f,u)?Promise.reject(P1()):v1("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:o,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},Iz=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},Az=n=>typeof n=="string"?document.querySelector(n):n,Pz=async(n,e,t,r)=>{const i=Cv(r),o=i.publicKey||Ht.publicKey,l=i.blockHeadless||Ht.blockHeadless,u=Ht.storageProvider||i.storageProvider,h={...Ht.blockList,...i.blockList},f={...Ht.limitRate,...i.limitRate};if(l&&E1(navigator))return Promise.reject(T1());const m=Az(t);w1(o,n,e),Iz(m);const y=new FormData(m);return S1(h,y)?Promise.reject(I1()):await A1(location.pathname,f,u)?Promise.reject(P1()):(y.append("lib_version","4.4.1"),y.append("service_id",n),y.append("template_id",e),y.append("user_id",o),v1("/api/v1.0/email/send-form",y))},k8={init:gz,send:Sz,sendForm:Pz,EmailJSResponseStatus:Mc};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),C1=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=V.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...u},h)=>V.createElement("svg",{ref:h,...Rz,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:C1("lucide",i),...u},[...l.map(([f,m])=>V.createElement(f,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=(n,e)=>{const t=V.forwardRef(({className:r,...i},o)=>V.createElement(kz,{ref:o,iconNode:e,className:C1(`lucide-${Cz(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],b8=Rl("ChevronDown",bz);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],x8=Rl("ChevronUp",xz);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],O8=Rl("CircleCheckBig",Oz);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],D8=Rl("CircleX",Dz);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],N8=Rl("SquarePen",Nz);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],L8=Rl("Trash2",Lz);var yg,MI;function Vz(){return MI||(MI=1,yg=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}),yg}var Mz=Vz();const Uz=Ts(Mz),Fz=Object.freeze(Object.defineProperty({__proto__:null,default:Uz},Symbol.toStringTag,{value:"Module"}));export{a8 as A,y8 as B,aA as C,g8 as D,P8 as E,t8 as F,A8 as G,Kz as H,S8 as I,I8 as J,x8 as K,YI as L,b8 as M,L8 as N,Hz as O,O8 as P,D8 as Q,o8 as R,N8 as S,lA as T,zz as U,VO as V,Wz as W,qz as X,Ox as Y,$z as Z,Qe as _,Ss as a,i8 as b,e8 as c,n8 as d,r8 as e,s8 as f,d8 as g,T8 as h,sF as i,gi as j,C8 as k,f3 as l,u8 as m,f8 as n,h8 as o,p8 as p,Bz as q,V as r,m8 as s,_8 as t,WI as u,R8 as v,k8 as w,w8 as x,v8 as y,E8 as z};
