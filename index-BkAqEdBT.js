import{c as Ke,r as o,j as e,R as Ue,u as Z,L as J,F as Ze,a as Xe,b as et,d as tt,e as st,f as fe,O as Ie,i as rt,g as me,h as ot,k as nt,H as at,l as re,m as je,s as $e,n as K,o as X,T as _e,C as qe,p as we,q as ge,t as pe,A as it,v as Ge,w as lt,x as Se,y as Me,z as ye,B as Oe,D as Pe,E as Re,G as dt,I as ct,J as ze,K as U,M as ut,N as Fe,P as We,S as mt,Q as xt,U as xe,V as he,W as ht,X as gt,Y as bt,Z as pt,_ as ft}from"./vendor-3kSHdxVV.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))n(b);new MutationObserver(b=>{for(const N of b)if(N.type==="childList")for(const f of N.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&n(f)}).observe(document,{childList:!0,subtree:!0});function l(b){const N={};return b.integrity&&(N.integrity=b.integrity),b.referrerPolicy&&(N.referrerPolicy=b.referrerPolicy),b.crossOrigin==="use-credentials"?N.credentials="include":b.crossOrigin==="anonymous"?N.credentials="omit":N.credentials="same-origin",N}function n(b){if(b.ep)return;b.ep=!0;const N=l(b);fetch(b.href,N)}})();const jt={BASE_URL:"/AussieGutPack",DEV:!1,MODE:"github",PROD:!0,SSR:!1,VITE_BASE_PATH:"/AussieGutPack/",VITE_FIREBASE_API_KEY:"AIzaSyBOM041d620q5TBYfl7E6SexEqR8NGrWQE",VITE_FIREBASE_APP_ID:"1:834797498886:web:cb2f88ab4523480400c987",VITE_FIREBASE_AUTH_DOMAIN:"aussie-gut-pack.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"834797498886",VITE_FIREBASE_PROJECT_ID:"aussie-gut-pack",VITE_FIREBASE_STORAGE_BUCKET:"aussie-gut-pack.firebasestorage.app",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9rbWNleGNrZndvdXJwdXl4Ym1sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc3NTk4NDcsImV4cCI6MjA2MzMzNTg0N30.zytGP9OKFOegCAyrs_SCvl9Sk88i29TzTIo8P7-7Ky4",VITE_SUPABASE_URL:"https://okmcexckfwourpuyxbml.supabase.co"},wt="https://okmcexckfwourpuyxbml.supabase.co",vt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9rbWNleGNrZndvdXJwdXl4Ym1sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc3NTk4NDcsImV4cCI6MjA2MzMzNTg0N30.zytGP9OKFOegCAyrs_SCvl9Sk88i29TzTIo8P7-7Ky4";console.log("Supabase URL from import.meta.env:","https://okmcexckfwourpuyxbml.supabase.co");console.log("Supabase Anon Key from import.meta.env:","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9rbWNleGNrZndvdXJwdXl4Ym1sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc3NTk4NDcsImV4cCI6MjA2MzMzNTg0N30.zytGP9OKFOegCAyrs_SCvl9Sk88i29TzTIo8P7-7Ky4");console.log("All env:",jt);const te=Ke(wt,vt);console.log("AuthContext.jsx: Loading AuthContext");const le=o.createContext(),Nt=({children:s})=>{const[t,l]=o.useState(null),[n,b]=o.useState(!0);o.useEffect(()=>{console.log("AuthContext.jsx: Setting up auth state listener"),(async()=>{const{data:{session:a}}=await te.auth.getSession();l((a==null?void 0:a.user)??null),b(!1),console.log("AuthContext.jsx: User state updated:",(a==null?void 0:a.user)??null)})();const{data:{subscription:$}}=te.auth.onAuthStateChange((a,m)=>{console.log("AuthContext.jsx: Auth state change event:",a),console.log("AuthContext.jsx: Session:",m),l((m==null?void 0:m.user)??null),b(!1),console.log("AuthContext.jsx: User state updated:",(m==null?void 0:m.user)??null),a==="SIGNED_OUT"&&console.log("AuthContext.jsx: Signed out, potentially redirecting")});return()=>{$==null||$.unsubscribe()}},[]);const w={user:t,loading:n,signup:async(y,$)=>{console.log("Signup attempt with:",{email:y,password:$});const{data:a,error:m}=await te.auth.signUp({email:y,password:$,options:{emailRedirectTo:"http://localhost:5173/login"}});if(console.log("Signup response:",JSON.stringify(a,null,2)),m)throw console.error("Signup error:",m.message),m;if(a.user&&a.user.identities&&a.user.identities.length===0){console.log("User already exists. Attempting to resend confirmation email...");const C=await te.auth.resend({type:"signup",email:y});throw console.log("Resend response:",JSON.stringify(C,null,2)),C.error?(console.error("Error resending confirmation email:",C.error.message),C.error):new Error("User already exists. A confirmation email has been resent.")}return a},login:async(y,$)=>{console.log("Login attempt with:",{email:y,password:$});const{data:a,error:m}=await te.auth.signInWithPassword({email:y,password:$});if(m)throw console.error("Login error:",m.message),m.message.includes("Email not confirmed")?new Error("Please confirm your email before logging in."):m;return l(a.user),a},logout:async()=>{const{error:y}=await te.auth.signOut();if(y)throw console.error("Logout error:",y.message),y;l(null),console.log("AuthContext.jsx: Logout function called")},refreshUser:async()=>{const{data:{user:y}}=await te.auth.getUser();l(y)}};return e.jsx(le.Provider,{value:w,children:s})},yt=Ue.memo(({location:s})=>{var W;const[t,l]=o.useState(!1),{isDarkMode:n,toggleTheme:b}=o.useContext(_),{user:N,logout:f,loading:u}=o.useContext(le),p=Z(),w=o.useRef(null),y=o.useRef(null);console.log("Rendering Navigation component. isMenuOpen:",t);const $=async()=>{try{await f(),p("/login")}catch(D){console.error("Logout error:",D.message)}},a=()=>{var D;t?(l(!1),(D=w.current)==null||D.focus()):(l(!0),setTimeout(()=>{var M;return(M=y.current)==null?void 0:M.focus()},100))};o.useEffect(()=>{const D=M=>{var S;M.key==="Escape"&&t&&(l(!1),(S=w.current)==null||S.focus())};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[t]);const m=D=>s.pathname===D,C=((W=N==null?void 0:N.user_metadata)==null?void 0:W.displayName)||"User";return e.jsxs(e.Fragment,{children:[e.jsx("a",{href:"#main-content",className:"fixed top-0 left-0 p-2 bg-red-600 text-white focus:top-4 focus:left-4 z-50 transition-all duration-200",children:"Skip to Content"}),e.jsxs("nav",{className:`sticky top-0 z-50 shadow-md ${n?"bg-stone-900 text-red-400":"bg-white text-red-800"} transition-colors duration-300`,"aria-label":"Main navigation",children:[e.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center relative z-50",children:[e.jsx(J,{to:"/",className:"text-2xl font-bold tracking-tight",children:"Primal Biome"}),e.jsxs("div",{className:"hidden lg:flex space-x-6 items-center",children:[e.jsx(J,{to:"/",className:`nav-link hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 rounded transition-colors duration-200 ${m("/")?"text-red-600 font-semibold":""}`,children:"Home"}),e.jsx(J,{to:"/products",className:`nav-link hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 rounded transition-colors duration-200 ${m("/products")?"text-red-600 font-semibold":""}`,children:"Products"}),e.jsx(J,{to:"/blog",className:`nav-link hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 rounded transition-colors duration-200 ${m("/blog")?"text-red-600 font-semibold":""}`,children:"Blog"}),e.jsx(J,{to:"/contact",className:`nav-link hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 rounded transition-colors duration-200 ${m("/contact")?"text-red-600 font-semibold":""}`,children:"Contact"}),u?e.jsx("span",{children:"Loading..."}):N?e.jsxs(e.Fragment,{children:[e.jsxs(J,{to:"/profile",className:`nav-link text-sm hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 rounded transition-colors duration-200 ${m("/profile")?"text-red-600 font-semibold":""}`,children:["Welcome, ",C]}),e.jsx("button",{onClick:$,className:"p-2 rounded-lg bg-red-600 text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200",children:"Logout"})]}):e.jsx(J,{to:"/login",className:"p-2 rounded-lg bg-red-600 text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200",children:"Login"}),e.jsx("button",{onClick:b,className:"p-2 rounded-full hover:bg-stone-200 dark:hover:bg-stone-700 focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200","aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?"☀️":"🌙"})]}),e.jsx("button",{ref:w,onClick:a,"aria-expanded":t,"aria-label":t?"Close menu":"Open menu",className:"lg:hidden p-2 rounded-lg hover:bg-stone-200 dark:hover:bg-stone-700 focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200 text-xl z-60",children:e.jsx("i",{className:t?"fas fa-times":"fas fa-bars"})})]}),t&&e.jsx("div",{className:"mobile-menu-backdrop active lg:hidden",onClick:a,tabIndex:0,onKeyDown:D=>{(D.key==="Enter"||D.key===" ")&&a()},"aria-label":"Close mobile menu"}),e.jsxs("div",{className:`lg:hidden px-4 py-4 ${t?"mobile-menu-open":"mobile-menu-closed"} ${n?"bg-stone-800 border-t border-stone-700":"bg-red-50 border-t border-red-200"} shadow-md`,children:[e.jsx(J,{ref:y,to:"/",onClick:a,className:`nav-link block py-2 px-3 rounded-lg hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200 ${m("/")?"text-red-600 font-semibold":""} ${n?"text-red-400":"text-red-800"}`,children:"Home"}),e.jsx(J,{to:"/products",onClick:a,className:`nav-link block py-2 px-3 rounded-lg hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200 ${m("/products")?"text-red-600 font-semibold":""} ${n?"text-red-400":"text-red-800"}`,children:"Products"}),e.jsx(J,{to:"/blog",onClick:a,className:`nav-link block py-2 px-3 rounded-lg hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200 ${m("/blog")?"text-red-600 font-semibold":""} ${n?"text-red-400":"text-red-800"}`,children:"Blog"}),e.jsx(J,{to:"/faq",onClick:a,className:`nav-link block py-2 px-3 rounded-lg hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200 ${m("/faq")?"text-red-600 font-semibold":""} ${n?"text-red-400":"text-red-800"}`,children:"FAQ"}),e.jsx(J,{to:"/contact",onClick:a,className:`nav-link block py-2 px-3 rounded-lg hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200 ${m("/contact")?"text-red-600 font-semibold":""} ${n?"text-red-400":"text-red-800"}`,children:"Contact"}),e.jsx(J,{to:"/nutrition",onClick:a,className:`nav-link block py-2 px-3 rounded-lg hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200 ${m("/nutrition")?"text-red-600 font-semibold":""} ${n?"text-red-400":"text-red-800"}`,children:"Nutrition"}),N&&e.jsx(J,{to:"/profile",onClick:a,className:`nav-link block py-2 px-3 rounded-lg hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200 ${m("/profile")?"text-red-600 font-semibold":""} ${n?"text-red-400":"text-red-800"}`,children:"Profile"}),e.jsx("button",{onClick:()=>{b(),a()},className:`nav-link block py-2 px-3 rounded-lg hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200 ${n?"text-red-400":"text-red-800"}`,"aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?"☀️ Light Mode":"🌙 Dark Mode"}),u?e.jsx("span",{className:"block py-2 px-3",children:"Loading..."}):N?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:`block py-2 px-3 text-sm ${n?"text-red-400":"text-red-800"}`,children:["Welcome, ",C]}),e.jsx("button",{onClick:()=>{$(),a()},className:"block py-2 px-3 text-left w-full text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-600 rounded-lg transition-colors duration-200",children:"Logout"})]}):e.jsx(J,{to:"/login",onClick:a,className:"block py-2 px-3 text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-600 rounded-lg transition-colors duration-200",children:"Login"})]})]})]})});function $t(){const{isDarkMode:s}=o.useContext(_);return e.jsxs("footer",{className:`p-6 text-center ${s?"bg-stone-800 text-white":"bg-red-800 text-white"}`,children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-red-400 transition-colors duration-200","aria-label":"Facebook",children:e.jsx(Ze,{size:24})}),e.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-red-400 transition-colors duration-200","aria-label":"Twitter",children:e.jsx(Xe,{size:24})}),e.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-red-400 transition-colors duration-200","aria-label":"Instagram",children:e.jsx(et,{size:24})}),e.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-red-400 transition-colors duration-200","aria-label":"LinkedIn",children:e.jsx(tt,{size:24})}),e.jsx("a",{href:"https://youtube.com",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-red-400 transition-colors duration-200","aria-label":"YouTube",children:e.jsx(st,{size:24})})]})}),e.jsxs("p",{children:["© ",new Date().getFullYear()," Aussie Gut Pack. All rights reserved."]})]})}console.log("Layout.jsx: Loading Layout component");const He=()=>{const{isDarkMode:s}=o.useContext(_),{user:t,logout:l}=o.useContext(le),n=fe();return console.log("Layout.jsx: Rendering Layout. Pathname:",n.pathname,"User:",t?"Authenticated":"Not Authenticated"),e.jsx("div",{className:`${s?"dark":""}`,children:e.jsxs("div",{className:"min-h-screen flex flex-col bg-stone-100 dark:bg-stone-900 text-stone-900 dark:text-stone-100",children:[e.jsx(yt,{location:n}),e.jsx("main",{className:"flex-1 pt-20 sm:pt-24 md:pt-28",children:e.jsx(Ie,{})}),e.jsx($t,{})]})})};function ie({to:s,children:t,variant:l,className:n,...b}){const N="px-4 py-2 rounded transition-colors duration-300 ease-in-out",f=l==="primary"?"bg-red-800 text-white hover:bg-red-900":"bg-stone-200 text-red-600 hover:bg-stone-300";return s?e.jsx(J,{to:s,className:`${N} ${f} ${n}`,...b,children:t}):e.jsx("button",{className:`${N} ${f} ${n}`,...b,children:t})}const kt={apiKey:"AIzaSyAjVDbvzmbogD_lbGqB4MmVf3aTnTQzEh8",authDomain:"aussie-gut-pack-a896e.firebaseapp.com",projectId:"aussie-gut-pack-a896e",storageBucket:"aussie-gut-pack-a896e.firebasestorage.app",messagingSenderId:"817190270687",appId:"1:817190270687:web:357c740b79d6e243e3db6a",measurementId:"G-NEV6BN8ZKT"},Te=rt(kt),V=me(Te),ue=ot(Te),Ee=nt(Te);function St(){const{isDarkMode:s}=o.useContext(_),t=o.useRef(null),l=o.useRef(null),n=fe(),[b,N]=o.useState(!0),[f,u]=o.useState(null),[p,w]=o.useState(!1),[y,$]=o.useState(!1),[a,m]=o.useState({quotes:[],currentWorkout:{description:"",warmup:[],main:[]},scheduledWorkouts:[],aboutUs:"",dailyChallenges:[],lastUpdated:null}),[C,W]=o.useState(0),[D,M]=o.useState(null),[S,T]=o.useState(null),[A,k]=o.useState(()=>JSON.parse(localStorage.getItem("completedChallenges"))||[]);o.useEffect(()=>{(async()=>{var c,g,R;N(!0),u(null);try{const I=re(V,"content","home");console.log("Fetching content/home...");const Q=await je(I);console.log("Document exists:",Q.exists());let G={quotes:["An athlete won't judge you for working out.","A millionaire won't judge you for starting a business.","A musician won't judge you for trying to sing a song.","It's always the people going nowhere that have something to say.","Idle hands do the devil's work"],currentWorkout:{description:"A quick 20-minute routine to kickstart your metabolism and improve digestion.",warmup:["5-minute brisk walk or jog","3 sets of 15 squats"],main:["3 sets of 10 push-ups","2 sets of 20 jumping jacks","1-minute plank hold"]},scheduledWorkouts:[],aboutUs:"Here at Primal Biome, we believe life should feel less like a chore and more like an adventure. We're dedicated to empowering your digestive health naturally through tips, workouts, and challenges.",dailyChallenges:["Drink 8 glasses of water.","Take a 10-minute digestion-boosting walk with your Aussie.","Try a gut-friendly snack like yogurt or pumpkin.","Eat a fiber-rich meal.","Practice 5 minutes of deep breathing."],lastUpdated:null};if(Q.exists()){const j=Q.data();console.log("Firestore data:",j),G={...G,...j,quotes:Array.isArray(j.quotes)?j.quotes:G.quotes,currentWorkout:{description:((c=j.currentWorkout)==null?void 0:c.description)||G.currentWorkout.description,warmup:Array.isArray((g=j.currentWorkout)==null?void 0:g.warmup)?j.currentWorkout.warmup:G.currentWorkout.warmup,main:Array.isArray((R=j.currentWorkout)==null?void 0:R.main)?j.currentWorkout.main:G.currentWorkout.main},scheduledWorkouts:Array.isArray(j.scheduledWorkouts)?j.scheduledWorkouts:[],aboutUs:j.aboutUs||G.aboutUs,dailyChallenges:Array.isArray(j.dailyChallenges)?j.dailyChallenges:G.dailyChallenges,lastUpdated:j.lastUpdated||G.lastUpdated}}else console.warn("No document found at content/home, initializing..."),await $e(I,G);const ae=new Date,ee=[...G.scheduledWorkouts];let de=!1;if(ee.sort((j,F)=>new Date(j.updateDateTime)-new Date(F.updateDateTime)),ee.length>0){const j=ee[0],F=new Date(j.updateDateTime);ae>=F&&(!G.lastUpdated||new Date(G.lastUpdated)<F)&&(G.currentWorkout={description:j.description||"",warmup:j.warmup||[],main:j.main||[]},ee.shift(),G.scheduledWorkouts=ee,G.lastUpdated=ae.toISOString(),de=!0)}de&&(await $e(I,G,{merge:!0}),console.log("Updated Firestore document with new workout")),console.log("Setting content:",G),m(G);try{const j=K(V,"content","blog","posts"),F=await X(j);if(F.empty){console.log("No blog posts found"),M({id:"1",title:"The Importance of Gut Health",date:"2025-01-15",blocks:[{type:"paragraph",content:"Gut health is crucial for overall well-being..."}],excerpt:"Gut health is crucial for overall well-being..."});return}const z=F.docs.map(Y=>({id:Y.id,title:Y.data().title||"Untitled Post",date:Y.data().date||new Date().toISOString(),blocks:Y.data().blocks||[]}));if(z.length>0){z.sort((i,x)=>new Date(x.date)-new Date(i.date));const Y=z[0],ce=L(Y);M({...Y,excerpt:ce});const P=new Date("2025-04-16T00:00:00Z"),v=z.filter(i=>new Date(i.date)>P).sort((i,x)=>new Date(i.date)-new Date(x.date));if(v.length>0){const i=v[0],x=L(i);T({...i,excerpt:x})}}}catch(j){console.error("Error fetching blog posts:",j),M({id:"1",title:"The Importance of Gut Health",date:"2025-01-15",blocks:[{type:"paragraph",content:"Gut health is crucial for overall well-being..."}],excerpt:"Gut health is crucial for overall well-being..."})}}catch(I){console.error("Error in fetchAndUpdateContent:",I),u("Failed to load content. Please try again later.")}finally{N(!1),console.log("isLoading set to false")}})()},[]);const L=r=>{if(!r||!r.blocks||r.blocks.length===0)return"Read more...";const c=r.blocks.find(g=>g.type==="paragraph"||g.type==="list"||g.type==="bullet");return c?c.type==="paragraph"&&c.content?c.content.split(" ").slice(0,30).join(" ")+"...":Array.isArray(c.content)&&c.content.length>0?c.content[0]+(c.content.length>1?"...":""):"Read more...":"Read more..."};o.useEffect(()=>{const r=new IntersectionObserver(g=>{g.forEach(R=>{const I=R.isIntersecting;console.log(`IntersectionObserver: ${R.target===t.current?"headerRef":"roofRef"} isIntersecting: ${I}`),R.target===t.current&&w(I),R.target===l.current&&$(I)})},{threshold:.1});t.current&&r.observe(t.current),l.current&&r.observe(l.current);const c=setTimeout(()=>{y||(console.log("IntersectionObserver timeout: Forcing isRoofVisible to true"),$(!0)),p||(console.log("IntersectionObserver timeout: Forcing isHeaderVisible to true"),w(!0))},2e3);return()=>{t.current&&r.unobserve(t.current),l.current&&r.unobserve(l.current),clearTimeout(c)}},[p,y]),o.useEffect(()=>{const r=setInterval(()=>{W(c=>(c+1)%(a.quotes.length||1))},4e3);return()=>clearInterval(r)},[a.quotes.length]),o.useEffect(()=>{localStorage.setItem("completedChallenges",JSON.stringify(A))},[A]),a.dailyChallenges.length>0&&A.length===a.dailyChallenges.length&&a.dailyChallenges.every((r,c)=>A.includes(c));const d="https://aussiegutpack.github.io/AussieGutPack",h=`${d}${n.pathname==="/"?"":n.pathname}`;return e.jsxs(e.Fragment,{children:[e.jsxs(at,{children:[e.jsx("title",{children:"Primal Biome - Empowering Digestive Health Naturally"}),e.jsx("meta",{name:"description",content:"Join Primal Biome to improve your gut health and overall wellness with natural tips, workouts, and challenges inspired by Australian Shepherds."}),e.jsx("meta",{name:"keywords",content:"gut health, digestive health, Australian Shepherd, wellness, fitness, daily challenges, Primal Biome"}),e.jsx("meta",{name:"robots",content:"index, follow"}),e.jsx("meta",{property:"og:title",content:"Primal Biome - Empowering Digestive Health Naturally"}),e.jsx("meta",{property:"og:description",content:"Join Primal Biome to improve your gut health and overall wellness with natural tips, workouts, and challenges inspired by Australian Shepherds."}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:url",content:h}),e.jsx("meta",{property:"og:image",content:`${d}/images/og-image.jpg`}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:"Primal Biome - Empowering Digestive Health Naturally"}),e.jsx("meta",{name:"twitter:description",content:"Join Primal Biome to improve your gut health and overall wellness with natural tips, workouts, and challenges inspired by Australian Shepherds."}),e.jsx("meta",{name:"twitter:image",content:`${d}/images/og-image.jpg`}),D&&e.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"BlogPosting",headline:D.title,datePublished:D.date,description:D.excerpt,author:{"@type":"Organization",name:"Primal Biome"},publisher:{"@type":"Organization",name:"Primal Biome",logo:{"@type":"ImageObject",url:`${d}/images/creatine.png`}},mainEntityOfPage:{"@type":"WebPage","@id":`${d}/blog/${D.id}`}})})]}),e.jsx("main",{id:"main-content",className:`min-h-screen flex flex-col ${s?"bg-stone-900":"bg-white"}`,style:{minHeight:"100vh"},children:b?e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsx("p",{className:`text-xl ${s?"text-white":"text-red-600"}`,children:"Loading content..."})}):f?e.jsx("div",{className:"text-center text-red-600 p-4",children:f}):e.jsxs(e.Fragment,{children:[console.log("Rendering sections, content:",a),e.jsx("section",{ref:t,className:`py-2 px-6 ${s?"bg-stone-900":"bg-white"}`,style:{minHeight:"150px"},children:e.jsx("div",{className:"container mx-auto text-center",children:e.jsxs("header",{children:[e.jsx("h1",{className:`text-4xl font-bold mb-8 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Welcome to Primal Biome"}),e.jsx("p",{className:`text-2xl max-w-2xl mx-auto mb-8 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Empowering Digestive Health Naturally"})]})})}),e.jsx("section",{className:`pt-4 pb-8 px-6 w-full ${s?"bg-stone-800 rounded-lg shadow-lg":"bg-gray-100 rounded-lg shadow-lg"}`,children:e.jsxs("div",{className:"container mx-auto text-left p-6",children:[e.jsx("h3",{className:`text-3xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"About Us"}),e.jsx("p",{className:`text-lg ${s?"text-white":"text-stone-700"}`,children:a.aboutUs})]})}),e.jsxs("div",{className:"flex flex-wrap -mx-6 mt-8",children:[e.jsx("section",{className:`workout-section py-8 px-6 w-full md:w-1/2 ${s?"bg-stone-800 rounded-lg shadow-lg":"bg-gray-100 rounded-lg shadow-lg"}`,"aria-labelledby":"workout-heading",children:e.jsxs("div",{className:"container mx-auto text-left p-6",children:[e.jsx("h3",{id:"workout-heading",className:`text-4xl font-bold mb-8 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Workout of the Day"}),e.jsx("p",{className:`${s?"text-white":"text-stone-700"}`,children:a.currentWorkout.description}),a.currentWorkout.sections&&a.currentWorkout.sections.length>0?a.currentWorkout.sections.map((r,c)=>e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:`mb-2 ${s?"text-red-400":"text-red-800"}`,children:r.title}),r.exercises&&r.exercises.length>0?e.jsx("ul",{className:`list-disc list-inside ${s?"text-white":"text-stone-700"}`,children:r.exercises.map((g,R)=>e.jsx("li",{children:g},R))}):e.jsx("p",{className:`${s?"text-white":"text-stone-700"}`,children:"No exercises listed for this section."})]},c)):e.jsx("p",{className:`${s?"text-white":"text-stone-700"} mt-4`,children:"No workout sections defined."})]})}),e.jsx("section",{className:`py-8 px-6 w-full md:w-1/2 ${s?"bg-stone-800 rounded-lg shadow-lg":"bg-gray-100 rounded-lg shadow-lg"}`,children:e.jsxs("div",{className:"container mx-auto text-left p-6",children:[e.jsx("h3",{className:`text-3xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Daily Challenges"}),e.jsx("ul",{className:`list-disc list-inside ${s?"text-white":"text-stone-700"}`,children:a.dailyChallenges.map((r,c)=>e.jsx("li",{children:r},c))})]})})]})]})})]})}const Je=o.createContext(),Ct=({children:s})=>{const[t,l]=o.useState([]),n=p=>{l(w=>w.find($=>$.id===p.id)?w.map($=>$.id===p.id?{...$,quantity:$.quantity+1}:$):[...w,{...p,quantity:1}])},b=(p,w)=>{w<=0?N(p):l(y=>y.map($=>$.id===p?{...$,quantity:w}:$))},N=p=>{l(w=>w.filter(y=>y.id!==p))},f=()=>{l([])},u=()=>t.reduce((p,w)=>p+w.price*w.quantity,0);return e.jsx(Je.Provider,{value:{cart:t,addToCart:n,updateQuantity:b,removeFromCart:N,clearCart:f,getTotalPrice:u},children:s})},Ce=()=>o.useContext(Je);function Dt(){var de;const{isDarkMode:s}=o.useContext(_),{cart:t,addToCart:l,updateQuantity:n,removeFromCart:b,getTotalPrice:N}=Ce(),[f,u]=o.useState([]),[p,w]=o.useState([]),[y,$]=o.useState(!1),[a,m]=o.useState(""),[C,W]=o.useState(""),[D,M]=o.useState(""),[S,T]=o.useState(!1),[A,k]=o.useState(!0),[L,d]=o.useState(!1),[h,r]=o.useState(!1),c=o.useRef(null),g=o.useRef(null),R=Z();o.useEffect(()=>{console.log("isMiniCartOpen updated to:",S)},[S]),o.useEffect(()=>{console.log("showAll updated to:",y)},[y]),o.useEffect(()=>{const j=F=>{const z=document.querySelector(".cart-button"),Y=F.target.closest(".add-to-cart-button"),ce=Date.now(),P=g.current?ce-g.current:1/0;console.log("Outside click handler triggered, target:",F.target),console.log("Is target an Add to Cart button?",!!Y),console.log("Time since last Add to Cart click:",P),console.log("IsMiniCartOpen?",S),console.log("OpenedByAdd?",L),S&&!F.target.closest(".mini-cart-sidebar")&&!(z!=null&&z.contains(F.target))&&!Y&&P>100&&!L&&(console.log("Outside click detected, closing sidebar"),T(!1))};return document.addEventListener("click",j),()=>document.removeEventListener("click",j)},[S,L]),o.useEffect(()=>{(async()=>{try{k(!0);const z=(await X(K(V,"categories"))).docs.map(P=>({id:P.id,...P.data()}));u(z);const ce=(await X(K(V,"products"))).docs.map(P=>({id:P.id,...P.data()}));w(ce)}catch(F){console.error("Error fetching data from Firestore:",F)}finally{k(!1)}})()},[]),o.useEffect(()=>(t.length>0&&(c.current&&clearTimeout(c.current),console.log("Cart updated, opening sidebar, cart length:",t.length),d(!0),T(!0),t.length!==1&&(c.current=setTimeout(()=>{console.log("Auto-closing sidebar after 3 seconds"),T(!1),d(!1)},3e3))),()=>{c.current&&clearTimeout(c.current)}),[t]),o.useEffect(()=>{t.length===0&&S&&(console.log("Cart is empty, closing sidebar"),T(!1),d(!1))},[t,S]);const I=j=>{g.current=Date.now(),l(j)},Q=j=>{const F=[...j];switch(a){case"price-asc":return F.sort((z,Y)=>z.price-Y.price);case"price-desc":return F.sort((z,Y)=>Y.price-z.price);case"name-asc":return F.sort((z,Y)=>z.name.localeCompare(Y.name));case"name-desc":return F.sort((z,Y)=>Y.name.localeCompare(z.name));default:return F}},G=p.filter(j=>D?j.name.toLowerCase().includes(D.toLowerCase())||j.description.toLowerCase().includes(D.toLowerCase()):!0),ae=C?G.filter(j=>j.categoryId===C):G,ee=Q(ae);return e.jsxs("div",{className:`min-h-screen container mx-auto px-4 py-8 md:px-6 md:py-12 ${s?"bg-stone-900":"bg-stone-50"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:`text-3xl md:text-4xl font-bold transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Gut Pack"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{className:"cart-button relative flex items-center gap-2 px-3 py-2 rounded-md font-semibold transition-all duration-300 ease-in-out bg-red-800 text-white hover:bg-red-900 active:bg-red-950 md:px-4",onClick:j=>{j.stopPropagation(),console.log("Cart button clicked, isMiniCartOpen:",S),T(!S)},children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 md:h-6 md:w-6 transition-transform duration-300 ease-in-out group-hover:scale-110",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("span",{className:"hidden md:inline",children:"Cart"}),Array.isArray(t)&&t.length>0&&e.jsx("span",{className:`absolute -top-2 -right-2 bg-yellow-500 text-black rounded-full h-5 w-5 md:h-6 md:w-6 flex items-center justify-center text-xs md:text-sm transition-all duration-300 ease-in-out ${t.length>0?"animate-bounce":""}`,children:t.reduce((j,F)=>j+F.quantity,0)})]}),e.jsx("button",{onClick:()=>r(!h),className:"md:hidden text-white focus:outline-none",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})})]})]}),e.jsxs("div",{className:`${h?"block":"hidden"} md:block mb-6 transition-all duration-300 ease-in-out`,children:[e.jsx("h2",{className:`text-2xl md:text-3xl font-bold mb-4 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Products"}),e.jsx("div",{className:"mb-6",children:e.jsx("input",{type:"text",placeholder:"Search products by name or description...",value:D,onChange:j=>M(j.target.value),className:`w-full px-4 py-2 border rounded-md focus:outline-none transition-all duration-300 ease-in-out ${s?"bg-stone-700 border-stone-600 text-white placeholder-stone-400 focus:ring-red-500 focus:border-red-500":"bg-white border-red-300 text-red-600 placeholder-stone-400 focus:ring-red-500 focus:border-red-500"}`})}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 w-full",children:[e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("label",{className:`text-base md:text-lg font-medium transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Filter by Section:"}),e.jsxs("select",{value:C,onChange:j=>W(j.target.value),className:`w-full sm:w-auto px-4 py-2 border rounded-md focus:outline-none transition-all duration-300 ease-in-out ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500 focus:border-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500 focus:border-red-500"}`,children:[e.jsx("option",{value:"",children:"All Sections"}),f.map(j=>e.jsx("option",{value:j.id,children:j.name},j.id))]})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("label",{className:`text-base md:text-lg font-medium transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Sort By:"}),e.jsxs("select",{value:a,onChange:j=>m(j.target.value),className:`w-full sm:w-auto px-4 py-2 border rounded-md focus:outline-none transition-all duration-300 ease-in-out ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500 focus:border-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500 focus:border-red-500"}`,children:[e.jsx("option",{value:"",children:"None"}),e.jsx("option",{value:"price-asc",children:"Price: Low to High"}),e.jsx("option",{value:"price-desc",children:"Price: High to Low"}),e.jsx("option",{value:"name-asc",children:"Name: A-Z"}),e.jsx("option",{value:"name-desc",children:"Name: Z-A"})]})]})]}),e.jsx("button",{onClick:()=>{console.log("Show All button clicked, current showAll:",y),$(j=>{const F=!j;return console.log("Setting showAll to:",F),F&&(console.log("Resetting filterCategory to show all products"),W("")),F})},className:`w-full sm:w-auto px-4 py-2 rounded-md font-semibold transition-all duration-300 ease-in-out ${s?"bg-red-600 text-white hover:bg-red-700 active:bg-red-800":"bg-red-800 text-white hover:bg-red-900 active:bg-red-950"}`,children:y?"Group by Category":"Show All Products"})]})]}),A?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-red-600"})}):C?e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:`text-xl md:text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:((de=f.find(j=>j.id===C))==null?void 0:de.name)||"Section"}),ee.length===0?e.jsx("p",{className:`text-base md:text-lg transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:"No products found in this section."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:ee.map(j=>e.jsxs("div",{className:`p-3 md:p-4 border rounded-md shadow-md transition-all duration-300 ease-in-out hover:shadow-lg ${s?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[e.jsx("img",{src:j.image,alt:j.name,className:"w-full h-40 md:h-48 object-cover rounded-md mb-3 md:mb-4 transition-transform duration-300 ease-in-out hover:scale-105",onError:F=>{F.target.src="/UW_placeholder.jpg",console.error(`Failed to load image for ${j.name}`)}}),e.jsx("h3",{className:`text-base md:text-lg font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:j.name}),e.jsx("p",{className:`text-xs md:text-sm mb-2 transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:j.description}),e.jsxs("p",{className:`text-xs md:text-sm mb-3 md:mb-4 transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:["Price: $",j.price.toFixed(2)]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:F=>{F.stopPropagation(),g.current=Date.now(),I(j)},className:"add-to-cart-button bg-red-800 text-white px-3 py-1 md:px-4 md:py-2 rounded-md font-semibold hover:bg-red-900 active:bg-red-950 transition-all duration-300 ease-in-out flex-1 text-sm md:text-base",children:"Add to Cart"}),e.jsx("button",{onClick:()=>R(`/shop/product/${j.id}`),className:`bg-gray-600 text-white px-3 py-1 md:px-4 md:py-2 rounded-md font-semibold hover:bg-gray-700 active:bg-gray-800 transition-all duration-300 ease-in-out flex-1 text-sm md:text-base ${s?"bg-gray-500":"bg-gray-600"}`,children:"View Details"})]})]},j.id))})]}):y?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:ee.map(j=>e.jsxs("div",{className:`p-3 md:p-4 border rounded-md shadow-md transition-all duration-300 ease-in-out hover:shadow-lg ${s?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[e.jsx("img",{src:j.image,alt:j.name,className:"w-full h-40 md:h-48 object-cover rounded-md mb-3 md:mb-4 transition-transform duration-300 ease-in-out hover:scale-105",onError:F=>{F.target.src="/UW_placeholder.jpg",console.error(`Failed to load image for ${j.name}`)}}),e.jsx("h3",{className:`text-base md:text-lg font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:j.name}),e.jsx("p",{className:`text-xs md:text-sm mb-2 transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:j.description}),e.jsxs("p",{className:`text-xs md:text-sm mb-3 md:mb-4 transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:["Price: $",j.price.toFixed(2)]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:F=>{F.stopPropagation(),g.current=Date.now(),I(j)},className:"add-to-cart-button bg-red-800 text-white px-3 py-1 md:px-4 md:py-2 rounded-md font-semibold hover:bg-red-900 active:bg-red-950 transition-all duration-300 ease-in-out flex-1 text-sm md:text-base",children:"Add to Cart"}),e.jsx("button",{onClick:()=>R(`/shop/product/${j.id}`),className:`bg-gray-600 text-white px-3 py-1 md:px-4 md:py-2 rounded-md font-semibold hover:bg-gray-700 active:bg-gray-800 transition-all duration-300 ease-in-out flex-1 text-sm md:text-base ${s?"bg-gray-500":"bg-gray-600"}`,children:"View Details"})]})]},j.id))}):f.map(j=>e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:`text-xl md:text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:j.name}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:Q(p.filter(F=>F.categoryId===j.id)).map(F=>e.jsxs("div",{className:`p-3 md:p-4 border rounded-md shadow-md transition-all duration-300 ease-in-out hover:shadow-lg ${s?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[e.jsx("img",{src:F.image,alt:F.name,className:"w-full h-40 md:h-48 object-cover rounded-md mb-3 md:mb-4 transition-transform duration-300 ease-in-out hover:scale-105",onError:z=>{z.target.src="/UW_placeholder.jpg",console.error(`Failed to load image for ${F.name}`)}}),e.jsx("h3",{className:`text-base md:text-lg font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:F.name}),e.jsx("p",{className:`text-xs md:text-sm mb-2 transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:F.description}),e.jsxs("p",{className:`text-xs md:text-sm mb-3 md:mb-4 transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:["Price: $",F.price.toFixed(2)]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:z=>{z.stopPropagation(),g.current=Date.now(),I(F)},className:"add-to-cart-button bg-red-800 text-white px-3 py-1 md:px-4 md:py-2 rounded-md font-semibold hover:bg-red-900 active:bg-red-950 transition-all duration-300 ease-in-out flex-1 text-sm md:text-base",children:"Add to Cart"}),e.jsx("button",{onClick:()=>R(`/shop/product/${F.id}`),className:`bg-gray-600 text-white px-3 py-1 md:px-4 md:py-2 rounded-md font-semibold hover:bg-gray-700 active:bg-gray-800 transition-all duration-300 ease-in-out flex-1 text-sm md:text-base ${s?"bg-gray-500":"bg-gray-600"}`,children:"View Details"})]})]},F.id))})]},j.id)),S&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mini-cart-backdrop fixed inset-0 bg-black bg-opacity-50 z-40 active",onClick:j=>{j.stopPropagation(),console.log("Backdrop clicked, closing sidebar"),T(!1)}}),e.jsx("div",{className:`mini-cart-sidebar w-64 md:w-80 p-4 md:p-6 border-l shadow-lg h-screen fixed right-0 top-0 z-50 overflow-y-auto transition-transform duration-300 ease-in-out transform ${S?"translate-x-0":"translate-x-full"} ${s?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:e.jsxs("div",{className:`mini-cart-content ${S?"active":""}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:`text-lg md:text-xl font-semibold transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Your Cart"}),e.jsx("button",{onClick:j=>{j.stopPropagation(),console.log("Close button clicked, closing sidebar"),T(!1)},className:`text-base md:text-lg transition-colors duration-300 ease-in-out ${s?"text-stone-300 hover:text-red-400":"text-stone-600 hover:text-red-600"}`,children:"✕"})]}),!Array.isArray(t)||t.length===0?e.jsx("p",{className:`text-xs md:text-sm transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:"Your cart is empty."}):e.jsxs("div",{className:"space-y-4",children:[e.jsx(_e,{component:null,children:t.map(j=>e.jsx(qe,{timeout:300,classNames:"cart-item",children:e.jsxs("div",{className:`flex items-center gap-4 p-3 border rounded-md transition-all duration-300 ease-in-out ${s?"border-stone-600":"border-red-300"}`,children:[e.jsx("img",{src:j.image,alt:j.name,className:"w-12 h-12 md:w-16 md:h-16 object-cover rounded-md",onError:F=>{F.target.src="/UW_placeholder.jpg"}}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`text-xs md:text-sm font-medium transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:j.name}),e.jsxs("p",{className:`text-xs transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:["$",j.price.toFixed(2)," x ",j.quantity]}),e.jsx("div",{className:"flex items-center gap-2 mt-2",children:e.jsxs("div",{className:"flex items-center border-2 border-red-300 rounded-full px-2 py-1",children:[j.quantity===1?e.jsx("button",{onClick:F=>{F.stopPropagation(),b(j.id)},className:"text-red-600 hover:text-red-800 active:text-red-900 transition-all duration-300 ease-in-out",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 md:h-5 md:w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5-4h4M9 7h6m-5 4v6m4-6v6"})})}):e.jsx("button",{onClick:F=>{F.stopPropagation(),n(j.id,j.quantity-1)},className:"text-black px-1 md:px-2 py-1 rounded-full hover:bg-gray-200 active:bg-gray-300 transition-all duration-300 ease-in-out",children:"-"}),e.jsx("span",{className:`text-xs md:text-sm mx-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:j.quantity}),e.jsx("button",{onClick:F=>{F.stopPropagation(),n(j.id,j.quantity+1)},className:"text-black px-1 md:px-2 py-1 rounded-full hover:bg-gray-200 active:bg-gray-300 transition-all duration-300 ease-in-out",children:"+"})]})})]}),e.jsx("button",{onClick:F=>{F.stopPropagation(),b(j.id)},className:"text-red-600 hover:text-red-800 active:text-red-900 transition-all duration-300 ease-in-out",children:"✕"})]})},j.id))}),e.jsxs("div",{className:"border-t pt-4 mt-4",children:[e.jsxs("p",{className:`text-base md:text-lg font-semibold transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:["Subtotal: $",N().toFixed(2)]}),e.jsx("button",{onClick:j=>{j.stopPropagation(),T(!1),R("/cart")},className:"w-full bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 active:bg-red-950 transition-all duration-300 ease-in-out mt-4 text-sm md:text-base",children:"Go to Cart"}),e.jsx("button",{onClick:j=>{j.stopPropagation(),T(!1),R("/cart")},className:"w-full bg-red-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-700 active:bg-red-800 transition-all duration-300 ease-in-out mt-2 text-sm md:text-base",children:"Proceed to Checkout"})]})]})]})})]})]})}function Pt(){const{id:s}=we(),{isDarkMode:t}=o.useContext(_),{addToCart:l}=Ce(),[n,b]=o.useState(null),[N,f]=o.useState(!0),[u,p]=o.useState([]),[w,y]=o.useState(0),[$,a]=o.useState(0),[m,C]=o.useState(""),[W,D]=o.useState(null),M=Z();o.useEffect(()=>{const k=ue.onAuthStateChanged(L=>{D(L)});return()=>k()},[]),o.useEffect(()=>{(async()=>{try{f(!0);const L=re(V,"products",s),d=await je(L);d.exists()?b({id:d.id,...d.data()}):(console.error("Product not found"),M("/products"));const h=K(V,"products",s,"reviews"),c=(await X(h)).docs.map(g=>({id:g.id,...g.data()}));if(p(c),c.length>0){const g=c.reduce((R,I)=>R+I.rating,0);y(g/c.length)}else y(0)}catch(L){console.error("Error fetching product or reviews:",L),M("/products")}finally{f(!1)}})()},[s,M]);const S=k=>{a(k)},T=k=>{a(k)},A=async k=>{if(k.preventDefault(),!W){alert("Please sign in to submit a review.");return}if($<1||$>5){alert("Please select a rating between 1 and 5 stars.");return}if(!m.trim()){alert("Please enter a review comment.");return}try{const L={rating:$,comment:m,userId:W.uid,userEmail:W.email,timestamp:new Date().toISOString()},d=K(V,"products",s,"reviews");await ge(d,L),p([...u,L]);const h=[...u,L].reduce((r,c)=>r+c.rating,0);y(h/(u.length+1)),a(0),C("")}catch(L){console.error("Error submitting review:",L),alert("Failed to submit review. Please try again.")}};return N?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-red-600"})}):n?e.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[e.jsx("button",{onClick:()=>M("/products"),className:`mb-6 text-sm font-semibold transition-colors duration-300 ease-in-out ${t?"text-red-400 hover:text-red-500":"text-red-600 hover:text-red-800"}`,children:"← Back to Products"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("div",{className:"md:w-1/2",children:e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-96 object-cover rounded-md",onError:k=>{k.target.src="https://via.placeholder.com/300x200.png?text=No+Image",console.error(`Failed to load image for ${n.name}`)}})}),e.jsxs("div",{className:"md:w-1/2",children:[e.jsx("h1",{className:`text-3xl font-bold mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:n.name}),e.jsx("p",{className:`text-lg mb-4 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:n.description}),e.jsxs("p",{className:`text-xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["Price: $",n.price.toFixed(2)]}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex",children:[1,2,3,4,5].map(k=>e.jsx("svg",{className:`w-6 h-6 ${k<=Math.round(w)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.97a1 1 0 00.95.69h4.15c.969 0 1.371 1.24.588 1.81l-3.357 2.44a1 1 0 00-.364 1.118l1.287 3.971c.3.921-.755 1.688-1.54 1.118l-3.357-2.44a1 1 0 00-1.175 0l-3.357 2.44c-.784.57-1.838-.197-1.54-1.118l1.287-3.971a1 1 0 00-.364-1.118L2.31 9.397c-.784-.57-.38-1.81.588-1.81h4.15a1 1 0 00.95-.69l1.286-3.97z"})},k))}),e.jsxs("span",{className:`ml-2 text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["(",w.toFixed(1)," from ",u.length," reviews)"]})]}),e.jsx("button",{onClick:()=>l(n),className:"bg-red-800 text-white px-6 py-3 rounded-md font-semibold hover:bg-red-900 active:bg-red-950 transition-all duration-300 ease-in-out",children:"Add to Cart"})]})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("h2",{className:`text-2xl font-semibold mb-6 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Customer Reviews"}),e.jsxs("div",{className:`p-6 border rounded-md mb-8 ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[e.jsx("h3",{className:`text-lg font-medium mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Write a Review"}),W?e.jsxs("form",{onSubmit:A,children:[e.jsx("div",{className:"flex mb-4",children:[1,2,3,4,5].map(k=>e.jsx("svg",{onMouseEnter:()=>S(k),onMouseLeave:()=>S($),onClick:()=>T(k),className:`w-8 h-8 cursor-pointer ${k<=$?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.97a1 1 0 00.95.69h4.15c.969 0 1.371 1.24.588 1.81l-3.357 2.44a1 1 0 00-.364 1.118l1.287 3.971c.3.921-.755 1.688-1.54 1.118l-3.357-2.44a1 1 0 00-1.175 0l-3.357 2.44c-.784.57-1.838-.197-1.54-1.118l1.287-3.971a1 1 0 00-.364-1.118L2.31 9.397c-.784-.57-.38-1.81.588-1.81h4.15a1 1 0 00.95-.69l1.286-3.97z"})},k))}),e.jsx("textarea",{value:m,onChange:k=>C(k.target.value),placeholder:"Write your review here...",className:`w-full p-3 border rounded-md focus:outline-none transition-all duration-300 ease-in-out mb-4 ${t?"bg-stone-700 border-stone-600 text-white placeholder-stone-400 focus:ring-red-500 focus:border-red-500":"bg-white border-red-300 text-red-600 placeholder-stone-400 focus:ring-red-500 focus:border-red-500"}`,rows:"4"}),e.jsx("button",{type:"submit",className:"bg-red-800 text-white px-6 py-2 rounded-md font-semibold hover:bg-red-900 active:bg-red-950 transition-all duration-300 ease-in-out",children:"Submit Review"})]}):e.jsxs("p",{className:`text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["Please"," ",e.jsx("a",{href:"/login",className:"text-red-600 hover:underline",children:"sign in"})," ","to write a review."]})]}),u.length===0?e.jsx("p",{className:`text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:"No reviews yet. Be the first to review this product!"}):e.jsx("div",{className:"space-y-6",children:u.map(k=>e.jsxs("div",{className:`p-4 border rounded-md ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"flex",children:[1,2,3,4,5].map(L=>e.jsx("svg",{className:`w-5 h-5 ${L<=k.rating?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.97a1 1 0 00.95.69h4.15c.969 0 1.371 1.24.588 1.81l-3.357 2.44a1 1 0 00-.364 1.118l1.287 3.971c.3.921-.755 1.688-1.54 1.118l-3.357-2.44a1 1 0 00-1.175 0l-3.357 2.44c-.784.57-1.838-.197-1.54-1.118l1.287-3.971a1 1 0 00-.364-1.118L2.31 9.397c-.784-.57-.38-1.81.588-1.81h4.15a1 1 0 00.95-.69l1.286-3.97z"})},L))}),e.jsx("span",{className:`ml-2 text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:new Date(k.timestamp).toLocaleDateString()})]}),e.jsx("p",{className:`text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:k.comment}),e.jsxs("p",{className:`text-xs mt-2 transition-colors duration-300 ease-in-out ${t?"text-stone-400":"text-stone-500"}`,children:["By: ",k.userEmail]})]},k.id))})]})]}):null}function Et(){const{isDarkMode:s}=o.useContext(_),{cart:t,updateQuantity:l,removeFromCart:n,clearCart:b,getTotalPrice:N}=Ce(),[f,u]=o.useState(!1),[p,w]=o.useState({name:"",email:"",address:""}),y=Z(),$=async a=>{if(a.preventDefault(),!p.name||!p.email||!p.address){alert("Please fill in all fields to proceed with checkout.");return}u(!0);try{const m={items:t,total:N(),customer:p,createdAt:new Date().toISOString(),status:"pending"};await ge(K(V,"orders"),m),b(),alert("Order placed successfully! Thank you for your purchase."),y("/")}catch(m){console.error("Error placing order:",m),alert("Failed to place order. Please try again.")}finally{u(!1),w({name:"",email:"",address:""})}};return e.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${s?"bg-stone-900":"bg-stone-50"}`,children:[e.jsx("h1",{className:`text-4xl font-bold mb-8 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Your Cart"}),t.length===0?e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:`text-lg mb-4 ${s?"text-stone-300":"text-stone-600"}`,children:"Your cart is empty."}),e.jsx("button",{onClick:()=>y("/products"),className:"bg-red-800 text-white px-6 py-3 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Shop Now"})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"space-y-4",children:t.map(a=>e.jsxs("div",{className:`flex items-center gap-4 p-4 border rounded-md ${s?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[e.jsx("img",{src:a.image,alt:a.name,className:"w-20 h-20 object-cover rounded-md",onError:m=>{m.target.src="https://via.placeholder.com/80"}}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`text-lg font-medium ${s?"text-white":"text-red-600"}`,children:a.name}),e.jsxs("p",{className:`text-sm ${s?"text-stone-300":"text-stone-600"}`,children:["Price: $",a.price.toFixed(2)]}),e.jsxs("p",{className:`text-sm ${s?"text-stone-300":"text-stone-600"}`,children:["Subtotal: $",(a.price*a.quantity).toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>l(a.id,a.quantity-1),className:"bg-gray-300 text-black px-2 py-1 rounded-md hover:bg-gray-400 transition-colors duration-300 ease-in-out",disabled:f,children:"-"}),e.jsx("span",{className:`text-lg ${s?"text-white":"text-red-600"}`,children:a.quantity}),e.jsx("button",{onClick:()=>l(a.id,a.quantity+1),className:"bg-gray-300 text-black px-2 py-1 rounded-md hover:bg-gray-400 transition-colors duration-300 ease-in-out",disabled:f,children:"+"})]}),e.jsx("button",{onClick:()=>n(a.id),className:"bg-red-600 text-white px-4 py-1 rounded-md font-semibold hover:bg-red-700 transition-colors duration-300 ease-in-out",disabled:f,children:"Remove"})]},a.id))}),e.jsxs("div",{className:`p-6 border rounded-md ${s?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[e.jsx("h2",{className:`text-2xl font-semibold mb-4 ${s?"text-white":"text-red-600"}`,children:"Order Summary"}),e.jsxs("p",{className:`text-lg mb-4 ${s?"text-stone-300":"text-stone-600"}`,children:["Total: $",N().toFixed(2)]}),e.jsxs("form",{onSubmit:$,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-white":"text-red-600"}`,children:"Full Name"}),e.jsx("input",{type:"text",value:p.name,onChange:a=>w({...p,name:a.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"John Doe",disabled:f})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-white":"text-red-600"}`,children:"Email"}),e.jsx("input",{type:"email",value:p.email,onChange:a=>w({...p,email:a.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"john.doe@example.com",disabled:f})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-white":"text-red-600"}`,children:"Shipping Address"}),e.jsx("textarea",{value:p.address,onChange:a=>w({...p,address:a.target.value}),required:!0,rows:"3",className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"123 Main St, City, Country",disabled:f})]}),e.jsx("button",{type:"submit",className:`w-full px-4 py-2 rounded-md font-semibold transition-colors duration-300 ease-in-out ${f?"bg-gray-500 text-white cursor-not-allowed":"bg-red-800 text-white hover:bg-red-900"}`,disabled:f,children:f?"Processing...":"Place Order"})]})]})]})]})}function At(){const{isDarkMode:s}=o.useContext(_),{cart:t,updateQuantity:l,removeFromCart:n}=Ce(),b=Object.values(t).reduce((f,u)=>f+u.price*u.quantity,0),N=()=>{alert("Order placed successfully!"),Object.keys(t).forEach(f=>n(f))};return e.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${s?"bg-stone-900":"bg-stone-50"}`,children:[e.jsxs("header",{className:"text-center mb-12",children:[e.jsx("h1",{className:`text-4xl font-bold mb-4 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Checkout"}),e.jsx("p",{className:`text-lg max-w-2xl mx-auto transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:"Review your cart and place your order."})]}),Object.keys(t).length===0?e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:"Your cart is empty."}),e.jsx(ie,{to:"/shop",variant:"primary",className:"mt-4 bg-red-800 text-white hover:bg-red-900",children:"Continue Shopping"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-6",children:Object.entries(t).map(([f,u])=>e.jsxs("div",{className:"flex items-center py-3 transition-colors duration-300 ease-in-out",children:[e.jsx("div",{className:"w-20 h-20 flex-shrink-0",children:e.jsx("img",{src:u.image||"https://via.placeholder.com/80",alt:u.name,className:"w-full h-full object-cover rounded"})}),e.jsxs("div",{className:"flex-1 ml-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`text-base font-semibold transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:u.name}),e.jsxs("p",{className:`text-sm transition-colors duration-300 ease-in-out ${s?"text-stone-400":"text-stone-500"}`,children:["Color: ",u.color]}),e.jsxs("p",{className:`text-sm transition-colors duration-300 ease-in-out ${s?"text-stone-400":"text-stone-500"}`,children:["Size: ",u.size]})]}),e.jsx("button",{onClick:()=>n(f),className:`text-lg transition-colors duration-300 ease-in-out ${s?"text-stone-400 hover:text-stone-300":"text-stone-500 hover:text-stone-600"}`,children:"✕"})]}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx("button",{onClick:()=>l(f,-1),className:`w-8 h-8 flex items-center justify-center border rounded-l transition-colors duration-300 ease-in-out ${s?"border-stone-600 bg-stone-700 text-white hover:bg-stone-600":"border-stone-300 bg-stone-200 text-stone-600 hover:bg-stone-300"}`,children:"-"}),e.jsx("span",{className:`w-10 h-8 flex items-center justify-center border-t border-b transition-colors duration-300 ease-in-out ${s?"border-stone-600 text-white":"border-stone-300 text-stone-600"}`,children:u.quantity}),e.jsx("button",{onClick:()=>l(f,1),className:`w-8 h-8 flex items-center justify-center border rounded-r transition-colors duration-300 ease-in-out ${s?"border-stone-600 bg-stone-700 text-white hover:bg-stone-600":"border-stone-300 bg-stone-200 text-stone-600 hover:bg-stone-300"}`,children:"+"})]})]}),e.jsx("div",{className:"text-right ml-4",children:u.originalPrice?e.jsxs("div",{children:[e.jsxs("p",{className:`text-sm line-through transition-colors duration-300 ease-in-out ${s?"text-stone-400":"text-stone-500"}`,children:["$",(u.originalPrice*u.quantity).toFixed(2)]}),e.jsxs("p",{className:`text-base font-semibold transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:["$",(u.price*u.quantity).toFixed(2)]})]}):e.jsxs("p",{className:`text-base font-semibold transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:["$",(u.price*u.quantity).toFixed(2)]})})]},f))}),e.jsxs("div",{className:"mt-12 text-right",children:[e.jsxs("p",{className:`text-xl font-semibold transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:["Total: $",b.toFixed(2)]}),e.jsx(ie,{onClick:N,variant:"primary",className:"mt-4 bg-red-800 text-white hover:bg-red-900",children:"Place Order"})]})]})]})}const Ae=[{id:1,title:"Microbiome Basics",content:"Your gut contains over 100 trillion bacteria, with more than 1000 different species playing crucial roles in digestion, immunity, and overall health.",category:"Fundamentals"},{id:2,title:"Probiotics Matter",content:"Probiotics are live bacteria that can improve digestive health, boost immune function, and potentially help with mental health.",category:"Nutrition"},{id:3,title:"This means nothing to me",content:"This is all just filler crap",category:"Nutrition"},{id:4,title:"Worst for Gut Microbiome",content:["The following harm gut health (in order of severity):","• Stress: Elevates cortisol, disrupting gut flora and increasing permeability","• Glyphosate: Kills beneficial bacteria, feeds pathogenic ones","• Antibiotics: Kills good and bad bacteria; pair with spore-based probiotics to avoid yeast infections","• Seed Oils: Feed pathogenic bacteria, have a long half-life","• Refined Sugars: Feed harmful bacteria, promote dysbiosis","• Long-term Restrictive Diets: Reduce microbiome diversity","• Processed Foods: Contain antibiotics, glyphosate, and dyes that feed pathogenic bacteria and cancer cells"],category:"Gut Microbiome Education"},{id:5,title:"Types of Probiotics",content:`Key probiotic types include:
• Bacillus (subtilis, coagulans, clausii, indicus): Endospore-protected, survives gastric system and antibiotics, colonizes all gut areas, called 'next-generation probiotics'
• Lactobacillus (acidophilus, rhamnosus, reuteri, plantarum, casei, gasseri): Some strains survive gastric system, mainly colonize upper intestines
• Bifidobacterium (longum, infantis, bifidum, animalis, lactis): Doesn’t survive gastric system or antibiotics, functions in lower intestines; seek exopolysaccharide strains for dendritic cell communication
• Saccharomyces (boulardii, cerevisiae): Gram-positive yeast, survives antibiotics but not gastric system, aids antibiotic-associated diarrhea`,category:"Gut Microbiome Education"},{id:6,title:"Pillars of a Healthy Gut",content:`Build a resilient gut with:
• A nutrient-dense, diverse, unprocessed diet with prebiotics
• Healthy exercise, sleep, and an uplifting social life worth enjoying
• Sun exposure and skin contact with nature
• Research-backed, third-party-tested supplements tailored to your needs`,category:"Gut Microbiome Education"},{id:7,title:"Boosts Cognition",content:"A healthy gut strengthens your immune system and helps fight off infections.",category:"Benefits"},{id:8,title:"Improves Digestion",content:"Proper gut health aids digestion, prevents bloating, and reduces stomach discomfort.",category:"Benefits"},{id:9,title:"Enhances Mental Health",content:"Your gut and brain are connected—good gut health can help reduce anxiety and improve mood.",category:"Benefits"}];function ke({title:s,content:t,footer:l,className:n}){const{isDarkMode:b}=o.useContext(_);return e.jsxs("div",{className:`p-4 border rounded-lg shadow-md ${b?"bg-stone-800 border-stone-700":"bg-white border-red-300"} ${n}`,children:[e.jsx("h3",{className:`text-xl font-semibold transition-colors duration-300 ease-in-out ${b?"text-red-400":"text-red-800"}`,children:s}),t&&e.jsx("p",{className:`mt-2 transition-colors duration-300 ease-in-out ${b?"text-white":"text-red-600"}`,children:t}),l&&e.jsx("p",{className:`mt-2 text-sm transition-colors duration-300 ease-in-out ${b?"text-white":"text-red-600"}`,children:l})]})}function Lt(){const{isDarkMode:s}=o.useContext(_);o.useEffect(()=>{});const t=Ae.filter(n=>n.category==="Benefits"),l=Ae.filter(n=>n.category!=="Benefits");return e.jsxs("div",{className:`container mx-auto px-4 py-8 min-h-screen flex flex-col ${s?"bg-stone-900":"bg-white"}`,children:[e.jsx("div",{className:"pt-16"}),e.jsx("h1",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Understanding Gut Health"}),e.jsxs("section",{className:"mb-8 flex-grow",children:[e.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"What is Gut Health?"}),e.jsx("p",{className:`leading-relaxed transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Gut health refers to the balance and function of bacteria in the digestive system..."})]}),e.jsxs("section",{className:"py-12 px-6 flex-grow",children:[e.jsx("h2",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Why Gut Health Matters"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:t.map(n=>e.jsx(J,{to:`/gut-health/${n.id}`,children:e.jsx(ke,{title:n.title,content:n.content,className:"hover:shadow-lg transition-shadow duration-300 ease-in-out"})},n.id))})]}),e.jsxs("section",{className:"flex-grow",children:[e.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Gut Health Facts"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 gap-4",children:l.map(n=>e.jsx(J,{to:`/gut-health/${n.id}`,children:e.jsx(ke,{title:n.title,content:n.content,footer:`Category: ${n.category}`,className:`border-l-4 border-red-500 hover:shadow-lg transition-shadow duration-300 ease-in-out ${s?"bg-stone-800":"bg-stone-50"}`})},n.id))})]})]})}function Mt(){const{id:s}=we(),{isDarkMode:t}=o.useContext(_);Z();const l=Ae.find(n=>n.id.toString()===s);return l?e.jsxs("div",{className:`min-h-screen container mx-auto p-6 ${t?"bg-stone-900":"bg-white"}`,children:[e.jsx("h1",{className:`text-3xl font-bold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:l.title}),e.jsxs("p",{className:`mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:["Category: ",l.category]}),Array.isArray(l.content)?e.jsx("ul",{className:`text-lg mb-6 list-disc pl-6 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:l.content.map((n,b)=>e.jsx("li",{className:"mb-2",children:n},b))}):e.jsx("p",{className:`text-lg mb-6 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:l.content}),e.jsx(ie,{to:"/gut-health",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Gut Health"})]}):e.jsxs("div",{className:`min-h-screen container mx-auto p-6 ${t?"bg-stone-900":"bg-white"}`,children:[e.jsx("h1",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Fact Not Found"}),e.jsx(ie,{to:"/gut-health",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Gut Health"})]})}const Ft=[{id:1,name:"Enterogermina",description:"spore-forming probiotic that survives antibiotics and stomach acids, promoting gut health and recovery.",price:"",category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"],url:"https://a.co/d/ePluKSI"},{id:2,name:"Just thrive probiotic",description:"Something here about the product",price:29.99,category:"Long Term",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]},{id:3,name:"Megasporebiotic",description:"Something here about the product",price:29.99,category:"Fiber",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]}];function Wt(){const{isDarkMode:s}=o.useContext(_),[t,l]=o.useState([]),n=f=>l([...t,f]),b=f=>l(t.filter(u=>u.id!==f)),N=t.reduce((f,u)=>f+u.price,0);return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:`text-3xl font-bold mb-6 ${s?"text-green-300":"text-green-800"}`,children:"Purchase Gut Health Supplements"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl font-semibold mb-4 ${s?"text-green-200":"text-green-700"}`,children:"Available Products"}),Ft.map(f=>e.jsxs("div",{className:`border p-4 mb-4 rounded-lg flex justify-between items-center ${s?"border-gray-700 bg-gray-800":"border-gray-300 bg-white"}`,children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-bold ${s?"text-gray-300":"text-gray-800"}`,children:f.name}),e.jsxs("p",{className:`${s?"text-green-400":"text-green-700"}`,children:["$",f.price]})]}),e.jsx(ie,{onClick:()=>n(f),variant:"primary",children:"Add to Cart"})]},f.id))]}),e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl font-semibold mb-4 ${s?"text-green-200":"text-green-700"}`,children:"Your Cart"}),t.length===0?e.jsx("p",{className:`${s?"text-gray-400":"text-gray-500"}`,children:"Your cart is empty"}):e.jsxs(e.Fragment,{children:[t.map(f=>e.jsxs("div",{className:`flex justify-between items-center border-b py-2 ${s?"border-gray-700":"border-gray-300"}`,children:[e.jsx("span",{className:`${s?"text-gray-300":"text-gray-800"}`,children:f.name}),e.jsxs("div",{children:[e.jsxs("span",{className:`mr-4 ${s?"text-green-400":"text-green-700"}`,children:["$",f.price]}),e.jsx("button",{onClick:()=>b(f.id),className:"text-red-500 hover:text-red-600",children:"Remove"})]})]},f.id)),e.jsxs("div",{className:`mt-4 font-bold ${s?"text-green-300":"text-green-800"}`,children:["Total: $",N.toFixed(2)]}),e.jsx(ie,{className:"mt-4 w-full",variant:"primary",disabled:t.length===0,children:"Checkout"})]})]})]})]})}const Tt=()=>{const{isDarkMode:s}=o.useContext(_),[t,l]=o.useState([]),[n,b]=o.useState(!0),[N,f]=o.useState(null);o.useEffect(()=>{(async()=>{try{const m=K(V,"content","blog","posts"),W=(await X(m)).docs.map(D=>{var M,S;return{id:D.id,title:D.data().title,blocks:D.data().blocks||[{type:"paragraph",content:""}],date:D.data().date||"",lastEdited:D.data().lastEdited||"",image:((S=(M=D.data().blocks)==null?void 0:M.find(T=>T.type==="image"))==null?void 0:S.content)||""}});if(console.log("Fetched blog posts:",W),W.length>0){const D=W.sort((M,S)=>{const T=M.date?new Date(M.date):null,A=S.date?new Date(S.date):null;return console.log(`Sorting: ${M.title} (${M.date}) -> ${T}, ${S.title} (${S.date}) -> ${A}`),!T||isNaN(T.getTime())?1:!A||isNaN(A.getTime())?-1:A-T});console.log("Sorted blog posts:",D),l(D)}else l([])}catch(m){console.error("Error fetching blog posts:",m),f("Failed to load blog posts. Please try again later."),l([])}finally{b(!1)}})()},[]);const u=a=>{if(!a)return"Date not set";const m=new Date(a);return isNaN(m.getTime())?"Invalid Date":m.toLocaleDateString([],{year:"numeric",month:"numeric",day:"numeric"})},p=a=>{if(!a)return"Never edited";const m=new Date(a);return isNaN(m.getTime())?"Invalid Timestamp":m.toLocaleString([],{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0})},w=a=>{if(!a.blocks||a.blocks.length===0)return"Read more...";const m=a.blocks.find(C=>C.type==="paragraph"||C.type==="list"||C.type==="bullet");return m?m.type==="paragraph"?m.content.split(" ").slice(0,15).join(" ")+"...":Array.isArray(m.content)?m.content[0]+(m.content.length>1?"...":""):"Read more...":"Read more..."},y=a=>{if(!a.date)return!1;const m=new Date("2025-04-16T00:00:00Z"),C=new Date(a.date);return isNaN(C.getTime())?!1:C>m},$={hidden:{opacity:0,y:20},visible:a=>({opacity:1,y:0,transition:{delay:a*.1,duration:.5,ease:"easeOut"}})};return n?e.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${s?"bg-stone-900":"bg-stone-50"}`,children:[e.jsx("h1",{className:`text-4xl md:text-5xl font-extrabold mb-12 text-center transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Our Blog"}),e.jsx("div",{className:"text-center",children:e.jsx(pe,{color:s?"#f87171":"#b91c1c"})})]}):N?e.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${s?"bg-stone-900":"bg-stone-50"}`,children:[e.jsx("h1",{className:`text-4xl md:text-5xl font-extrabold mb-12 text-center transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Our Blog"}),e.jsx("p",{className:`text-lg text-center transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-600"}`,children:N})]}):e.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${s?"bg-stone-900":"bg-stone-50"}`,children:[e.jsx("h1",{className:`text-4xl md:text-5xl font-extrabold mb-12 text-center transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Our Blog"}),t.length===0?e.jsx("p",{className:`text-lg text-center transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:"No blog posts available yet. Check back soon!"}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:e.jsx(it,{children:t.map((a,m)=>{const C=y(a);return e.jsx(Ge.div,{custom:m,initial:"hidden",animate:"visible",variants:$,className:"group",children:C?e.jsx(ke,{title:e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:`text-xl font-semibold transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-700"} group-hover:underline`,children:a.title}),e.jsx("span",{className:`ml-2 text-sm italic transition-colors duration-300 ease-in-out ${s?"text-stone-400":"text-stone-500"}`,children:"(Coming Soon)"})]}),footer:e.jsxs("div",{className:`text-sm transition-colors duration-300 ease-in-out ${s?"text-stone-400":"text-stone-500"}`,children:[e.jsxs("p",{children:["Publish Date: ",u(a.date)]}),e.jsxs("p",{children:["Last Edited: ",p(a.lastEdited)]})]}),content:e.jsxs(e.Fragment,{children:[a.image&&e.jsx("div",{className:"mb-4 h-48 w-full overflow-hidden rounded-lg",children:e.jsx("img",{src:a.image,alt:"Blog preview",className:"h-full w-full object-cover transition-transform duration-300 ease-in-out"})}),e.jsx("p",{className:`text-base transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"} line-clamp-3`,children:w(a)})]}),className:`relative p-6 rounded-xl shadow-lg transition-all duration-300 ease-in-out border-t-4 ${s?"bg-stone-800 border-red-400/50 opacity-50":"bg-white border-red-800/50 opacity-50"} cursor-not-allowed overflow-hidden`}):e.jsx(J,{to:`/blog/${a.id}`,className:"block",children:e.jsx(ke,{title:e.jsx("span",{className:`text-xl font-semibold transition-colors duration-300 ease-in-out ${s?"text-stone-200":"text-stone-800"} group-hover:underline`,children:a.title}),footer:e.jsxs("div",{className:`text-sm transition-colors duration-300 ease-in-out ${s?"text-stone-400":"text-stone-500"}`,children:[e.jsxs("p",{children:["Published: ",u(a.date)]}),e.jsxs("p",{children:["Last Edited: ",p(a.lastEdited)]})]}),content:e.jsxs(e.Fragment,{children:[a.image&&e.jsx("div",{className:"mb-4 h-48 w-full overflow-hidden rounded-lg",children:e.jsx("img",{src:a.image,alt:"Blog preview",className:"h-full w-full object-cover transition-transform duration-300 ease-in-out group-hover:scale-105"})}),e.jsx("p",{className:`text-base transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"} line-clamp-3`,children:w(a)})]}),className:`relative p-6 rounded-xl shadow-lg transition-all duration-300 ease-in-out border-t-4 ${s?"bg-stone-800 border-red-400/50 hover:bg-stone-700 hover:shadow-xl":"bg-white border-red-800/50 hover:bg-stone-100 hover:shadow-xl"} overflow-hidden`})})},a.id)})})})]})},Bt=()=>{const{id:s}=we(),{isDarkMode:t}=o.useContext(_),[l,n]=o.useState(null),[b,N]=o.useState(!0),[f,u]=o.useState(null),[p,w]=o.useState(!1);o.useEffect(()=>{(async()=>{try{N(!0),u(null);const C=re(V,"content","blog","posts",s),W=await je(C);if(W.exists()){const D={id:W.id,...W.data()},M=new Date("2025-04-16T00:00:00Z"),S=D.date?new Date(D.date):null;S&&S>M?w(!0):w(!1),n(D)}else n(null)}catch(C){console.error("Error fetching blog post:",C),u("Failed to load blog post. Please try again later.")}finally{N(!1)}})()},[s]);const y=m=>m?new Date(m).toLocaleDateString([],{year:"numeric",month:"numeric",day:"numeric"}):"Date not set",$=m=>m?new Date(m).toLocaleString([],{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}):"Never edited",a={hidden:{opacity:0,y:20},visible:m=>({opacity:1,y:0,transition:{delay:m*.1,duration:.5,ease:"easeOut"}})};return b?e.jsx("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:e.jsx("div",{className:"text-center",children:e.jsx(pe,{color:t?"#f87171":"b91c1c"})})}):f?e.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[e.jsx("h1",{className:`text-4xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Error"}),e.jsx("p",{className:`text-lg text-center transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-600"}`,children:f}),e.jsx(ie,{to:"/blog",variant:"primary",className:"mt-4 bg-red-800 text-white px-6 py-2 rounded-lg hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Blog"})]}):l?p?e.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[e.jsx("h1",{className:`text-4xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Coming Soon"}),e.jsxs("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["This blog post will be available on ",y(l.date),"."]}),e.jsx(ie,{to:"/blog",variant:"primary",className:"mt-4 bg-red-800 text-white px-6 py-2 rounded-lg hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Blog"})]}):e.jsx("div",{className:`min-h-screen container mx-auto px-4 sm:px-6 lg:px-8 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:`relative rounded-xl shadow-lg p-8 mb-12 overflow-hidden border-t-4 ${t?"bg-gradient-to-r from-stone-800 to-stone-700 border-red-400/50":"bg-gradient-to-r from-white to-stone-100 border-red-800/50"}`,children:[e.jsx("h1",{className:`text-4xl md:text-5xl font-extrabold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:l.title}),e.jsxs("div",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-400":"text-stone-500"} flex flex-col sm:flex-row sm:items-center sm:space-x-4`,children:[e.jsxs("p",{children:["Published: ",y(l.date)]}),e.jsxs("p",{children:["Last Edited: ",$(l.lastEdited)]})]})]}),e.jsx("div",{className:`prose prose-lg max-w-none transition-colors duration-300 ease-in-out ${t?"text-stone-200 prose-invert":"text-stone-700"}`,children:l.blocks&&l.blocks.length>0?l.blocks.map((m,C)=>e.jsx(Ge.div,{custom:C,initial:"hidden",animate:"visible",variants:a,className:"mb-8",children:m.type==="paragraph"?e.jsx("p",{className:"leading-relaxed",children:m.content}):m.type==="list"&&Array.isArray(m.content)?e.jsx("ol",{className:"list-decimal pl-6 space-y-2",children:m.content.map((W,D)=>e.jsx("li",{className:"leading-relaxed",children:W},D))}):m.type==="bullet"&&Array.isArray(m.content)?e.jsx("ul",{className:"list-disc pl-6 space-y-2",children:m.content.map((W,D)=>e.jsx("li",{className:"leading-relaxed",children:W},D))}):m.type==="image"&&m.content?e.jsx("div",{className:"my-6",children:e.jsx("img",{src:m.content,alt:"Blog content",className:"w-full max-w-lg mx-auto rounded-lg shadow-md"})}):m.type==="link"&&m.content.url?e.jsx(J,{to:m.content.url,target:"_blank",rel:"noopener noreferrer",className:`underline transition-colors duration-300 ease-in-out ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-500"}`,children:m.content.text||m.content.url}):e.jsx("p",{className:"text-red-500",children:"Invalid block format"})},C)):e.jsx("p",{children:"No content available."})}),e.jsxs(ie,{to:"/blog",variant:"primary",className:"mt-12 inline-flex items-center px-6 py-3 rounded-lg shadow-md transition-all duration-300 ease-in-out bg-red-800 text-white hover:bg-red-900 hover:shadow-lg",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Back to Blog"]})]})}):e.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[e.jsx("h1",{className:`text-4xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Post Not Found"}),e.jsx(ie,{to:"/blog",variant:"primary",className:"bg-red-800 text-white px-6 py-2 rounded-lg hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Blog"})]})},Ot=[{question:"What is gut health?",answer:"Gut health refers to the balance of microorganisms in your digestive tract."},{question:"How can I improve my gut health?",answer:"Eating fiber-rich foods, fermented foods, and avoiding processed sugars can help."},{question:"What foods are good for gut health?",answer:"Fermented foods like yogurt, kimchi, and kefir, along with fiber-rich vegetables like broccoli and beans, are great for gut health."},{question:"Can stress affect gut health?",answer:"Yes, stress can alter the balance of gut bacteria and affect digestion, leading to issues like bloating or stomach discomfort."}];function Rt(){const{isDarkMode:s}=o.useContext(_);return e.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[e.jsx("h1",{className:`text-4xl font-extrabold text-center mb-6 ${s?"text-green-300":"text-green-700"}`,children:"Frequently Asked Questions"}),e.jsx("div",{className:"space-y-4",children:Ot.map((t,l)=>e.jsxs("details",{className:`group border p-4 rounded-lg shadow-md transition-all duration-300 ease-in-out ${s?"bg-gray-800 border-gray-700 text-gray-300":"bg-white border-gray-300 text-gray-800"}`,children:[e.jsxs("summary",{className:`cursor-pointer font-semibold text-lg flex justify-between items-center ${s?"group-open:text-green-400":"group-open:text-green-600"}`,children:[t.question,e.jsx("span",{className:"text-green-500 group-open:rotate-180 transition-transform duration-300",children:"▼"})]}),e.jsx("p",{className:"mt-2 text-gray-600",children:t.answer})]},l))})]})}function Ut(){const{isDarkMode:s}=o.useContext(_),[t,l]=o.useState({name:"",email:"",message:""}),[n,b]=o.useState(""),N=u=>{const{name:p,value:w}=u.target;l(y=>({...y,[p]:w}))},f=u=>{u.preventDefault(),b("Sending..."),lt.send("service_abc123","template_xyz789",{from_name:t.name,from_email:t.email,message:t.message,to_email:"ThomasScales13@yahoo.com"},"user_123456").then(p=>{b("Thank you! Your inquiry has been sent."),l({name:"",email:"",message:""}),setTimeout(()=>b(""),3e3)},p=>{b("Failed to send message. Please try again."),console.error("EmailJS error:",p.text),setTimeout(()=>b(""),3e3)})};return e.jsx("div",{className:`min-h-screen py-12 px-4 ${s?"bg-stone-900":"bg-white"}`,children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-6 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Contact Us"}),e.jsx("p",{className:`mb-8 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Have any questions or inquiries? Fill out the form below, and we'll get back to you as soon as possible!"}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Name"}),e.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:N,required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Your Name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:N,required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"your@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Message"}),e.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:N,required:!0,rows:"5",className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Your inquiry or message..."})]}),e.jsx("button",{type:"submit",className:"bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out w-full",children:"Send Message"}),n&&e.jsx("p",{className:`mt-4 text-center transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:n})]})]})})}function Le(){const{isDarkMode:s}=o.useContext(_),[t,l]=o.useState([""]),[n,b]=o.useState(""),[N,f]=o.useState([{title:"Main Workout",exercises:[""]}]),[u,p]=o.useState([]),[w,y]=o.useState(""),[$,a]=o.useState([""]),[m,C]=o.useState(null),W=Z();o.useEffect(()=>{const P=Se(ue,v=>{v||W("/admin")});return()=>P()},[W]),o.useEffect(()=>{(async()=>{var v,i,x,E,O,B,H,q;try{const oe=re(V,"content","home"),ve=await je(oe);if(ve.exists()){const se=ve.data();l((v=se.quotes)!=null&&v.length?se.quotes:[""]),b(((i=se.currentWorkout)==null?void 0:i.description)||"");const be=(E=(x=se.currentWorkout)==null?void 0:x.sections)!=null&&E.length?se.currentWorkout.sections:[],Ne=(B=(O=se.currentWorkout)==null?void 0:O.warmup)!=null&&B.length?se.currentWorkout.warmup:[],De=be.findIndex(ne=>ne.title==="Warm Up");if(Ne.length>0&&De===-1)f([{title:"Warm Up",exercises:Ne},...be]);else if(Ne.length>0&&De!==-1){const ne=[...be];ne[De].exercises=Ne,f(ne)}else be.length>0?f(be):f([{title:"Main Workout",exercises:[""]}]);p((H=se.scheduledWorkouts)!=null&&H.length?se.scheduledWorkouts.map(ne=>{var Be;const Qe=(Be=ne.sections)!=null&&Be.length?ne.sections:[{title:"Warm Up",exercises:ne.warmup||[""]},{title:"Main Workout",exercises:ne.main||[""]}];return{description:ne.description||"",sections:Qe,updateDateTime:ne.updateDateTime||""}}):[{description:"",sections:[{title:"Warm Up",exercises:[""]},{title:"Main Workout",exercises:[""]}],updateDateTime:new Date().toISOString()}]),y(se.aboutUs||""),a((q=se.dailyChallenges)!=null&&q.length?se.dailyChallenges:[""])}}catch(oe){C("Failed to load content: "+oe.message)}})()},[]);const D=async()=>{C(null);const P={quotes:t.filter(v=>v.trim()!==""),currentWorkout:{description:n,sections:N.filter(v=>v.title.trim()&&v.exercises.some(i=>i.trim())).map(v=>({title:v.title,exercises:v.exercises.filter(i=>i.trim()!=="")}))},scheduledWorkouts:u.filter(v=>v.description.trim()&&v.sections.some(i=>i.title.trim()&&i.exercises.some(x=>x.trim()))&&v.updateDateTime.trim()).map(v=>({description:v.description,sections:v.sections.filter(i=>i.title.trim()&&i.exercises.some(x=>x.trim())).map(i=>({title:i.title,exercises:i.exercises.filter(x=>x.trim()!=="")})),updateDateTime:v.updateDateTime})),aboutUs:w.trim(),dailyChallenges:$.filter(v=>v.trim()!==""),lastUpdated:new Date().toISOString()};try{await $e(re(V,"content","home"),P),alert("Home page content saved successfully!"),W("/admin")}catch(v){C("Error saving changes: "+v.message)}},M=async()=>{try{await Me(ue),W("/admin")}catch(P){C("Failed to log out: "+P.message)}},S=()=>l([...t,""]),T=P=>l(t.filter((v,i)=>i!==P)),A=(P,v)=>{const i=[...t];i[P]=v,l(i)},k=()=>f([...N,{title:"",exercises:[""]}]),L=P=>f(N.filter((v,i)=>i!==P)),d=(P,v)=>{const i=[...N];i[P].title=v,f(i)},h=P=>{const v=[...N];v[P].exercises.push(""),f(v)},r=(P,v)=>{const i=[...N];i[P].exercises=i[P].exercises.filter((x,E)=>E!==v),f(i)},c=(P,v,i)=>{const x=[...N];x[P].exercises[v]=i,f(x)},g=()=>p([...u,{description:"",sections:[{title:"Warm Up",exercises:[""]},{title:"Main Workout",exercises:[""]}],updateDateTime:new Date().toISOString()}]),R=P=>p(u.filter((v,i)=>i!==P)),I=P=>{if(console.log("toESTDateTimeString received isoString:",P),!P)return"";const v=new Date(P);console.log("toESTDateTimeString parsed UTC date object:",v);const i=new Date(v.getTime()+v.getTimezoneOffset()*6e4);console.log("toESTDateTimeString calculated localDate object:",i);const x=i.getFullYear(),E=String(i.getMonth()+1).padStart(2,"0"),O=String(i.getDate()).padStart(2,"0"),B=String(i.getHours()).padStart(2,"0"),H=String(i.getMinutes()).padStart(2,"0"),q=`${x}-${E}-${O}T${B}:${H}`;return console.log("toESTDateTimeString returning formatted string:",q),q},Q=(P,v,i)=>{console.log("updateScheduledWorkout received value:",i);const x=[...u];if(v==="updateDateTime"){const E=new Date(i);console.log("updateScheduledWorkout parsed localDate object:",E);const O=new Date(E.getTime()-E.getTimezoneOffset()*6e4);console.log("updateScheduledWorkout calculated utcDate object:",O),x[P][v]=O.toISOString(),console.log(`Scheduled workout ${P} updateDateTime set to (UTC ISO): ${x[P][v]}`)}else x[P][v]=i;p(x)},G=P=>{const v=[...u];v[P].sections.push({title:"",exercises:[""]}),p(v)},ae=(P,v)=>{const i=[...u];i[P].sections=i[P].sections.filter((x,E)=>E!==v),p(i)},ee=(P,v,i)=>{const x=[...u];x[P].sections[v].title=i,p(x)},de=(P,v)=>{const i=[...u];i[P].sections[v].exercises.push(""),p(i)},j=(P,v,i)=>{const x=[...u];x[P].sections[v].exercises=x[P].sections[v].exercises.filter((E,O)=>O!==i),p(x)},F=(P,v,i,x)=>{const E=[...u];E[P].sections[v].exercises[i]=x,p(E)},z=()=>a([...$,""]),Y=P=>a($.filter((v,i)=>i!==P)),ce=(P,v)=>{const i=[...$];i[P]=v,a(i)};return e.jsxs("div",{className:`min-h-screen p-6 ${s?"bg-stone-900":"bg-white"}`,children:[e.jsx("h2",{className:`text-3xl transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"} mb-6`,children:"Edit Home Page Content"}),m&&e.jsx("p",{className:`text-red-500 mb-4 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-600"}`,children:m}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"} mb-2`,children:"Quotes"}),t.map((P,v)=>e.jsxs("div",{className:"flex mb-2",children:[e.jsx("input",{type:"text",value:P,onChange:i=>A(v,i.target.value),className:`border p-2 w-full mr-2 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Quote ${v+1}`}),e.jsx("button",{onClick:()=>T(v),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:t.length===1,children:"Remove"})]},v)),e.jsx("button",{onClick:S,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Quote"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"} mb-2`,children:"About Us"}),e.jsx("textarea",{value:w,onChange:P=>y(P.target.value),className:`border p-2 w-full h-24 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"About Us text"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:`text-2xl font-semibold mb-4 ${s?"text-red-400":"text-red-800"}`,children:"Current Workout"}),e.jsxs("div",{className:`p-4 rounded ${s?"bg-stone-700":"bg-stone-200"}`,children:[e.jsx("label",{htmlFor:"workoutDesc",className:"block text-lg font-semibold mb-2",children:"Description:"}),e.jsx("input",{type:"text",id:"workoutDesc",value:n,onChange:P=>b(P.target.value),className:`border p-2 w-full mb-4 ${s?"bg-stone-600 border-stone-500 text-white":"bg-white border-stone-300 text-stone-700"}`}),e.jsx("h4",{className:`text-xl font-semibold mt-4 mb-2 ${s?"text-red-400":"text-red-800"}`,children:"Sections:"}),N.map((P,v)=>e.jsxs("div",{className:`p-4 mb-4 rounded ${s?"bg-stone-600":"bg-stone-300"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("input",{type:"text",placeholder:"Section Title (e.g., Warm Up, Main Workout)",value:P.title,onChange:i=>d(v,i.target.value),className:`border p-2 w-3/4 ${s?"bg-stone-700 border-stone-500 text-white":"bg-white border-stone-300 text-stone-700"}`}),e.jsx("button",{onClick:()=>L(v),className:"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700 transition-colors duration-300",children:"Remove Section"})]}),e.jsx("h5",{className:`text-md font-semibold mb-2 ${s?"text-red-300":"text-red-700"}`,children:"Exercises:"}),P.exercises.map((i,x)=>e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("input",{type:"text",placeholder:"Exercise",value:i,onChange:E=>c(v,x,E.target.value),className:`border p-2 w-full mr-2 ${s?"bg-stone-700 border-stone-500 text-white":"bg-white border-stone-300 text-stone-700"}`}),e.jsx("button",{onClick:()=>r(v,x),className:"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700 transition-colors duration-300",children:"Remove Exercise"})]},x)),e.jsx("button",{onClick:()=>h(v),className:"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 transition-colors duration-300 mt-2",children:"Add Exercise"})]},v)),e.jsx("button",{onClick:k,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors duration-300 mt-4",children:"Add New Section"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"} mb-2`,children:"Scheduled Workouts"}),u.map((P,v)=>e.jsxs("div",{className:`mb-4 border p-4 rounded ${s?"border-stone-600":"border-red-300"}`,children:[e.jsx("input",{type:"datetime-local",value:I(P.updateDateTime),onChange:i=>Q(v,"updateDateTime",i.target.value),className:`border p-2 w-full mb-2 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Update Date and Time"}),e.jsx("textarea",{value:P.description,onChange:i=>Q(v,"description",i.target.value),className:`border p-2 w-full h-24 mb-2 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Workout Description"}),P.sections.map((i,x)=>e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("input",{type:"text",value:i.title,onChange:E=>ee(v,x,E.target.value),className:`border p-2 w-full mr-2 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Section Title (e.g., Strength, Conditioning)"}),e.jsx("button",{onClick:()=>ae(v,x),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:P.sections.length===1,children:"Remove Section"})]}),i.exercises.map((E,O)=>e.jsxs("div",{className:"flex mb-2",children:[e.jsx("input",{type:"text",value:E,onChange:B=>F(v,x,O,B.target.value),className:`border p-2 w-full mr-2 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Exercise ${O+1}`}),e.jsx("button",{onClick:()=>j(v,x,O),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:i.exercises.length===1,children:"Remove"})]},`scheduled-section-${v}-${x}-exercise-${O}`)),e.jsx("button",{onClick:()=>de(v,x),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Exercise"})]},`scheduled-section-${v}-${x}`)),e.jsx("button",{onClick:()=>G(v),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-4 mr-2",children:"Add Workout Section"}),e.jsx("button",{onClick:()=>R(v),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",disabled:u.length===1&&!u[0].description,children:"Remove Workout"})]},v)),e.jsx("button",{onClick:g,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Scheduled Workout"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"} mb-2`,children:"Daily Gut Health Challenges"}),$.map((P,v)=>e.jsxs("div",{className:"flex mb-2",children:[e.jsx("input",{type:"text",value:P,onChange:i=>ce(v,i.target.value),className:`border p-2 w-full mr-2 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Challenge ${v+1}`}),e.jsx("button",{onClick:()=>Y(v),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:$.length===1,children:"Remove"})]},v)),e.jsx("button",{onClick:z,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Challenge"})]}),e.jsx("button",{onClick:D,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mr-4",children:"Save Changes"}),e.jsx("button",{onClick:()=>W("/admin"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mr-4",children:"Back to Admin Dashboard"}),e.jsx("button",{onClick:M,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Log Out"})]})}function Ve(){const{isDarkMode:s}=o.useContext(_),[t,l]=o.useState([]),[n,b]=o.useState(null),[N,f]=o.useState(null),u=Z();o.useEffect(()=>{const d=Se(ue,h=>{h||u("/admin")});return()=>d()},[u]),o.useEffect(()=>{(async()=>{try{const h=K(V,"content","blog","posts"),g=(await X(h)).docs.map(R=>({id:R.id,title:R.data().title||"",blocks:R.data().blocks||[{type:"paragraph",content:""}],date:R.data().date||"",lastEdited:R.data().lastEdited||""})).sort((R,I)=>{const Q=R.date?new Date(R.date):new Date(0);return(I.date?new Date(I.date):new Date(0))-Q});l(g.length?g:[{id:"",title:"",blocks:[{type:"paragraph",content:""}],date:new Date().toISOString().split("T")[0],lastEdited:""}])}catch(h){f("Failed to load blog posts: "+h.message)}})()},[]);const p=async()=>{f(null);try{const d=K(V,"content","blog","posts"),h=await X(d);for(const r of h.docs)await ye(r.ref);for(const r of t)if(r.title.trim()&&r.blocks.some(c=>c.type==="paragraph"||c.type==="image"||c.type==="link"?c.content.trim():c.content.some(g=>g.trim()))){const c=r.id||Date.now().toString();await $e(re(d,c),{id:c,title:r.title,blocks:r.blocks.map(g=>({type:g.type,content:g.type==="paragraph"||g.type==="image"?g.content:g.type==="link"?{url:g.content.url,text:g.content.text}:g.content.filter(R=>R.trim()!=="")})),date:r.date||new Date().toISOString(),lastEdited:r.lastEdited||new Date().toISOString()})}alert("Blog posts saved successfully!"),b(null),u("/admin")}catch(d){f("Error saving blog posts: "+d.message)}},w=async()=>{try{await Me(ue),u("/admin")}catch(d){f("Failed to log out: "+d.message)}},y=()=>{const d=[...t,{id:"",title:"",blocks:[{type:"paragraph",content:""}],date:new Date().toISOString().split("T")[0],lastEdited:new Date().toISOString()}];l(d),b(d.length-1)},$=d=>{const h=t.filter((r,c)=>c!==d);l(h),b(null)},a=(d,h,r)=>{const c=[...t];c[d]={...c[d],[h]:r,lastEdited:new Date().toISOString()},l(c)},m=(d,h)=>{const r=[...t];r[d].blocks.push({type:h,content:h==="paragraph"||h==="image"?"":h==="link"?{url:"",text:""}:[""]}),r[d].lastEdited=new Date().toISOString(),l(r)},C=(d,h)=>{const r=[...t];r[d].blocks=r[d].blocks.filter((c,g)=>g!==h),r[d].lastEdited=new Date().toISOString(),l(r)},W=(d,h,r)=>{const c=[...t];c[d].blocks[h]={type:r,content:r==="paragraph"||r==="image"?"":r==="link"?{url:"",text:""}:[""]},c[d].lastEdited=new Date().toISOString(),l(c)},D=(d,h,r)=>{const c=[...t];c[d].blocks[h].content=r,c[d].lastEdited=new Date().toISOString(),l(c)},M=(d,h,r,c)=>{const g=[...t];g[d].blocks[h].content[r]=c,g[d].lastEdited=new Date().toISOString(),l(g)},S=(d,h)=>{const r=[...t];r[d].blocks[h].content.push(""),r[d].lastEdited=new Date().toISOString(),l(r)},T=(d,h,r)=>{const c=[...t];c[d].blocks[h].content=c[d].blocks[h].content.filter((g,R)=>R!==r),c[d].lastEdited=new Date().toISOString(),l(c)},A=(d,h,r,c)=>{const g=[...t];g[d].blocks[h].content[r]=c,g[d].lastEdited=new Date().toISOString(),l(g)},k=d=>d?new Date(d).toLocaleString([],{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}):"Never edited",L=d=>d?new Date(d).toLocaleDateString():"Not set";return e.jsxs("div",{className:`min-h-screen p-6 ${s?"bg-stone-900":"bg-white"}`,children:[e.jsx("h2",{className:`text-3xl transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"} mb-6`,children:"Manage Blog Posts"}),N&&e.jsx("p",{className:`text-red-500 mb-4 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-600"}`,children:N}),n===null?e.jsxs("div",{className:"mb-6",children:[t.length===0?e.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:"No blog posts available. Add a new post to get started."}):e.jsx("div",{className:"grid gap-4",children:t.map((d,h)=>e.jsxs("div",{className:`p-4 border rounded cursor-pointer transition-all duration-300 ease-in-out hover:shadow-lg ${s?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,onClick:()=>b(h),children:[e.jsx("h3",{className:`text-xl font-semibold transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:d.title||"Untitled Post"}),e.jsxs("p",{className:`text-sm italic transition-colors duration-300 ease-in-out ${s?"text-stone-400":"text-stone-500"}`,children:["Publish Date: ",L(d.date)]}),e.jsxs("p",{className:`text-sm italic transition-colors duration-300 ease-in-out ${s?"text-stone-400":"text-stone-500"}`,children:["Last Edited: ",k(d.lastEdited)]})]},h))}),e.jsx("button",{onClick:y,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-4",children:"Add Blog Post"}),e.jsx("button",{onClick:()=>u("/admin"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-4 ml-4",children:"Back to Admin Dashboard"}),e.jsx("button",{onClick:w,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-4 ml-4",children:"Log Out"})]}):e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:`mb-4 border p-4 rounded ${s?"border-stone-600":"border-red-300"}`,children:[e.jsx("input",{type:"text",value:t[n].title,onChange:d=>a(n,"title",d.target.value),className:`border p-2 w-full mb-2 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Blog Title"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:`block mb-1 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Publish Date:"}),e.jsx("input",{type:"date",value:t[n].date.split("T")[0]||"",onChange:d=>a(n,"date",d.target.value),className:`border p-2 w-full ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`})]}),e.jsxs("p",{className:`text-sm italic mb-4 transition-colors duration-300 ease-in-out ${s?"text-stone-400":"text-stone-500"}`,children:["Last Edited:"," ",k(t[n].lastEdited)]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Content Blocks"}),t[n].blocks.map((d,h)=>e.jsxs("div",{className:"mb-4 border-t pt-2 mt-2 border-stone-400",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("label",{className:`mr-4 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Block Type:"}),e.jsxs("select",{value:d.type,onChange:r=>W(n,h,r.target.value),className:`border p-2 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,children:[e.jsx("option",{value:"paragraph",children:"Paragraph"}),e.jsx("option",{value:"list",children:"Numbered List"}),e.jsx("option",{value:"bullet",children:"Bullet Points"}),e.jsx("option",{value:"image",children:"Image"}),e.jsx("option",{value:"link",children:"Link"})]}),e.jsx("button",{onClick:()=>C(n,h),className:"ml-2 bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:t[n].blocks.length===1,children:"Remove Block"})]}),d.type==="paragraph"?e.jsx("textarea",{value:d.content,onChange:r=>D(n,h,r.target.value),className:`border p-2 w-full h-24 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Paragraph Content"}):d.type==="image"?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",value:d.content,onChange:r=>D(n,h,r.target.value),className:`border p-2 w-full ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Image URL (e.g., https://example.com/image.jpg)"}),d.content&&e.jsx("img",{src:d.content,alt:"Preview",className:"w-full max-w-xs rounded-lg shadow-md"})]}):d.type==="link"?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",value:d.content.url,onChange:r=>M(n,h,"url",r.target.value),className:`border p-2 w-full ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Link URL (e.g., https://example.com)"}),e.jsx("input",{type:"text",value:d.content.text,onChange:r=>M(n,h,"text",r.target.value),className:`border p-2 w-full ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Link Text (e.g., Click here)"})]}):e.jsxs("div",{children:[d.content.map((r,c)=>e.jsxs("div",{className:"flex mb-2",children:[e.jsx("input",{type:"text",value:r,onChange:g=>A(n,h,c,g.target.value),className:`border p-2 w-full mr-2 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Item ${c+1}`}),e.jsx("button",{onClick:()=>T(n,h,c),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:t[n].blocks[h].content.length===1,children:"Remove"})]},c)),e.jsx("button",{onClick:()=>S(n,h),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add List Item"})]})]},h)),e.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[e.jsx("button",{onClick:()=>m(n,"paragraph"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Paragraph"}),e.jsx("button",{onClick:()=>m(n,"list"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Numbered List"}),e.jsx("button",{onClick:()=>m(n,"bullet"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Bullet Points"}),e.jsx("button",{onClick:()=>m(n,"image"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 easement-in-out",children:"Add Image"}),e.jsx("button",{onClick:()=>m(n,"link"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Link"})]})]}),e.jsx("button",{onClick:()=>$(n),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2 mr-4",disabled:t.length===1,children:"Remove Post"}),e.jsx("button",{onClick:()=>b(null),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Back to List"})]}),e.jsx("button",{onClick:p,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mr-4",children:"Save Changes"}),e.jsx("button",{onClick:()=>u("/admin"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mr-4",children:"Back to Admin Dashboard"}),e.jsx("button",{onClick:w,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Log Out"})]})]})}function Ye(){const{isDarkMode:s}=o.useContext(_),[t,l]=o.useState([]),[n,b]=o.useState([]),[N,f]=o.useState(""),[u,p]=o.useState({categoryId:"",name:"",price:"",description:"",image:null}),[w,y]=o.useState(null),[$,a]=o.useState(null),[m,C]=o.useState(null),W=Z();o.useEffect(()=>{const r=Se(ue,c=>{c||W("/admin")});return()=>r()},[W]),o.useEffect(()=>{(async()=>{try{const g=(await X(K(V,"categories"))).docs.map(Q=>({id:Q.id,...Q.data()}));l(g);const I=(await X(K(V,"products"))).docs.map(Q=>({id:Q.id,...Q.data()}));b(I)}catch(c){C("Error fetching data from Firestore: "+c.message)}})()},[]);const D=async r=>{if(r.preventDefault(),!!N)try{const c=await ge(K(V,"categories"),{name:N});l([...t,{id:c.id,name:N}]),f("")}catch(c){C("Error adding category: "+c.message)}},M=async r=>{try{const c=re(V,"categories",r.id);await Oe(c,{name:r.name}),l(t.map(g=>g.id===r.id?{...g,name:r.name}:g)),y(null)}catch(c){C("Error updating category: "+c.message)}},S=async r=>{try{await ye(re(V,"categories",r)),l(t.filter(g=>g.id!==r));const c=n.filter(g=>g.categoryId===r);for(const g of c){if(g.image&&g.image!=="https://via.placeholder.com/80"){const R=g.image.split("/products%2F")[1].split("?")[0],I=Pe(Ee,`products/${decodeURIComponent(R)}`);await Re(I).catch(Q=>{C(`Error deleting image for product ${g.id}: `+Q.message)})}await ye(re(V,"products",g.id))}b(n.filter(g=>g.categoryId!==r))}catch(c){C("Error deleting category: "+c.message)}},T=async r=>{if(!r)return null;const c=Pe(Ee,`products/${r.name}`);return await dt(c,r),await ct(c)},A=r=>r.categoryId?r.name.trim()?r.description.trim()?!r.price||isNaN(r.price)||Number(r.price)<=0?"A valid price is required.":r.image?"":"An image is required.":"Description is required.":"Name is required.":"Category is required.",k=async r=>{r.preventDefault();const c=A(u);if(c){C(c);return}try{const g=await T(u.image),R=await ge(K(V,"products"),{categoryId:u.categoryId,name:u.name,price:parseFloat(u.price),description:u.description,image:g||"https://via.placeholder.com/80"});b([...n,{id:R.id,categoryId:u.categoryId,name:u.name,price:parseFloat(u.price),description:u.description,image:g||"https://via.placeholder.com/80"}]),p({categoryId:"",name:"",price:"",description:"",image:null}),C(null)}catch(g){C("Error adding product: "+g.message),alert("Failed to add product. Check Firebase Storage rules and ensure Storage is enabled.")}},L=async r=>{const c=A(r);if(c){C(c);return}try{const g=r.image instanceof File?await T(r.image):r.image,R=re(V,"products",r.id);await Oe(R,{categoryId:r.categoryId,name:r.name,price:parseFloat(r.price),description:r.description,image:g||"https://via.placeholder.com/80"}),b(n.map(I=>I.id===r.id?{...I,categoryId:r.categoryId,name:r.name,price:parseFloat(r.price),description:r.description,image:g||"https://via.placeholder.com/80"}:I)),a(null),C(null)}catch(g){C("Error updating product: "+g.message),alert("Failed to update product. Check Firebase Storage rules and ensure Storage is enabled.")}},d=async r=>{try{const c=n.find(g=>g.id===r);if(c.image&&c.image!=="https://via.placeholder.com/80"){const g=c.image.split("/products%2F")[1].split("?")[0],R=Pe(Ee,`products/${decodeURIComponent(g)}`);await Re(R).catch(I=>{C(`Error deleting image for product ${r}: `+I.message)})}await ye(re(V,"products",r)),b(n.filter(g=>g.id!==r)),C(null)}catch(c){C("Error deleting product: "+c.message)}},h=async()=>{try{await Me(ue),W("/admin")}catch(r){C("Failed to log out: "+r.message)}};return e.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${s?"bg-stone-900":"bg-stone-50"}`,children:[e.jsx("h1",{className:`text-4xl font-bold mb-6 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Admin - Manage Products"}),m&&e.jsx("p",{className:`text-red-500 mb-4 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-600"}`,children:m}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Add New Category"}),e.jsxs("form",{onSubmit:D,className:"flex gap-4",children:[e.jsx("input",{type:"text",value:N,onChange:r=>f(r.target.value),placeholder:"Category Name",className:`flex-1 px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`}),e.jsx("button",{type:"submit",className:"bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Category"})]})]}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Manage Categories"}),e.jsx("div",{className:"space-y-4",children:t.map(r=>e.jsx("div",{className:`p-4 border rounded-md ${s?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:(w==null?void 0:w.id)===r.id?e.jsxs("div",{className:"flex gap-4",children:[e.jsx("input",{type:"text",value:w.name,onChange:c=>y({...w,name:c.target.value}),className:`flex-1 px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`}),e.jsx("button",{onClick:()=>M(w),className:"bg-green-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-green-700 transition-colors duration-300 ease-in-out",children:"Save"}),e.jsx("button",{onClick:()=>y(null),className:"bg-gray-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-gray-700 transition-colors duration-300 ease-in-out",children:"Cancel"})]}):e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`text-lg font-medium ${s?"text-white":"text-red-600"}`,children:r.name}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>y(r),className:"bg-blue-600 text-white px-4 py-1 rounded-md font-semibold hover:bg-blue-700 transition-colors duration-300 ease-in-out",children:"Edit"}),e.jsx("button",{onClick:()=>S(r.id),className:"bg-red-600 text-white px-4 py-1 rounded-md font-semibold hover:bg-red-700 transition-colors duration-300 ease-in-out",children:"Delete"})]})]})},r.id))})]}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Add New Product"}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Category"}),e.jsxs("select",{value:u.categoryId,onChange:r=>p({...u,categoryId:r.target.value}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,children:[e.jsx("option",{value:"",children:"Select a category"}),t.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Name"}),e.jsx("input",{type:"text",value:u.name,onChange:r=>p({...u,name:r.target.value}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Product Name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Price"}),e.jsx("input",{type:"number",step:"0.01",value:u.price,onChange:r=>p({...u,price:r.target.value}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Price (e.g., 29.99)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Description"}),e.jsx("textarea",{value:u.description,onChange:r=>p({...u,description:r.target.value}),rows:"3",className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-purple-300 text-purple-600 focus:ring-purple-500"}`,placeholder:"Product Description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:r=>p({...u,image:r.target.files[0]}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),e.jsx("button",{type:"submit",className:"bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out w-full",children:"Add Product"})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Manage Products"}),e.jsx("div",{className:"space-y-4",children:n.map(r=>{var c;return e.jsx("div",{className:`p-4 border rounded-md ${s?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:($==null?void 0:$.id)===r.id?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Category"}),e.jsxs("select",{value:$.categoryId,onChange:g=>a({...$,categoryId:g.target.value}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,children:[e.jsx("option",{value:"",children:"Select a category"}),t.map(g=>e.jsx("option",{value:g.id,children:g.name},g.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Name"}),e.jsx("input",{type:"text",value:$.name,onChange:g=>a({...$,name:g.target.value}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Price"}),e.jsx("input",{type:"number",step:"0.01",value:$.price,onChange:g=>a({...$,price:g.target.value}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Description"}),e.jsx("textarea",{value:$.description,onChange:g=>a({...$,description:g.target.value}),rows:"3",className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:g=>a({...$,image:g.target.files[0]}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`}),$.image&&typeof $.image=="string"&&e.jsx("img",{src:$.image,alt:"Current product",className:"w-32 h-32 object-cover mt-2 rounded-md"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>L($),className:"bg-green-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-green-700 transition-colors duration-300 ease-in-out w-full",children:"Save"}),e.jsx("button",{onClick:()=>a(null),className:"bg-gray-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-gray-700 transition-colors duration-300 ease-in-out w-full",children:"Cancel"})]})]}):e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[r.image&&r.image!=="https://via.placeholder.com/80"&&e.jsx("img",{src:r.image,alt:r.name,className:"w-16 h-16 object-cover rounded-md"}),e.jsxs("div",{children:[e.jsx("span",{className:`text-lg font-medium ${s?"text-white":"text-red-600"}`,children:r.name}),e.jsxs("p",{className:`text-sm ${s?"text-stone-300":"text-stone-600"}`,children:["Category:"," ",((c=t.find(g=>g.id===r.categoryId))==null?void 0:c.name)||"Unknown"]}),e.jsxs("p",{className:`text-sm ${s?"text-stone-300":"text-stone-600"}`,children:["Price: $",r.price.toFixed(2)]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>a(r),className:"bg-blue-600 text-white px-4 py-1 rounded-md font-semibold hover:bg-blue-700 transition-colors duration-300 ease-in-out",children:"Edit"}),e.jsx("button",{onClick:()=>d(r.id),className:"bg-red-600 text-white px-4 py-1 rounded-md font-semibold hover:bg-red-700 transition-colors duration-300 ease-in-out",children:"Delete"})]})]})},r.id)})})]}),e.jsxs("div",{className:"mt-6 flex gap-4",children:[e.jsx("button",{onClick:()=>W("/admin"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Admin Dashboard"}),e.jsx("button",{onClick:h,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Log Out"})]})]})}console.log("AdminPage.jsx: Loading AdminPage component");function It(){const{isDarkMode:s}=o.useContext(_),{user:t,loading:l}=o.useContext(le),n=Z(),b=fe();console.log("AdminPage.jsx: AdminPage rendering. User:",t?"Authenticated":"Not Authenticated","Loading:",l),console.log("AdminPage.jsx: Current location in AdminPage:",b.pathname,b.hash),o.useEffect(()=>{console.log("AdminPage.jsx: Auth check useEffect triggered. User:",t,"Loading:",l),!l&&!t?console.log("AdminPage.jsx: User not authenticated, navigating to login"):!l&&t&&console.log("AdminPage.jsx: User authenticated:",t)},[t,l,n]);const[N,f]=o.useState(""),[u,p]=o.useState(""),[w,y]=o.useState(!1),[$,a]=o.useState(null);o.useEffect(()=>{const C=Se(ue,W=>{y(!!W)});return()=>C()},[]);const m=async C=>{C.preventDefault(),a(null);try{await ut(ue,N,u),y(!0)}catch(W){a("Failed to log in: "+W.message)}};return console.log("AdminPage.jsx: Render login form or admin content. User:",t),l?(console.log("AdminPage.jsx: Still loading auth state..."),e.jsx("div",{className:"text-center py-8",children:"Loading authentication status..."})):t?(console.log("AdminPage.jsx: Rendering admin content"),e.jsx(He,{children:e.jsxs(ze,{children:[e.jsx(U,{path:"/",element:e.jsx(Le,{})}),e.jsx(U,{path:"/home",element:e.jsx(Le,{})}),e.jsx(U,{path:"/blog",element:e.jsx(Ve,{})}),e.jsx(U,{path:"/products",element:e.jsx(Ye,{})})]})})):(console.log("AdminPage.jsx: Rendering login form"),e.jsx("div",{className:`min-h-screen flex items-center justify-center ${s?"bg-stone-900":"bg-white"}`,children:e.jsxs("div",{className:`p-6 ${s?"bg-stone-800":"bg-stone-100"} rounded shadow`,children:[e.jsx("h2",{className:`text-2xl transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"} mb-4`,children:"Admin Login"}),$&&e.jsx("p",{className:`text-red-500 mb-4 ${s?"text-red-400":"text-red-600"}`,children:$}),e.jsxs("form",{onSubmit:m,children:[e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"email",value:N,onChange:C=>f(C.target.value),className:`border p-2 w-full mb-4 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Enter email",required:!0})}),e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"password",value:u,onChange:C=>p(C.target.value),className:`border p-2 w-full mb-4 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Enter password",required:!0})}),e.jsx("button",{type:"submit",className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Login"})]})]})}))}const _t=()=>{const s=Z(),{isDarkMode:t}=o.useContext(_),l=()=>{s("/fitness-tracker/create-custom-plan")};return e.jsx("div",{className:`min-h-screen pt-20 ${t?"bg-stone-900 text-red-400":"bg-white text-red-800"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-10",children:[e.jsx("h1",{className:`text-4xl font-bold text-center mb-8 ${t?"text-red-400":"text-red-800"}`,children:"Fitness Tracker"}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:`p-6 rounded-lg shadow-md mb-6 ${t?"bg-stone-800":"bg-red-50"}`,children:[e.jsx("h2",{className:`text-2xl font-semibold text-center mb-4 ${t?"text-red-400":"text-red-800"}`,children:"Create a Custom Plan"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:l,className:"px-6 py-2 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:"Create Custom Plan"})})]}),e.jsxs("div",{className:`p-6 rounded-lg shadow-md ${t?"bg-stone-800":"bg-red-50"}`,children:[e.jsx("h2",{className:`text-2xl font-semibold text-center mb-4 ${t?"text-red-400":"text-red-800"}`,children:"Track Your Progress"}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx(J,{to:"/fitness-tracker/log",className:"px-6 py-2 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:"Log Meals & Workouts"}),e.jsx(J,{to:"/fitness-tracker/history",className:"px-6 py-2 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:"View History"})]})]})]})]})})},qt=()=>{const{id:s}=we(),{isDarkMode:t}=o.useContext(_),[l,n]=o.useState(null),[b,N]=o.useState(!0);o.useEffect(()=>{(async()=>{const w=me(),y=await je(re(w,"customPlans",s));y.exists()&&n({id:y.id,...y.data()}),N(!1)})()},[s]);const f=p=>{if(!(l!=null&&l.startDate))return"";const w=new Date(l.startDate);return w.setDate(w.getDate()+p*7),w.toLocaleDateString()},u=(p,w)=>{if(!(l!=null&&l.startDate))return"";const y=new Date(l.startDate);return y.setDate(y.getDate()+p*7+w),y.toLocaleDateString()};return b?e.jsx("div",{className:`min-h-screen pt-20 flex items-center justify-center ${t?"bg-stone-900 text-red-400":"bg-white text-red-800"}`,children:e.jsx("p",{className:"text-xl",children:"Loading..."})}):l?e.jsx("div",{className:`min-h-screen pt-20 ${t?"bg-stone-900 text-red-400":"bg-white text-red-800"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-10",children:[e.jsx("h1",{className:`text-4xl font-bold text-center mb-8 ${t?"text-red-400":"text-red-800"}`,children:l.name}),e.jsx("div",{className:"max-w-4xl mx-auto",children:l.weeks.map((p,w)=>e.jsxs("div",{className:`mb-8 p-6 rounded-lg shadow-md ${t?"bg-stone-800":"bg-red-50"}`,children:[e.jsxs("h2",{className:`text-2xl font-semibold mb-4 ${t?"text-red-400":"text-red-800"}`,children:["Week ",p.week," (",f(w),")"]}),p.days.map((y,$)=>e.jsxs("div",{className:`border p-4 rounded-md mb-4 ${t?"border-stone-600":"border-red-200"}`,children:[e.jsxs("h3",{className:`text-xl font-semibold mb-2 ${t?"text-red-400":"text-red-800"}`,children:[y.day," (",u(w,$),")"]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("h4",{className:`font-semibold mb-1 ${t?"text-red-400":"text-red-800"}`,children:"Workouts:"}),e.jsx("ul",{className:"list-disc pl-5",children:y.workouts.map((a,m)=>e.jsxs("li",{children:[a.name,": ",a.sets," sets x ",a.reps," ","reps"]},m))})]})]},$))]},w))})]})}):e.jsx("div",{className:`min-h-screen pt-20 flex items-center justify-center ${t?"bg-stone-900 text-red-400":"bg-white text-red-800"}`,children:e.jsx("p",{className:"text-xl",children:"Plan not found."})})},Gt=()=>{const s=Z(),{isDarkMode:t}=o.useContext(_),[l,n]=o.useState(""),[b,N]=o.useState(new Date().toISOString().split("T")[0]),[f,u]=o.useState([]),[p,w]=o.useState({}),[y,$]=o.useState(Array.from({length:6},(A,k)=>({week:k+1,days:[{day:"Monday",workouts:[]},{day:"Tuesday",workouts:[]},{day:"Wednesday",workouts:[]},{day:"Thursday",workouts:[]},{day:"Friday",workouts:[]},{day:"Saturday",workouts:[]},{day:"Sunday",workouts:[]}]}))),[a,m]=o.useState(Array(6).fill(!1));o.useEffect(()=>{(async()=>{const k=me(),d=(await X(K(k,"workouts"))).docs.map(r=>({id:r.id,...r.data()})),h=d.reduce((r,c)=>{const g=c.muscleGroup||"Other";return r[g]||(r[g]=[]),r[g].push(c),r},{});u(d),w(h)})()},[]);const C=A=>{const k=[...a];k[A]=!k[A],m(k)},W=(A,k)=>{var d;const L=[...y];L[A].days[k].workouts.push({name:((d=f[0])==null?void 0:d.name)||"",sets:3,reps:10}),$(L)},D=(A,k,L,d,h)=>{const r=[...y];r[A].days[k].workouts[L][d]=h,$(r)},M=async A=>{A.preventDefault();const k=me(),L={userId:"anonymous",name:l,startDate:new Date(b).toISOString(),weeks:y},d=await ge(K(k,"customPlans"),L);s(`/fitness-tracker/plan/${d.id}`)},S=A=>{const k=new Date(b);return k.setDate(k.getDate()+A*7),k.toLocaleDateString()},T=(A,k)=>{const L=new Date(b);return L.setDate(L.getDate()+A*7+k),L.toLocaleDateString()};return e.jsx("div",{className:`min-h-screen pt-20 ${t?"bg-stone-900 text-red-400":"bg-white text-red-800"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-10",children:[e.jsx("h1",{className:`text-4xl font-bold text-center mb-8 ${t?"text-red-400":"text-red-800"}`,children:"Create Custom Plan"}),e.jsxs("form",{onSubmit:M,children:[e.jsx("div",{className:`mb-8 p-6 rounded-lg shadow-md ${t?"bg-stone-800":"bg-red-50"}`,children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-xl font-semibold mb-2 ${t?"text-red-400":"text-red-800"}`,children:"Plan Name"}),e.jsx("input",{type:"text",value:l,onChange:A=>n(A.target.value),className:`w-full p-3 border rounded-md focus:outline-none focus:ring-2 ${t?"bg-stone-800 border-stone-600 text-red-400 focus:ring-red-800":"bg-white border-red-200 text-red-800 focus:ring-red-800"}`,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-xl font-semibold mb-2 ${t?"text-red-400":"text-red-800"}`,children:"Start Date"}),e.jsx("input",{type:"date",value:b,onChange:A=>N(A.target.value),className:`w-full p-3 border rounded-md focus:outline-none focus:ring-2 ${t?"bg-stone-800 border-stone-600 text-red-400 focus:ring-red-800":"bg-white border-red-200 text-red-800 focus:ring-red-800"}`,required:!0})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:y.map((A,k)=>e.jsxs("div",{className:`p-6 rounded-lg shadow-md ${t?"bg-stone-800":"bg-red-50"}`,children:[e.jsxs("div",{className:`flex justify-between items-center cursor-pointer p-2 rounded-md transition-colors duration-200 ${t?"hover:bg-stone-700":"hover:bg-red-100"}`,onClick:()=>C(k),children:[e.jsxs("h2",{className:`text-2xl font-semibold ${t?"text-red-400":"text-red-800"}`,children:["Week ",A.week," (",S(k),")"]}),a[k]?e.jsx(Fe,{className:`w-6 h-6 ${t?"text-red-400":"text-red-800"}`}):e.jsx(We,{className:`w-6 h-6 ${t?"text-red-400":"text-red-800"}`})]}),a[k]&&e.jsx("div",{className:"mt-4",children:A.days.map((L,d)=>e.jsxs("div",{className:`border p-4 rounded-md mb-4 ${t?"border-stone-600":"border-red-200"}`,children:[e.jsxs("h3",{className:`text-xl font-semibold mb-2 ${t?"text-red-400":"text-red-800"}`,children:[L.day," (",T(k,d),")"]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:`text-base font-semibold mb-2 ${t?"text-red-400":"text-red-800"}`,children:"Workouts:"}),L.workouts.length>0?L.workouts.map((h,r)=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 mb-3",children:[e.jsx("select",{value:h.name,onChange:c=>D(k,d,r,"name",c.target.value),className:`w-full sm:w-1/3 p-2 border rounded-md focus:outline-none focus:ring-2 mb-2 sm:mb-0 ${t?"bg-stone-800 border-stone-600 text-red-400 focus:ring-red-800":"bg-white border-red-200 text-red-800 focus:ring-red-800"}`,children:Object.keys(p).map(c=>e.jsx("optgroup",{label:c,children:p[c].map(g=>e.jsx("option",{value:g.name,children:g.name},g.id))},c))}),e.jsx("input",{type:"number",value:h.sets,onChange:c=>D(k,d,r,"sets",Number(c.target.value)),className:`w-full sm:w-20 p-2 border rounded-md focus:outline-none focus:ring-2 mb-2 sm:mb-0 ${t?"bg-stone-800 border-stone-600 text-red-400 focus:ring-red-800":"bg-white border-red-200 text-red-800 focus:ring-red-800"}`,placeholder:"Sets"}),e.jsx("input",{type:"text",value:h.reps,onChange:c=>D(k,d,r,"reps",c.target.value),className:`w-full sm:w-20 p-2 border rounded-md focus:outline-none focus:ring-2 ${t?"bg-stone-800 border-stone-600 text-red-400 focus:ring-red-800":"bg-white border-red-200 text-red-800 focus:ring-red-800"}`,placeholder:"Reps"})]},r)):e.jsx("p",{className:`text-sm italic ${t?"text-red-400":"text-red-800"}`,children:"No workouts added yet."}),e.jsx("button",{type:"button",onClick:()=>W(k,d),className:"mt-2 w-full p-2 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:"Add Workout"})]})]},d))})]},k))}),e.jsx("div",{className:"mt-8 max-w-md mx-auto",children:e.jsx("button",{type:"submit",className:"w-full p-3 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:"Save Plan"})})]})]})})},zt=()=>{const s=Z(),{isDarkMode:t}=o.useContext(_),{user:l,loading:n}=o.useContext(le),[b,N]=o.useState([]),[f,u]=o.useState([]),[p,w]=o.useState([]),[y,$]=o.useState([]),[a,m]=o.useState(new Date().toISOString().split("T")[0]);o.useEffect(()=>{(async()=>{try{const d=me(),h=await X(K(d,"workouts")),r=await X(K(d,"foods")),c=h.docs.map(R=>({id:R.id,...R.data()})),g=r.docs.map(R=>({id:R.id,...R.data()}));console.log("Fetched workouts from 'workouts' collection:",c),console.log("Fetched meals from 'foods' collection:",g),N(c),u(g),c.length===0&&console.warn("No workouts found in Firestore 'workouts' collection."),g.length===0&&console.warn("No meals found in Firestore 'foods' collection.")}catch(d){console.error("Error fetching data:",d)}})()},[]);const C=f.reduce((L,d)=>{const h=d.category||"Misc";return L[h]||(L[h]=[]),L[h].push(d),L},{}),W=["Meat","Fruit","Vegetable","Starch","Misc"],D=()=>{if(b.length===0){alert("No workouts available to add. Please add workouts in Firestore.");return}w([...p,{name:b[0].name,sets:0,reps:0}])},M=(L,d,h)=>{const r=[...p];r[L][d]=d==="sets"||d==="reps"?Number(h):h,w(r)},S=()=>{if(f.length===0){alert("No meals available to add. Please add meals in Firestore.");return}$([...y,{name:f[0].name,quantity:1}])},T=(L,d,h)=>{const r=[...y];r[L][d]=d==="quantity"?Number(h):h,$(r)},A=L=>{const d=f.find(h=>h.name===L.name);return d?{protein:d.macros.protein*L.quantity,carbs:d.macros.carbs*L.quantity,fats:d.macros.fats*L.quantity}:{protein:0,carbs:0,fats:0}},k=async L=>{if(L.preventDefault(),!l){alert("Please log in to save a fitness log."),s("/login");return}const d=me(),h={userId:l.uid,date:new Date(a).toISOString(),workouts:p,meals:y.map(r=>({...r,macros:A(r)}))};await ge(K(d,"userLogs"),h),s("/fitness-tracker/history")};return n?e.jsx("div",{className:"container mx-auto px-4 py-10",children:"Loading..."}):e.jsxs("div",{className:"container mx-auto px-4 py-10",children:[e.jsx("h1",{className:`text-4xl font-bold text-center mb-8 ${t?"text-red-400":"text-red-800"}`,children:"Log Fitness"}),e.jsxs("form",{onSubmit:k,className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:`mb-8 p-6 rounded-lg shadow-md ${t?"bg-stone-800":"bg-red-50"}`,children:[e.jsx("label",{className:`block text-xl font-semibold mb-2 ${t?"text-red-400":"text-red-800"}`,children:"Date"}),e.jsx("input",{type:"date",value:a,onChange:L=>m(L.target.value),className:`w-full p-3 border rounded-md focus:outline-none focus:ring-2 ${t?"bg-stone-800 border-stone-600 text-red-400 focus:ring-red-800":"bg-white border-red-200 text-red-800 focus:ring-red-800"}`,required:!0})]}),e.jsxs("div",{className:`mb-8 p-6 rounded-lg shadow-md ${t?"bg-stone-800":"bg-red-50"}`,children:[e.jsx("h2",{className:`text-2xl font-semibold mb-4 ${t?"text-red-400":"text-red-800"}`,children:"Workouts"}),b.length===0?e.jsx("p",{className:`text-sm italic ${t?"text-red-400":"text-red-800"}`,children:"No workouts available. Please add workouts in Firestore."}):p.length>0?p.map((L,d)=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 mb-3",children:[e.jsx("select",{value:L.name,onChange:h=>M(d,"name",h.target.value),className:`w-full sm:w-1/3 p-2 border rounded-md focus:outline-none focus:ring-2 mb-2 sm:mb-0 ${t?"bg-stone-800 border-stone-600 text-red-400 focus:ring-red-800":"bg-white border-red-200 text-red-800 focus:ring-red-800"}`,children:b.map(h=>e.jsx("option",{value:h.name,children:h.name},h.id))}),e.jsx("input",{type:"number",value:L.sets,onChange:h=>M(d,"sets",h.target.value),className:`w-full sm:w-24 p-2 border rounded-md focus:outline-none focus:ring-2 mb-2 sm:mb-0 ${t?"bg-stone-800 border-stone-600 text-red-400 focus:ring-red-800":"bg-white border-red-200 text-red-800 focus:ring-red-800"}`,placeholder:"Sets"}),e.jsx("input",{type:"number",value:L.reps,onChange:h=>M(d,"reps",h.target.value),className:`w-full sm:w-24 p-2 border rounded-md focus:outline-none focus:ring-2 ${t?"bg-stone-800 border-stone-600 text-red-400 focus:ring-red-800":"bg-white border-red-200 text-red-800 focus:ring-red-800"}`,placeholder:"Reps"})]},d)):e.jsx("p",{className:`text-sm italic ${t?"text-red-400":"text-red-800"}`,children:"No workouts added yet."}),e.jsx("button",{type:"button",onClick:D,className:"mt-2 px-4 py-2 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:"Add Workout"})]}),e.jsxs("div",{className:`mb-8 p-6 rounded-lg shadow-md ${t?"bg-stone-800":"bg-red-50"}`,children:[e.jsx("h2",{className:`text-2xl font-semibold mb-4 ${t?"text-red-400":"text-red-800"}`,children:"Meals"}),f.length===0?e.jsx("p",{className:`text-sm italic ${t?"text-red-400":"text-red-800"}`,children:"No meals available. Please add meals in Firestore."}):y.length>0?y.map((L,d)=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 mb-3",children:[e.jsx("select",{value:L.name,onChange:h=>T(d,"name",h.target.value),className:`w-full sm:w-1/3 p-2 border rounded-md focus:outline-none focus:ring-2 mb-2 sm:mb-0 ${t?"bg-stone-800 border-stone-600 text-red-400 focus:ring-red-800":"bg-white border-red-200 text-red-800 focus:ring-red-800"}`,children:W.map(h=>C[h]&&e.jsx("optgroup",{label:h,children:C[h].map(r=>e.jsx("option",{value:r.name,children:r.name},r.id))},h))}),e.jsx("input",{type:"number",value:L.quantity,onChange:h=>T(d,"quantity",h.target.value),className:`w-full sm:w-24 p-2 border rounded-md focus:outline-none focus:ring-2 ${t?"bg-stone-800 border-stone-600 text-red-400 focus:ring-red-800":"bg-white border-red-200 text-red-800 focus:ring-red-800"}`,placeholder:"Quantity"})]},d)):e.jsx("p",{className:`text-sm italic ${t?"text-red-400":"text-red-800"}`,children:"No meals added yet."}),e.jsx("button",{type:"button",onClick:S,className:"mt-2 px-4 py-2 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:"Add Meal"})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"submit",className:"px-6 py-2 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:"Save Log"})})]})]})},Ht=()=>{const{isDarkMode:s}=o.useContext(_),[t,l]=o.useState([]);return o.useEffect(()=>{(async()=>{const b=me(),f=(await X(K(b,"userLogs"))).docs.map(u=>({id:u.id,...u.data()}));l(f.sort((u,p)=>new Date(p.date)-new Date(u.date)))})()},[]),e.jsx("div",{className:`min-h-screen pt-20 ${s?"bg-stone-900 text-red-400":"bg-white text-red-800"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-10",children:[e.jsx("h1",{className:`text-4xl font-bold text-center mb-8 ${s?"text-red-400":"text-red-800"}`,children:"Fitness History"}),e.jsx("div",{className:"max-w-2xl mx-auto",children:t.length>0?t.map(n=>e.jsxs("div",{className:`border p-6 rounded-lg shadow-md mb-6 ${s?"border-stone-600 bg-stone-800":"border-red-200 bg-red-50"}`,children:[e.jsx("h2",{className:`text-xl font-semibold mb-2 ${s?"text-red-400":"text-red-800"}`,children:new Date(n.date).toLocaleDateString()}),e.jsxs("div",{className:"mt-2",children:[e.jsx("h3",{className:`font-semibold mb-1 ${s?"text-red-400":"text-red-800"}`,children:"Workouts:"}),e.jsx("ul",{className:"list-disc pl-5",children:n.workouts.map((b,N)=>e.jsxs("li",{children:[b.name,": ",b.sets," sets x ",b.reps," ","reps"]},N))})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("h3",{className:`font-semibold mb-1 ${s?"text-red-400":"text-red-800"}`,children:"Meals:"}),e.jsx("ul",{className:"list-disc pl-5",children:n.meals.map((b,N)=>e.jsxs("li",{children:[b.name," (",b.quantity,"g): Protein"," ",b.macros.protein.toFixed(1),"g, Carbs"," ",b.macros.carbs.toFixed(1),"g, Fats"," ",b.macros.fats.toFixed(1),"g"]},N))})]})]},n.id)):e.jsx("p",{className:`text-center text-lg ${s?"text-red-400":"text-red-800"}`,children:"No logs found."})})]})})},Jt=()=>{const s=Z(),{isDarkMode:t}=o.useContext(_),{user:l,loading:n}=o.useContext(le),[b,N]=o.useState(""),[f,u]=o.useState(new Date().toISOString().split("T")[0]),[p,w]=o.useState([]),[y,$]=o.useState([]),[a,m]=o.useState(!0),[C,W]=o.useState(!0),[D,M]=o.useState(null),[S,T]=o.useState(null),[A,k]=o.useState(Array.from({length:6},(i,x)=>({week:x+1,days:[{day:"Monday",meals:[],macros:{protein:0,carbs:0,fats:0},loggedMeals:{Breakfast:[],Lunch:[],Dinner:[],Snacks:[]}},{day:"Tuesday",meals:[],macros:{protein:0,carbs:0,fats:0},loggedMeals:{Breakfast:[],Lunch:[],Dinner:[],Snacks:[]}},{day:"Wednesday",meals:[],macros:{protein:0,carbs:0,fats:0},loggedMeals:{Breakfast:[],Lunch:[],Dinner:[],Snacks:[]}},{day:"Thursday",meals:[],macros:{protein:0,carbs:0,fats:0},loggedMeals:{Breakfast:[],Lunch:[],Dinner:[],Snacks:[]}},{day:"Friday",meals:[],macros:{protein:0,carbs:0,fats:0},loggedMeals:{Breakfast:[],Lunch:[],Dinner:[],Snacks:[]}},{day:"Saturday",meals:[],macros:{protein:0,carbs:0,fats:0},loggedMeals:{Breakfast:[],Lunch:[],Dinner:[],Snacks:[]}},{day:"Sunday",meals:[],macros:{protein:0,carbs:0,fats:0},loggedMeals:{Breakfast:[],Lunch:[],Dinner:[],Snacks:[]}}]}))),[L,d]=o.useState(Array(6).fill(!1)),[h,r]=o.useState(null);o.useEffect(()=>{(async()=>{try{m(!0),M(null);const{data:x,error:E}=await te.from("foods").select("*");if(E)throw E;console.log("Fetched meals from Supabase 'foods' table:",x),w(x),x.length===0&&console.warn("No meals found in Supabase 'foods' table.")}catch(x){console.error("Error fetching meals:",x),M("Failed to load meals. Please try again later.")}finally{m(!1)}})()},[]),o.useEffect(()=>{(async()=>{if(l)try{W(!0),T(null);const{data:x,error:E}=await te.from("nutrition_plans").select("*").eq("user_id",l.id);if(E)throw E;console.log("Fetched nutrition plans from Supabase:",x),$(x)}catch(x){console.error("Error fetching nutrition plans:",x),T("Failed to load your nutrition plans. Please try again later.")}finally{W(!1)}})()},[l]);const c=p.reduce((i,x)=>{const E=x.category||"Misc";return i[E]||(i[E]=[]),i[E].push(x),i},{}),g=["Meat","Fruit","Vegetable","Starch","Misc"],R=["Breakfast","Lunch","Dinner","Snacks"],I=i=>{const x=[...L];x[i]=!x[i],d(x)},Q=(i,x)=>{if(p.length===0){alert("No meals available to add. Please add meals in Supabase.");return}const E=[...A];E[i].days[x].meals.push({name:p[0].name,grams:p[0].portion||100,referencePortion:p[0].portion||100,macros:p[0].macros,mealTime:"Breakfast"}),k(E)},G=(i,x,E,O,B)=>{const H=[...A],q=H[i].days[x].meals[E];if(O==="name"){const oe=p.find(ve=>ve.name===B);q.name=B,q.grams=oe.portion||100,q.referencePortion=oe.portion||100,q.macros=oe.macros}else q[O]=O==="grams"?Number(B):B;k(H)},ae=(i,x,E,O)=>{const B=[...A];B[i].days[x].macros[E]=Number(O),k(B)},ee=(i,x)=>{const E=[...A],O=E[i].days[x],B={...O.meals[O.meals.length-1]};B.name&&(O.loggedMeals[B.mealTime].push(B),O.meals[O.meals.length-1]={name:p[0].name,grams:p[0].portion||100,referencePortion:p[0].portion||100,macros:p[0].macros,mealTime:"Breakfast"},k(E))},de=(i,x,E,O,B)=>{r({weekIndex:i,dayIndex:x,mealTime:E,mealIndex:O,meal:B})},j=()=>{if(!h)return;const{weekIndex:i,dayIndex:x,mealTime:E,mealIndex:O,meal:B}=h,H=[...A];H[i].days[x].loggedMeals[E][O]=B,k(H),r(null)},F=(i,x,E,O)=>{const B=[...A];B[i].days[x].loggedMeals[E].splice(O,1),k(B)},z=i=>Object.values(i).flat().reduce((E,O)=>{const B=O.grams/O.referencePortion;return{protein:E.protein+O.macros.protein*B,carbs:E.carbs+O.macros.carbs*B,fats:E.fats+O.macros.fats*B}},{protein:0,carbs:0,fats:0}),Y=(i,x)=>({protein:i.protein>=x.protein,carbs:i.carbs>=x.carbs,fats:i.fats>=x.fats}),ce=i=>{const x=new Date(f);return x.setDate(x.getDate()+i*7),x.toLocaleDateString()},P=(i,x)=>{const E=new Date(f);return E.setDate(E.getDate()+i*7+x),E.toLocaleDateString()},v=async i=>{if(i.preventDefault(),!l){alert("Please log in to save a nutrition plan."),s("/login");return}try{const x={user_id:l.id,name:b,start_date:new Date(f).toISOString().split("T")[0],weeks:JSON.stringify(A)},{data:E,error:O}=await te.from("nutrition_plans").insert(x).select();if(O)throw O;s(`/nutrition-plan/${E[0].id}`)}catch(x){console.error("Error saving nutrition plan:",x),alert("Failed to save nutrition plan. Please try again.")}};return n?e.jsx("div",{className:"container mx-auto px-4 py-10 text-center text-lg",children:e.jsx(pe,{color:t?"#f87171":"#b91c1c"})}):a||C?e.jsx("div",{className:"container mx-auto px-4 py-10 text-center text-lg",children:e.jsx(pe,{color:t?"#f87171":"#b91c1c"})}):D?e.jsx("div",{className:"container mx-auto px-4 py-10 text-center text-lg text-red-500",children:D}):e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsx("h1",{className:`text-4xl md:text-5xl font-extrabold text-center mb-10 tracking-tight ${t?"text-red-400":"text-red-800"}`,children:"Create Your Nutrition Plan"}),S?e.jsx("div",{className:"text-center text-red-500 mb-12",children:S}):y.length>0?e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:`text-3xl font-bold mb-6 ${t?"text-red-400":"text-red-800"} tracking-tight`,children:"Your Nutrition Plans"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(i=>e.jsxs("div",{className:`p-6 rounded-xl shadow-lg cursor-pointer transition-all duration-200 ${t?"bg-stone-800/90 hover:bg-stone-700":"bg-red-50/90 hover:bg-red-100"} border ${t?"border-stone-700":"border-red-200"}`,onClick:()=>s(`/nutrition-plan/${i.id}`),children:[e.jsx("h3",{className:`text-xl font-semibold ${t?"text-red-400":"text-red-800"} tracking-tight`,children:i.name}),e.jsxs("p",{className:`text-sm mt-2 ${t?"text-stone-400":"text-stone-600"}`,children:["Start Date: ",i.start_date]})]},i.id))})]}):e.jsx("div",{className:"text-center text-lg mb-12",children:"No nutrition plans yet. Create one below!"}),e.jsxs("form",{onSubmit:v,children:[e.jsx("div",{className:`mb-10 p-6 rounded-xl shadow-lg ${t?"bg-stone-800/90":"bg-red-50/90"} backdrop-blur-sm border ${t?"border-stone-700":"border-red-200"}`,children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-lg font-semibold mb-2 ${t?"text-red-400":"text-red-800"} tracking-wide`,children:"Plan Name"}),e.jsx("input",{type:"text",value:b,onChange:i=>N(i.target.value),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"} placeholder-stone-400`,placeholder:"Enter plan name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-lg font-semibold mb-2 ${t?"text-red-400":"text-red-800"} tracking-wide`,children:"Start Date"}),e.jsx("input",{type:"date",value:f,onChange:i=>u(i.target.value),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"}`,required:!0})]})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:A.map((i,x)=>e.jsxs("div",{className:`p-6 rounded-xl shadow-lg ${t?"bg-stone-800/90":"bg-red-50/90"} backdrop-blur-sm border ${t?"border-stone-700":"border-red-200"} transition-all duration-300`,children:[e.jsxs("div",{className:`flex justify-between items-center cursor-pointer p-4 rounded-lg transition-colors duration-200 ${t?"hover:bg-stone-700":"hover:bg-red-100"}`,onClick:()=>I(x),children:[e.jsxs("h2",{className:`text-2xl font-bold ${t?"text-red-400":"text-red-800"} tracking-tight`,children:["Week ",i.week," ",e.jsxs("span",{className:"text-sm font-normal",children:["(",ce(x),")"]})]}),L[x]?e.jsx(Fe,{className:`w-6 h-6 ${t?"text-red-400":"text-red-800"} transition-transform duration-200`}):e.jsx(We,{className:`w-6 h-6 ${t?"text-red-400":"text-red-800"} transition-transform duration-200`})]}),L[x]&&e.jsx("div",{className:"mt-6 space-y-6",children:i.days.map((E,O)=>e.jsxs("div",{className:`border p-6 rounded-lg ${t?"border-stone-600 bg-stone-700/50":"border-red-200 bg-white/50"} transition-all duration-200`,children:[e.jsxs("h3",{className:`text-xl font-semibold mb-4 ${t?"text-red-400":"text-red-800"} tracking-tight`,children:[E.day," ",e.jsxs("span",{className:"text-sm font-normal",children:["(",P(x,O),")"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:`text-lg font-semibold mb-3 ${t?"text-red-400":"text-red-800"} tracking-wide`,children:"Macro Goals"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-red-400":"text-red-800"}`,children:"Protein (g)"}),e.jsx("input",{type:"number",value:E.macros.protein,onChange:B=>ae(x,O,"protein",B.target.value),className:`w-full p-2 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-red-400":"text-red-800"}`,children:"Carbs (g)"}),e.jsx("input",{type:"number",value:E.macros.carbs,onChange:B=>ae(x,O,"carbs",B.target.value),className:`w-full p-2 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-red-400":"text-red-800"}`,children:"Fats (g)"}),e.jsx("input",{type:"number",value:E.macros.fats,onChange:B=>ae(x,O,"fats",B.target.value),className:`w-full p-2 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"}`})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:`text-lg font-semibold mb-3 ${t?"text-red-400":"text-red-800"} tracking-wide`,children:"Plan a Meal"}),p.length===0?e.jsx("p",{className:`text-sm italic ${t?"text-red-400":"text-red-800"}`,children:"No meals available. Please add meals in Supabase."}):E.meals.length>0?E.meals.map((B,H)=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 mb-4 p-4 rounded-lg bg-opacity-50 border border-opacity-30",children:[e.jsx("select",{value:B.name,onChange:q=>G(x,O,H,"name",q.target.value),className:`w-full sm:w-1/3 p-2 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"}`,children:g.map(q=>c[q]&&e.jsx("optgroup",{label:q,children:c[q].map(oe=>e.jsx("option",{value:oe.name,children:oe.name},oe.id))},q))}),e.jsx("input",{type:"number",value:B.grams,onChange:q=>G(x,O,H,"grams",q.target.value),className:`w-full sm:w-24 p-2 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"}`,placeholder:"Grams"}),e.jsx("select",{value:B.mealTime,onChange:q=>G(x,O,H,"mealTime",q.target.value),className:`w-full sm:w-24 p-2 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"}`,children:R.map(q=>e.jsx("option",{value:q,children:q},q))}),e.jsx("button",{type:"button",onClick:()=>ee(x,O),className:`mt-2 sm:mt-0 px-3 py-1 text-sm rounded-lg transition-all duration-200 font-medium ${t?"bg-red-700 text-white hover:bg-red-800":"bg-red-600 text-white hover:bg-red-700"} shadow-sm hover:shadow-md`,children:"Log"})]},H)):e.jsx("p",{className:`text-sm italic ${t?"text-red-400":"text-red-800"}`,children:"No meals added yet."}),e.jsx("button",{type:"button",onClick:()=>Q(x,O),className:`mt-4 w-full p-3 rounded-lg transition-all duration-200 font-medium ${t?"bg-red-700 text-white hover:bg-red-800":"bg-red-600 text-white hover:bg-red-700"} shadow-sm hover:shadow-md`,children:"Add Meal"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-lg font-semibold mb-3 ${t?"text-red-400":"text-red-800"} tracking-wide`,children:"Logged Meals"}),Object.keys(E.loggedMeals).every(B=>E.loggedMeals[B].length===0)?e.jsx("p",{className:`text-sm italic ${t?"text-red-400":"text-red-800"}`,children:"No meals logged yet."}):R.map(B=>e.jsxs("div",{className:"mb-6",children:[e.jsx("h5",{className:`text-base font-semibold mb-2 ${t?"text-red-400":"text-red-800"} tracking-wide border-b ${t?"border-stone-600":"border-red-200"} pb-1`,children:B}),E.loggedMeals[B].length>0?e.jsx("ul",{className:"space-y-2",children:E.loggedMeals[B].map((H,q)=>e.jsxs("li",{className:`flex items-center justify-between p-2 rounded-lg ${t?"bg-stone-600/30":"bg-red-100/30"} transition-all duration-200 hover:bg-opacity-50`,children:[e.jsxs("span",{className:"text-sm",children:[H.name,": ",H.grams,"g"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>de(x,O,B,q,{...H}),className:`p-1 rounded-md transition-colors duration-200 ${t?"text-red-400 hover:bg-stone-500":"text-red-800 hover:bg-red-200"}`,children:e.jsx(mt,{className:"w-5 h-5"})}),e.jsx("button",{type:"button",onClick:()=>F(x,O,B,q),className:`p-1 rounded-md transition-colors duration-200 ${t?"text-red-400 hover:bg-stone-500":"text-red-800 hover:bg-red-200"}`,children:e.jsx(xt,{className:"w-5 h-5"})})]})]},q))}):e.jsxs("p",{className:`text-sm italic ${t?"text-red-400":"text-red-800"}`,children:["No ",B.toLowerCase()," logged."]})]},B)),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:`text-base font-semibold mb-3 ${t?"text-red-400":"text-red-800"} tracking-wide border-b ${t?"border-stone-600":"border-red-200"} pb-1`,children:"Total Macros"}),(()=>{const B=z(E.loggedMeals),H=Y(B,E.macros);return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"w-24 font-medium",children:"Protein:"}),e.jsx("div",{className:"flex-1 bg-stone-200 dark:bg-stone-600 rounded-full h-4 overflow-hidden",children:e.jsx("div",{className:`h-full ${H.protein?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.min(B.protein/E.macros.protein*100,100)}%`}})}),e.jsxs("span",{className:"text-sm",children:[B.protein.toFixed(1),"g /"," ",E.macros.protein,"g"]}),H.protein?e.jsx(xe,{className:"w-5 h-5 text-green-500"}):e.jsx(he,{className:"w-5 h-5 text-red-500"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"w-24 font-medium",children:"Carbs:"}),e.jsx("div",{className:"flex-1 bg-stone-200 dark:bg-stone-600 rounded-full h-4 overflow-hidden",children:e.jsx("div",{className:`h-full ${H.carbs?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.min(B.carbs/E.macros.carbs*100,100)}%`}})}),e.jsxs("span",{className:"text-sm",children:[B.carbs.toFixed(1),"g /"," ",E.macros.carbs,"g"]}),H.carbs?e.jsx(xe,{className:"w-5 h-5 text-green-500"}):e.jsx(he,{className:"w-5 h-5 text-red-500"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"w-24 font-medium",children:"Fats:"}),e.jsx("div",{className:"flex-1 bg-stone-200 dark:bg-stone-600 rounded-full h-4 overflow-hidden",children:e.jsx("div",{className:`h-full ${H.fats?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.min(B.fats/E.macros.fats*100,100)}%`}})}),e.jsxs("span",{className:"text-sm",children:[B.fats.toFixed(1),"g /"," ",E.macros.fats,"g"]}),H.fats?e.jsx(xe,{className:"w-5 h-5 text-green-500"}):e.jsx(he,{className:"w-5 h-5 text-red-500"})]})]})})()]})]})]},O))})]},x))}),e.jsx("div",{className:"mt-12 max-w-md mx-auto",children:e.jsx("button",{type:"submit",className:`w-full p-4 rounded-lg transition-all duration-200 font-semibold text-lg ${t?"bg-red-700 text-white hover:bg-red-800":"bg-red-600 text-white hover:bg-red-700"} shadow-md hover:shadow-lg`,children:"Save Plan"})})]}),h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:e.jsxs("div",{className:`p-8 rounded-xl shadow-2xl max-w-md w-full ${t?"bg-stone-800":"bg-red-50"} border ${t?"border-stone-700":"border-red-200"}`,children:[e.jsx("h3",{className:`text-2xl font-semibold mb-6 ${t?"text-red-400":"text-red-800"} tracking-tight`,children:"Edit Meal"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-red-400":"text-red-800"} tracking-wide`,children:"Meal"}),e.jsx("select",{value:h.meal.name,onChange:i=>{const x=p.find(E=>E.name===i.target.value);r({...h,meal:{...h.meal,name:i.target.value,grams:x.portion||100,referencePortion:x.portion||100,macros:x.macros}})},className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"}`,children:g.map(i=>c[i]&&e.jsx("optgroup",{label:i,children:c[i].map(x=>e.jsx("option",{value:x.name,children:x.name},x.id))},i))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-red-400":"text-red-800"} tracking-wide`,children:"Grams"}),e.jsx("input",{type:"number",value:h.meal.grams,onChange:i=>r({...h,meal:{...h.meal,grams:Number(i.target.value)}}),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"}`})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-red-400":"text-red-800"} tracking-wide`,children:"Meal Time"}),e.jsx("select",{value:h.meal.mealTime,onChange:i=>r({...h,meal:{...h.meal,mealTime:i.target.value}}),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"}`,children:R.map(i=>e.jsx("option",{value:i,children:i},i))})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:j,className:`flex-1 p-3 rounded-lg transition-all duration-200 font-medium ${t?"bg-red-700 text-white hover:bg-red-800":"bg-red-600 text-white hover:bg-red-700"} shadow-sm hover:shadow-md`,children:"Save"}),e.jsx("button",{type:"button",onClick:()=>r(null),className:`flex-1 p-3 rounded-lg transition-all duration-200 font-medium ${t?"bg-stone-600 text-white hover:bg-stone-700":"bg-red-200 text-red-800 hover:bg-red-300"} shadow-sm hover:shadow-md`,children:"Cancel"})]})]})})]})},Vt=()=>{const{id:s}=we(),{isDarkMode:t}=o.useContext(_),[l,n]=o.useState(null),[b,N]=o.useState(!0),[f,u]=o.useState(null),[p,w]=o.useState([]);o.useEffect(()=>{(async()=>{try{N(!0),u(null);const{data:M,error:S}=await te.from("nutrition_plans").select("*").eq("id",s).single();if(S)throw S;const T=JSON.parse(M.weeks);n({...M,weeks:T}),w(Array(T.length).fill(!1))}catch(M){console.error("Error fetching nutrition plan:",M),u("Failed to load nutrition plan. Please try again later.")}finally{N(!1)}})()},[s]);const y=D=>{const M=[...p];M[D]=!M[D],w(M)},$=D=>Object.values(D).flat().reduce((S,T)=>{const A=T.grams/T.referencePortion;return{protein:S.protein+T.macros.protein*A,carbs:S.carbs+T.macros.carbs*A,fats:S.fats+T.macros.fats*A}},{protein:0,carbs:0,fats:0}),a=(D,M)=>({protein:D.protein>=M.protein,carbs:D.carbs>=M.carbs,fats:D.fats>=M.fats}),m=D=>{const M=new Date(l.start_date);return M.setDate(M.getDate()+D*7),M.toLocaleDateString()},C=(D,M)=>{const S=new Date(l.start_date);return S.setDate(S.getDate()+D*7+M),S.toLocaleDateString()};if(b)return e.jsx("div",{className:"container mx-auto px-4 py-10 text-center text-lg",children:e.jsx(pe,{color:t?"#f87171":"#b91c1c"})});if(f)return e.jsx("div",{className:"container mx-auto px-4 py-10 text-center text-lg text-red-500",children:f});if(!l)return e.jsx("div",{className:"container mx-auto px-4 py-10 text-center text-lg",children:"Nutrition plan not found."});const W=["Breakfast","Lunch","Dinner","Snacks"];return e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsx("h1",{className:`text-4xl md:text-5xl font-extrabold text-center mb-10 tracking-tight ${t?"text-red-400":"text-red-800"}`,children:l.name}),e.jsxs("p",{className:`text-center text-lg mb-10 ${t?"text-stone-400":"text-stone-600"}`,children:["Start Date: ",new Date(l.start_date).toLocaleDateString()]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:l.weeks.map((D,M)=>e.jsxs("div",{className:`p-6 rounded-xl shadow-lg ${t?"bg-stone-800/90":"bg-red-50/90"} backdrop-blur-sm border ${t?"border-stone-700":"border-red-200"} transition-all duration-300`,children:[e.jsxs("div",{className:`flex justify-between items-center cursor-pointer p-4 rounded-lg transition-colors duration-200 ${t?"hover:bg-stone-700":"hover:bg-red-100"}`,onClick:()=>y(M),children:[e.jsxs("h2",{className:`text-2xl font-bold ${t?"text-red-400":"text-red-800"} tracking-tight`,children:["Week ",D.week," ",e.jsxs("span",{className:"text-sm font-normal",children:["(",m(M),")"]})]}),p[M]?e.jsx(Fe,{className:`w-6 h-6 ${t?"text-red-400":"text-red-800"} transition-transform duration-200`}):e.jsx(We,{className:`w-6 h-6 ${t?"text-red-400":"text-red-800"} transition-transform duration-200`})]}),p[M]&&e.jsx("div",{className:"mt-6 space-y-6",children:D.days.map((S,T)=>e.jsxs("div",{className:`border p-6 rounded-lg ${t?"border-stone-600 bg-stone-700/50":"border-red-200 bg-white/50"} transition-all duration-200`,children:[e.jsxs("h3",{className:`text-xl font-semibold mb-4 ${t?"text-red-400":"text-red-800"} tracking-tight`,children:[S.day," ",e.jsxs("span",{className:"text-sm font-normal",children:["(",C(M,T),")"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:`text-lg font-semibold mb-3 ${t?"text-red-400":"text-red-800"} tracking-wide`,children:"Macro Goals"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-red-400":"text-red-800"}`,children:"Protein (g)"}),e.jsxs("p",{className:`text-sm ${t?"text-stone-400":"text-stone-600"}`,children:[S.macros.protein,"g"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-red-400":"text-red-800"}`,children:"Carbs (g)"}),e.jsxs("p",{className:`text-sm ${t?"text-stone-400":"text-stone-600"}`,children:[S.macros.carbs,"g"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-red-400":"text-red-800"}`,children:"Fats (g)"}),e.jsxs("p",{className:`text-sm ${t?"text-stone-400":"text-stone-600"}`,children:[S.macros.fats,"g"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-lg font-semibold mb-3 ${t?"text-red-400":"text-red-800"} tracking-wide`,children:"Logged Meals"}),Object.keys(S.loggedMeals).every(A=>S.loggedMeals[A].length===0)?e.jsx("p",{className:`text-sm italic ${t?"text-red-400":"text-red-800"}`,children:"No meals logged yet."}):W.map(A=>e.jsxs("div",{className:"mb-6",children:[e.jsx("h5",{className:`text-base font-semibold mb-2 ${t?"text-red-400":"text-red-800"} tracking-wide border-b ${t?"border-stone-600":"border-red-200"} pb-1`,children:A}),S.loggedMeals[A].length>0?e.jsx("ul",{className:"space-y-2",children:S.loggedMeals[A].map((k,L)=>e.jsx("li",{className:`flex items-center justify-between p-2 rounded-lg ${t?"bg-stone-600/30":"bg-red-100/30"} transition-all duration-200 hover:bg-opacity-50`,children:e.jsxs("span",{className:"text-sm",children:[k.name,": ",k.grams,"g"]})},L))}):e.jsxs("p",{className:`text-sm italic ${t?"text-red-400":"text-red-800"}`,children:["No ",A.toLowerCase()," logged."]})]},A)),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:`text-base font-semibold mb-3 ${t?"text-red-400":"text-red-800"} tracking-wide border-b ${t?"border-stone-600":"border-red-200"} pb-1`,children:"Total Macros"}),(()=>{const A=$(S.loggedMeals),k=a(A,S.macros);return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"w-24 font-medium",children:"Protein:"}),e.jsx("div",{className:"flex-1 bg-stone-200 dark:bg-stone-600 rounded-full h-4 overflow-hidden",children:e.jsx("div",{className:`h-full ${k.protein?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.min(A.protein/S.macros.protein*100,100)}%`}})}),e.jsxs("span",{className:"text-sm",children:[A.protein.toFixed(1),"g /"," ",S.macros.protein,"g"]}),k.protein?e.jsx(xe,{className:"w-5 h-5 text-green-500"}):e.jsx(he,{className:"w-5 h-5 text-red-500"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"w-24 font-medium",children:"Carbs:"}),e.jsx("div",{className:"flex-1 bg-stone-200 dark:bg-stone-600 rounded-full h-4 overflow-hidden",children:e.jsx("div",{className:`h-full ${k.carbs?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.min(A.carbs/S.macros.carbs*100,100)}%`}})}),e.jsxs("span",{className:"text-sm",children:[A.carbs.toFixed(1),"g /"," ",S.macros.carbs,"g"]}),k.carbs?e.jsx(xe,{className:"w-5 h-5 text-green-500"}):e.jsx(he,{className:"w-5 h-5 text-red-500"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"w-24 font-medium",children:"Fats:"}),e.jsx("div",{className:"flex-1 bg-stone-200 dark:bg-stone-600 rounded-full h-4 overflow-hidden",children:e.jsx("div",{className:`h-full ${k.fats?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.min(A.fats/S.macros.fats*100,100)}%`}})}),e.jsxs("span",{className:"text-sm",children:[A.fats.toFixed(1),"g /"," ",S.macros.fats,"g"]}),k.fats?e.jsx(xe,{className:"w-5 h-5 text-green-500"}):e.jsx(he,{className:"w-5 h-5 text-red-500"})]})]})})()]})]})]},T))})]},M))})]})},Yt=()=>{const[s,t]=o.useState(""),[l,n]=o.useState(""),[b,N]=o.useState(null),[f,u]=o.useState(!1),{login:p}=o.useContext(le),{isDarkMode:w}=o.useContext(_),y=Z(),$=async a=>{var m,C;a.preventDefault(),N(null),u(!0);try{await p(s,l);const W=((C=(m=location.state)==null?void 0:m.from)==null?void 0:C.pathname)||"/profile";y(W,{replace:!0})}catch(W){N(W.message),console.error("Login error:",W.message)}finally{u(!1)}};return e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsx("h1",{className:`text-4xl md:text-5xl font-extrabold text-center mb-10 tracking-tight ${w?"text-red-400":"text-red-800"}`,children:"Login"}),e.jsxs("div",{className:`max-w-md mx-auto p-6 rounded-lg shadow-md ${w?"bg-stone-800 text-red-400":"bg-white text-red-800"}`,children:[e.jsxs("form",{onSubmit:$,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:`block text-lg font-semibold mb-2 ${w?"text-red-400":"text-red-800"} tracking-wide`,children:"Email"}),e.jsx("input",{type:"email",value:s,onChange:a=>t(a.target.value),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${w?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"} placeholder-stone-400`,placeholder:"Enter your email",required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:`block text-lg font-semibold mb-2 ${w?"text-red-400":"text-red-800"} tracking-wide`,children:"Password"}),e.jsx("input",{type:"password",value:l,onChange:a=>n(a.target.value),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${w?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"} placeholder-stone-400`,placeholder:"Enter your password",required:!0})]}),b&&e.jsx("p",{className:`text-center text-sm mb-4 ${w?"text-red-400":"text-red-800"}`,children:b}),e.jsx("button",{type:"submit",disabled:f,className:`w-full p-3 rounded-lg font-semibold text-lg flex items-center justify-center ${w?"bg-red-700 text-white hover:bg-red-800":"bg-red-600 text-white hover:bg-red-700"} transition-all duration-200 shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed`,children:f?e.jsxs(e.Fragment,{children:[e.jsx(ht,{className:"animate-spin mr-2"}),"Logging in..."]}):"Login"})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(J,{to:"/forgot-password",className:`text-sm hover:underline ${w?"text-red-400 hover:text-red-300":"text-red-800 hover:text-red-600"}`,children:"Forgot Password?"})}),e.jsx("div",{className:"mt-2 text-center",children:e.jsxs("p",{className:`text-sm ${w?"text-stone-300":"text-stone-600"}`,children:["Don't have an account?"," ",e.jsx(J,{to:"/signup",className:`hover:underline ${w?"text-red-400 hover:text-red-300":"text-red-800 hover:text-red-600"}`,children:"Sign up"})]})})]})]})},Qt=()=>{const s=Z(),{isDarkMode:t}=o.useContext(_),{signup:l,user:n,loading:b}=o.useContext(le),[N,f]=o.useState(""),[u,p]=o.useState(""),[w,y]=o.useState(null),$=async a=>{a.preventDefault(),y(null);try{await l(N,u),s("/login")}catch(m){m.message.includes("User already exists")?y("Email already in use. A confirmation email has been resent."):m.message.includes("rate limit")?y("Too many signup attempts. Please wait and try again later."):y("An error occurred during signup. Please try again.")}};return b?e.jsx("div",{children:"Loading..."}):n?(s("/nutrition"),null):e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsx("h1",{className:`text-4xl md:text-5xl font-extrabold text-center mb-10 tracking-tight ${t?"text-red-400":"text-red-800"}`,children:"Sign Up"}),e.jsxs("form",{onSubmit:$,className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:`block text-lg font-semibold mb-2 ${t?"text-red-400":"text-red-800"} tracking-wide`,children:"Email"}),e.jsx("input",{type:"email",value:N,onChange:a=>f(a.target.value),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"} placeholder-stone-400`,placeholder:"Enter your email",required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:`block text-lg font-semibold mb-2 ${t?"text-red-400":"text-red-800"} tracking-wide`,children:"Password"}),e.jsx("input",{type:"password",value:u,onChange:a=>p(a.target.value),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"} placeholder-stone-400`,placeholder:"Enter your password",required:!0})]}),w&&e.jsx("p",{className:`text-center text-sm mb-6 ${t?"text-red-400":"text-red-800"}`,children:w}),e.jsx("button",{type:"submit",className:`w-full p-4 rounded-lg transition-all duration-200 font-semibold text-lg ${t?"bg-red-700 text-white hover:bg-red-800":"bg-red-600 text-white hover:bg-red-700"} shadow-md hover:shadow-lg`,children:"Sign Up"})]}),e.jsxs("p",{className:`text-center mt-6 text-sm ${t?"text-stone-400":"text-stone-600"}`,children:["Already have an account?"," ",e.jsx("a",{href:"/login",className:"text-red-600 hover:underline",children:"Log in"})]})]})},Kt=()=>{var W,D,M;const{user:s,loading:t,refreshUser:l}=o.useContext(le),{isDarkMode:n}=o.useContext(_),b=Z(),[N,f]=o.useState(((W=s==null?void 0:s.user_metadata)==null?void 0:W.displayName)||""),[u,p]=o.useState([]),[w,y]=o.useState(null),[$,a]=o.useState(null);if(o.useEffect(()=>{(async()=>{if(s)try{const{data:T,error:A}=await te.from("nutrition_plans").select("*").eq("user_id",s.id);if(A)throw A;p(T||[])}catch(T){console.error("Error fetching nutrition plans:",T.message)}})()},[s]),t)return e.jsx("div",{children:"Loading..."});if(!s)return b("/login"),null;const m=async S=>{S.preventDefault(),y(null),a(null);try{const{error:T}=await te.auth.updateUser({data:{displayName:N}});if(T)throw T;a("Profile updated successfully!"),await l()}catch(T){y("Failed to update profile. Please try again."),console.error("Update profile error:",T.message)}},C=(D=s==null?void 0:s.user_metadata)!=null&&D.displayName?s.user_metadata.displayName.charAt(0).toUpperCase()+s.user_metadata.displayName.slice(1):"User";return e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsxs("h1",{className:`text-4xl md:text-5xl font-extrabold text-center mb-4 tracking-tight ${n?"text-red-400":"text-red-800"}`,children:[C," - Dashboard "]}),e.jsxs("p",{className:`text-center text-lg mb-10 ${n?"text-stone-300":"text-stone-600"}`,children:["Welcome back, ",C,"!"]}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:`p-6 rounded-lg shadow-md mb-6 ${n?"bg-stone-800 text-red-400":"bg-white text-red-800"}`,children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Profile Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",s.email]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Username:"})," ",((M=s.user_metadata)==null?void 0:M.displayName)||"Not set"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Account Created:"})," ",new Date(s.created_at).toLocaleDateString()]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Last Updated:"})," ",new Date(s.updated_at).toLocaleDateString()]}),s.user_metadata&&Object.keys(s.user_metadata).length>0?e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Additional Info:"}),e.jsx("ul",{className:"list-disc list-inside ml-4",children:Object.entries(s.user_metadata).map(([S,T])=>e.jsxs("li",{children:[S,": ",T]},S))})]}):e.jsx("p",{children:"No additional user metadata available."})]})]}),e.jsxs("div",{className:`p-6 rounded-lg shadow-md mb-6 ${n?"bg-stone-800 text-red-400":"bg-white text-red-800"}`,children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Your Nutrition Plans"}),u.length>0?e.jsx("ul",{className:"space-y-2",children:u.map(S=>e.jsx("li",{children:e.jsx(Link,{to:`/nutrition-plan/${S.id}`,className:"hover:text-red-600 transition-colors duration-200",children:S.name||`Plan ${S.id}`})},S.id))}):e.jsx("p",{children:"No nutrition plans found."})]}),e.jsxs("div",{className:`p-6 rounded-lg shadow-md mb-6 ${n?"bg-stone-800 text-red-400":"bg-white text-red-800"}`,children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Update Profile"}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:`block text-lg font-semibold mb-2 ${n?"text-red-400":"text-red-800"} tracking-wide`,children:"Display Name"}),e.jsx("input",{type:"text",value:N,onChange:S=>f(S.target.value),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${n?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"} placeholder-stone-400`,placeholder:"Enter your display name"})]}),w&&e.jsx("p",{className:`text-center text-sm mb-4 ${n?"text-red-400":"text-red-800"}`,children:w}),$&&e.jsx("p",{className:`text-center text-sm mb-4 ${n?"text-green-400":"text-green-600"}`,children:$}),e.jsx("button",{type:"submit",className:`w-full p-3 rounded-lg font-semibold text-lg ${n?"bg-red-700 text-white hover:bg-red-800":"bg-red-600 text-white hover:bg-red-700"} transition-all duration-200 shadow-md hover:shadow-lg`,children:"Update Profile"})]})]}),e.jsxs("div",{className:`p-6 rounded-lg shadow-md ${n?"bg-stone-800 text-red-400":"bg-white text-red-800"}`,children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Account Actions"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:()=>b("/nutrition"),className:`w-full p-3 rounded-lg font-semibold text-lg ${n?"bg-red-700 text-white hover:bg-red-800":"bg-red-600 text-white hover:bg-red-700"} transition-all duration-200 shadow-md hover:shadow-lg`,children:"Create Nutrition Plan"}),e.jsx("button",{onClick:()=>b("/fitness-tracker"),className:`w-full p-3 rounded-lg font-semibold text-lg ${n?"bg-red-700 text-white hover:bg-red-800":"bg-red-600 text-white hover:bg-red-700"} transition-all duration-200 shadow-md hover:shadow-lg`,children:"Fitness Tracker"}),e.jsx("button",{onClick:()=>b("/nutrition"),className:`w-full p-3 rounded-lg font-semibold text-lg ${n?"bg-red-700 text-white hover:bg-red-800":"bg-red-600 text-white hover:bg-red-700"} transition-all duration-200 shadow-md hover:shadow-lg`,children:"View Nutrition Plans"}),e.jsx("button",{onClick:()=>b("/reset-password"),className:`w-full p-3 rounded-lg font-semibold text-lg ${n?"bg-red-700 text-white hover:bg-red-800":"bg-red-600 text-white hover:bg-red-700"} transition-all duration-200 shadow-md hover:shadow-lg`,children:"Change Password"})]})]})]})]})},Zt=()=>{const{user:s,loading:t}=o.useContext(le),l=fe();return t?e.jsx("div",{children:"Loading..."}):s?e.jsx(Ie,{}):e.jsx(gt,{to:"/login",state:{from:l},replace:!0})},Xt=()=>(o.useEffect(()=>{(async()=>{try{const t=K(V,"content","blog","posts"),n=(await X(t)).docs.map(w=>({id:w.id,date:w.data().date||new Date().toISOString()})),N=`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  ${[{url:"https://yourdomain.com/",date:new Date().toISOString()},{url:"https://yourdomain.com/about",date:new Date().toISOString()},{url:"https://yourdomain.com/contact",date:new Date().toISOString()}].map(w=>`
  <url>
    <loc>${w.url}</loc>
    <lastmod>${w.date}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.8</priority>
  </url>`).join("")}
  ${n.map(w=>`
  <url>
    <loc>https://yourdomain.com/blog/${w.id}</loc>
    <lastmod>${new Date(w.date).toISOString()}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>0.9</priority>
  </url>`).join("")}
</urlset>`,f=new Blob([N],{type:"application/xml"}),u=URL.createObjectURL(f),p=document.createElement("a");p.href=u,p.download="sitemap.xml",document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(u),console.log("Sitemap generated:",N)}catch(t){console.error("Error generating sitemap:",t)}})()},[]),e.jsx("div",{children:"Generating sitemap..."}));function es(){const s=fe();return o.useEffect(()=>{console.log("LocationLogger: location changed to",s.pathname,s.hash)},[s]),null}const _=o.createContext();function ts(){const[s,t]=o.useState(()=>{const n=localStorage.getItem("theme");return n?JSON.parse(n):!0});o.useEffect(()=>{localStorage.setItem("theme",JSON.stringify(s))},[s]);const l=()=>t(n=>!n);return console.log("Switched back to HashRouter"),e.jsx(bt,{children:e.jsx(Ct,{children:e.jsx(Nt,{children:e.jsx(_.Provider,{value:{isDarkMode:s,toggleTheme:l},children:e.jsxs(pt,{children:[e.jsx(es,{}),e.jsx(_e,{children:e.jsx(qe,{classNames:"fade",timeout:300,children:e.jsx(ze,{children:e.jsxs(U,{path:"/",element:e.jsx(He,{}),children:[e.jsx(U,{index:!0,element:e.jsx(St,{})}),e.jsx(U,{path:"products",element:e.jsx(Dt,{})}),e.jsx(U,{path:"cart",element:e.jsx(Et,{})}),e.jsx(U,{path:"checkout",element:e.jsx(At,{})}),e.jsx(U,{path:"gut-health",element:e.jsx(Lt,{})}),e.jsx(U,{path:"gut-health/:id",element:e.jsx(Mt,{})}),e.jsx(U,{path:"purchase",element:e.jsx(Wt,{})}),e.jsx(U,{path:"blog",element:e.jsx(Tt,{})}),e.jsx(U,{path:"blog/:id",element:e.jsx(Bt,{})}),e.jsx(U,{path:"/sitemap.xml",element:e.jsx(Xt,{})}),e.jsx(U,{path:"faq",element:e.jsx(Rt,{})}),e.jsx(U,{path:"contact",element:e.jsx(Ut,{})}),e.jsx(U,{path:"admin",element:e.jsx(It,{})}),e.jsx(U,{path:"admin/home",element:e.jsx(Le,{})}),e.jsx(U,{path:"admin/blog",element:e.jsx(Ve,{})}),e.jsx(U,{path:"admin/products",element:e.jsx(Ye,{})}),e.jsx(U,{path:"/shop/product/:id",element:e.jsx(Pt,{})}),e.jsx(U,{path:"fitness-tracker",element:e.jsx(_t,{})}),e.jsx(U,{path:"fitness-tracker/plan/:id",element:e.jsx(qt,{})}),e.jsx(U,{path:"fitness-tracker/create-custom-plan",element:e.jsx(Gt,{})}),e.jsx(U,{path:"fitness-tracker/log",element:e.jsx(zt,{})}),e.jsx(U,{path:"fitness-tracker/history",element:e.jsx(Ht,{})}),e.jsx(U,{path:"nutrition",element:e.jsx(Jt,{})}),e.jsx(U,{path:"nutrition-plan/:id",element:e.jsx(Vt,{})}),e.jsx(U,{path:"login",element:e.jsx(Yt,{})}),e.jsx(U,{path:"signup",element:e.jsx(Qt,{})}),e.jsx(U,{element:e.jsx(Zt,{}),children:e.jsx(U,{path:"profile",element:e.jsx(Kt,{})})}),e.jsx(U,{path:"*",element:e.jsx("div",{children:"404 - Page Not Found"})})]})})},window.location.pathname)})]})})})})})}console.log("Main.jsx is running");ft.createRoot(document.getElementById("root")).render(e.jsx(Ue.StrictMode,{children:e.jsx(ts,{})}));
