import{c as He,r as o,j as e,R as Re,u as Z,L as J,a as Me,O as Ue,F as Je,b as Ve,d as Ye,e as Qe,f as Ke,i as Ze,g as me,h as Xe,k as et,H as tt,l as re,m as fe,s as ye,n as K,o as X,T as Ie,C as _e,p as je,q as ge,t as pe,A as st,v as qe,w as rt,x as ke,y as ot,z as Se,B as Ne,D as Be,E as Pe,G as Oe,I as nt,J as at,K as Le,M as Fe,S as it,N as lt,P as xe,Q as he,U as dt,V as ct,W as ut,X as mt,Y as xt,Z as _,_ as ht}from"./vendor-BqoqC9eA.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))n(f);new MutationObserver(f=>{for(const N of f)if(N.type==="childList")for(const b of N.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&n(b)}).observe(document,{childList:!0,subtree:!0});function l(f){const N={};return f.integrity&&(N.integrity=f.integrity),f.referrerPolicy&&(N.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?N.credentials="include":f.crossOrigin==="anonymous"?N.credentials="omit":N.credentials="same-origin",N}function n(f){if(f.ep)return;f.ep=!0;const N=l(f);fetch(f.href,N)}})();const gt={BASE_URL:"/AussieGutPack",DEV:!1,MODE:"github",PROD:!0,SSR:!1,VITE_BASE_PATH:"/AussieGutPack/",VITE_FIREBASE_API_KEY:"AIzaSyBOM041d620q5TBYfl7E6SexEqR8NGrWQE",VITE_FIREBASE_APP_ID:"1:834797498886:web:cb2f88ab4523480400c987",VITE_FIREBASE_AUTH_DOMAIN:"aussie-gut-pack.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"834797498886",VITE_FIREBASE_PROJECT_ID:"aussie-gut-pack",VITE_FIREBASE_STORAGE_BUCKET:"aussie-gut-pack.firebasestorage.app",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9rbWNleGNrZndvdXJwdXl4Ym1sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc3NTk4NDcsImV4cCI6MjA2MzMzNTg0N30.zytGP9OKFOegCAyrs_SCvl9Sk88i29TzTIo8P7-7Ky4",VITE_SUPABASE_URL:"https://okmcexckfwourpuyxbml.supabase.co"},bt="https://okmcexckfwourpuyxbml.supabase.co",pt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9rbWNleGNrZndvdXJwdXl4Ym1sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc3NTk4NDcsImV4cCI6MjA2MzMzNTg0N30.zytGP9OKFOegCAyrs_SCvl9Sk88i29TzTIo8P7-7Ky4";console.log("Supabase URL from import.meta.env:","https://okmcexckfwourpuyxbml.supabase.co");console.log("Supabase Anon Key from import.meta.env:","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9rbWNleGNrZndvdXJwdXl4Ym1sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc3NTk4NDcsImV4cCI6MjA2MzMzNTg0N30.zytGP9OKFOegCAyrs_SCvl9Sk88i29TzTIo8P7-7Ky4");console.log("All env:",gt);const te=He(bt,pt),ue=o.createContext(),ft=({children:s})=>{const[t,l]=o.useState(null),[n,f]=o.useState(!0);o.useEffect(()=>{(async()=>{const{data:{session:a}}=await te.auth.getSession();l((a==null?void 0:a.user)??null),f(!1)})();const{data:{subscription:$}}=te.auth.onAuthStateChange((a,m)=>{l((m==null?void 0:m.user)??null),f(!1)});return()=>{$==null||$.unsubscribe()}},[]);const w={user:t,loading:n,signup:async(y,$)=>{console.log("Signup attempt with:",{email:y,password:$});const{data:a,error:m}=await te.auth.signUp({email:y,password:$,options:{emailRedirectTo:"http://localhost:5173/login"}});if(console.log("Signup response:",JSON.stringify(a,null,2)),m)throw console.error("Signup error:",m.message),m;if(a.user&&a.user.identities&&a.user.identities.length===0){console.log("User already exists. Attempting to resend confirmation email...");const M=await te.auth.resend({type:"signup",email:y});throw console.log("Resend response:",JSON.stringify(M,null,2)),M.error?(console.error("Error resending confirmation email:",M.error.message),M.error):new Error("User already exists. A confirmation email has been resent.")}return a},login:async(y,$)=>{console.log("Login attempt with:",{email:y,password:$});const{data:a,error:m}=await te.auth.signInWithPassword({email:y,password:$});if(m)throw console.error("Login error:",m.message),m.message.includes("Email not confirmed")?new Error("Please confirm your email before logging in."):m;return l(a.user),a},logout:async()=>{const{error:y}=await te.auth.signOut();if(y)throw console.error("Logout error:",y.message),y;l(null)},refreshUser:async()=>{const{data:{user:y}}=await te.auth.getUser();l(y)}};return e.jsx(ue.Provider,{value:w,children:s})},jt=Re.memo(({location:s})=>{var B;const[t,l]=o.useState(!1),{isDarkMode:n,toggleTheme:f}=o.useContext(q),{user:N,logout:b,loading:u}=o.useContext(ue),p=Z(),w=o.useRef(null),y=o.useRef(null);console.log("Rendering Navigation component. isMenuOpen:",t);const $=async()=>{try{await b(),p("/login")}catch(C){console.error("Logout error:",C.message)}},a=()=>{var C;t?(l(!1),(C=w.current)==null||C.focus()):(l(!0),setTimeout(()=>{var L;return(L=y.current)==null?void 0:L.focus()},100))};o.useEffect(()=>{const C=L=>{var S;L.key==="Escape"&&t&&(l(!1),(S=w.current)==null||S.focus())};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[t]);const m=C=>s.pathname===C,M=((B=N==null?void 0:N.user_metadata)==null?void 0:B.displayName)||"User";return e.jsxs(e.Fragment,{children:[e.jsx("a",{href:"#main-content",className:"fixed top-0 left-0 p-2 bg-red-600 text-white focus:top-4 focus:left-4 z-50 transition-all duration-200",children:"Skip to Content"}),e.jsxs("nav",{className:`sticky top-0 z-50 shadow-md ${n?"bg-stone-900 text-red-400":"bg-white text-red-800"} transition-colors duration-300`,"aria-label":"Main navigation",children:[e.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center relative z-50",children:[e.jsx(J,{to:"/",className:"text-2xl font-bold tracking-tight",children:"Primal Biome"}),e.jsxs("div",{className:"hidden lg:flex space-x-6 items-center",children:[e.jsx(J,{to:"/",className:`nav-link hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 rounded transition-colors duration-200 ${m("/")?"text-red-600 font-semibold":""}`,children:"Home"}),e.jsx(J,{to:"/products",className:`nav-link hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 rounded transition-colors duration-200 ${m("/products")?"text-red-600 font-semibold":""}`,children:"Products"}),e.jsx(J,{to:"/blog",className:`nav-link hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 rounded transition-colors duration-200 ${m("/blog")?"text-red-600 font-semibold":""}`,children:"Blog"}),e.jsx(J,{to:"/contact",className:`nav-link hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 rounded transition-colors duration-200 ${m("/contact")?"text-red-600 font-semibold":""}`,children:"Contact"}),u?e.jsx("span",{children:"Loading..."}):N?e.jsxs(e.Fragment,{children:[e.jsxs(J,{to:"/profile",className:`nav-link text-sm hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 rounded transition-colors duration-200 ${m("/profile")?"text-red-600 font-semibold":""}`,children:["Welcome, ",M]}),e.jsx("button",{onClick:$,className:"p-2 rounded-lg bg-red-600 text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200",children:"Logout"})]}):e.jsx(J,{to:"/login",className:"p-2 rounded-lg bg-red-600 text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200",children:"Login"}),e.jsx("button",{onClick:f,className:"p-2 rounded-full hover:bg-stone-200 dark:hover:bg-stone-700 focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200","aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?"☀️":"🌙"})]}),e.jsx("button",{ref:w,onClick:a,"aria-expanded":t,"aria-label":t?"Close menu":"Open menu",className:"lg:hidden p-2 rounded-lg hover:bg-stone-200 dark:hover:bg-stone-700 focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200 text-xl z-60",children:e.jsx("i",{className:t?"fas fa-times":"fas fa-bars"})})]}),t&&e.jsx("div",{className:"mobile-menu-backdrop active lg:hidden",onClick:a,tabIndex:0,onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&a()},"aria-label":"Close mobile menu"}),e.jsxs("div",{className:`lg:hidden px-4 py-4 ${t?"mobile-menu-open":"mobile-menu-closed"} ${n?"bg-stone-800 border-t border-stone-700":"bg-red-50 border-t border-red-200"} shadow-md`,children:[e.jsx(J,{ref:y,to:"/",onClick:a,className:`nav-link block py-2 px-3 rounded-lg hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200 ${m("/")?"text-red-600 font-semibold":""} ${n?"text-red-400":"text-red-800"}`,children:"Home"}),e.jsx(J,{to:"/products",onClick:a,className:`nav-link block py-2 px-3 rounded-lg hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200 ${m("/products")?"text-red-600 font-semibold":""} ${n?"text-red-400":"text-red-800"}`,children:"Products"}),e.jsx(J,{to:"/blog",onClick:a,className:`nav-link block py-2 px-3 rounded-lg hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200 ${m("/blog")?"text-red-600 font-semibold":""} ${n?"text-red-400":"text-red-800"}`,children:"Blog"}),e.jsx(J,{to:"/faq",onClick:a,className:`nav-link block py-2 px-3 rounded-lg hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200 ${m("/faq")?"text-red-600 font-semibold":""} ${n?"text-red-400":"text-red-800"}`,children:"FAQ"}),e.jsx(J,{to:"/contact",onClick:a,className:`nav-link block py-2 px-3 rounded-lg hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200 ${m("/contact")?"text-red-600 font-semibold":""} ${n?"text-red-400":"text-red-800"}`,children:"Contact"}),e.jsx(J,{to:"/nutrition",onClick:a,className:`nav-link block py-2 px-3 rounded-lg hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200 ${m("/nutrition")?"text-red-600 font-semibold":""} ${n?"text-red-400":"text-red-800"}`,children:"Nutrition"}),N&&e.jsx(J,{to:"/profile",onClick:a,className:`nav-link block py-2 px-3 rounded-lg hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200 ${m("/profile")?"text-red-600 font-semibold":""} ${n?"text-red-400":"text-red-800"}`,children:"Profile"}),e.jsx("button",{onClick:()=>{f(),a()},className:`nav-link block py-2 px-3 rounded-lg hover:text-red-600 focus:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200 ${n?"text-red-400":"text-red-800"}`,"aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?"☀️ Light Mode":"🌙 Dark Mode"}),u?e.jsx("span",{className:"block py-2 px-3",children:"Loading..."}):N?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:`block py-2 px-3 text-sm ${n?"text-red-400":"text-red-800"}`,children:["Welcome, ",M]}),e.jsx("button",{onClick:()=>{$(),a()},className:"block py-2 px-3 text-left w-full text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-600 rounded-lg transition-colors duration-200",children:"Logout"})]}):e.jsx(J,{to:"/login",onClick:a,className:"block py-2 px-3 text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-600 rounded-lg transition-colors duration-200",children:"Login"})]})]})]})}),wt=()=>{const{isDarkMode:s}=o.useContext(q),{user:t,logout:l}=o.useContext(ue),n=Me();return e.jsx("div",{className:`${s?"dark":""}`,children:e.jsxs("div",{className:"min-h-screen flex flex-col bg-stone-100 dark:bg-stone-900 text-stone-900 dark:text-stone-100",children:[e.jsx(jt,{location:n}),e.jsx("main",{className:"flex-1 pt-20 sm:pt-24 md:pt-28",children:e.jsx(Ue,{})}),e.jsxs("footer",{className:"bg-red-800 text-white p-6 text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-red-400 transition-colors duration-200","aria-label":"Facebook",children:e.jsx(Je,{size:24})}),e.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-red-400 transition-colors duration-200","aria-label":"Twitter",children:e.jsx(Ve,{size:24})}),e.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-red-400 transition-colors duration-200","aria-label":"Instagram",children:e.jsx(Ye,{size:24})}),e.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-red-400 transition-colors duration-200","aria-label":"LinkedIn",children:e.jsx(Qe,{size:24})}),e.jsx("a",{href:"https://youtube.com",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-red-400 transition-colors duration-200","aria-label":"YouTube",children:e.jsx(Ke,{size:24})})]})}),e.jsxs("p",{children:["© ",new Date().getFullYear()," Aussie Gut Pack. All rights reserved."]})]})]})})};function ie({to:s,children:t,variant:l,className:n,...f}){const N="px-4 py-2 rounded transition-colors duration-300 ease-in-out",b=l==="primary"?"bg-red-800 text-white hover:bg-red-900":"bg-stone-200 text-red-600 hover:bg-stone-300";return s?e.jsx(J,{to:s,className:`${N} ${b} ${n}`,...f,children:t}):e.jsx("button",{className:`${N} ${b} ${n}`,...f,children:t})}const vt={apiKey:"AIzaSyAjVDbvzmbogD_lbGqB4MmVf3aTnTQzEh8",authDomain:"aussie-gut-pack-a896e.firebaseapp.com",projectId:"aussie-gut-pack-a896e",storageBucket:"aussie-gut-pack-a896e.firebasestorage.app",messagingSenderId:"817190270687",appId:"1:817190270687:web:357c740b79d6e243e3db6a",measurementId:"G-NEV6BN8ZKT"},We=Ze(vt),V=me(We),le=Xe(We),Ee=et(We);function Nt(){const{isDarkMode:s}=o.useContext(q),t=o.useRef(null),l=o.useRef(null),n=Me(),[f,N]=o.useState(!0),[b,u]=o.useState(null),[p,w]=o.useState(!1),[y,$]=o.useState(!1),[a,m]=o.useState({quotes:[],currentWorkout:{description:"",warmup:[],main:[]},scheduledWorkouts:[],aboutUs:"",dailyChallenges:[],lastUpdated:null}),[M,B]=o.useState(0),[C,L]=o.useState(null),[S,W]=o.useState(null),[E,k]=o.useState(()=>JSON.parse(localStorage.getItem("completedChallenges"))||[]);o.useEffect(()=>{(async()=>{var c,g,R;N(!0),u(null);try{const U=re(V,"content","home");console.log("Fetching content/home...");const Q=await fe(U);console.log("Document exists:",Q.exists());let G={quotes:["An athlete won't judge you for working out.","A millionaire won't judge you for starting a business.","A musician won't judge you for trying to sing a song.","It's always the people going nowhere that have something to say.","Idle hands do the devil's work"],currentWorkout:{description:"A quick 20-minute routine to kickstart your metabolism and improve digestion.",warmup:["5-minute brisk walk or jog","3 sets of 15 squats"],main:["3 sets of 10 push-ups","2 sets of 20 jumping jacks","1-minute plank hold"]},scheduledWorkouts:[],aboutUs:"Here at Primal Biome, we believe life should feel less like a chore and more like an adventure. We're dedicated to empowering your digestive health naturally through tips, workouts, and challenges.",dailyChallenges:["Drink 8 glasses of water.","Take a 10-minute digestion-boosting walk with your Aussie.","Try a gut-friendly snack like yogurt or pumpkin.","Eat a fiber-rich meal.","Practice 5 minutes of deep breathing."],lastUpdated:null};if(Q.exists()){const j=Q.data();console.log("Firestore data:",j),G={...G,...j,quotes:Array.isArray(j.quotes)?j.quotes:G.quotes,currentWorkout:{description:((c=j.currentWorkout)==null?void 0:c.description)||G.currentWorkout.description,warmup:Array.isArray((g=j.currentWorkout)==null?void 0:g.warmup)?j.currentWorkout.warmup:G.currentWorkout.warmup,main:Array.isArray((R=j.currentWorkout)==null?void 0:R.main)?j.currentWorkout.main:G.currentWorkout.main},scheduledWorkouts:Array.isArray(j.scheduledWorkouts)?j.scheduledWorkouts:[],aboutUs:j.aboutUs||G.aboutUs,dailyChallenges:Array.isArray(j.dailyChallenges)?j.dailyChallenges:G.dailyChallenges,lastUpdated:j.lastUpdated||G.lastUpdated}}else console.warn("No document found at content/home, initializing..."),await ye(U,G);const ae=new Date,ee=[...G.scheduledWorkouts];let de=!1;if(ee.sort((j,F)=>new Date(j.updateDateTime)-new Date(F.updateDateTime)),ee.length>0){const j=ee[0],F=new Date(j.updateDateTime);ae>=F&&(!G.lastUpdated||new Date(G.lastUpdated)<F)&&(G.currentWorkout={description:j.description||"",warmup:j.warmup||[],main:j.main||[]},ee.shift(),G.scheduledWorkouts=ee,G.lastUpdated=ae.toISOString(),de=!0)}de&&(await ye(U,G,{merge:!0}),console.log("Updated Firestore document with new workout")),console.log("Setting content:",G),m(G);try{const j=K(V,"content","blog","posts"),F=await X(j);if(F.empty){console.log("No blog posts found"),L({id:"1",title:"The Importance of Gut Health",date:"2025-01-15",blocks:[{type:"paragraph",content:"Gut health is crucial for overall well-being..."}],excerpt:"Gut health is crucial for overall well-being..."});return}const z=F.docs.map(Y=>({id:Y.id,title:Y.data().title||"Untitled Post",date:Y.data().date||new Date().toISOString(),blocks:Y.data().blocks||[]}));if(z.length>0){z.sort((i,x)=>new Date(x.date)-new Date(i.date));const Y=z[0],ce=A(Y);L({...Y,excerpt:ce});const D=new Date("2025-04-16T00:00:00Z"),v=z.filter(i=>new Date(i.date)>D).sort((i,x)=>new Date(i.date)-new Date(x.date));if(v.length>0){const i=v[0],x=A(i);W({...i,excerpt:x})}}}catch(j){console.error("Error fetching blog posts:",j),L({id:"1",title:"The Importance of Gut Health",date:"2025-01-15",blocks:[{type:"paragraph",content:"Gut health is crucial for overall well-being..."}],excerpt:"Gut health is crucial for overall well-being..."})}}catch(U){console.error("Error in fetchAndUpdateContent:",U),u("Failed to load content. Please try again later.")}finally{N(!1),console.log("isLoading set to false")}})()},[]);const A=r=>{if(!r||!r.blocks||r.blocks.length===0)return"Read more...";const c=r.blocks.find(g=>g.type==="paragraph"||g.type==="list"||g.type==="bullet");return c?c.type==="paragraph"&&c.content?c.content.split(" ").slice(0,30).join(" ")+"...":Array.isArray(c.content)&&c.content.length>0?c.content[0]+(c.content.length>1?"...":""):"Read more...":"Read more..."};o.useEffect(()=>{const r=new IntersectionObserver(g=>{g.forEach(R=>{const U=R.isIntersecting;console.log(`IntersectionObserver: ${R.target===t.current?"headerRef":"roofRef"} isIntersecting: ${U}`),R.target===t.current&&w(U),R.target===l.current&&$(U)})},{threshold:.1});t.current&&r.observe(t.current),l.current&&r.observe(l.current);const c=setTimeout(()=>{y||(console.log("IntersectionObserver timeout: Forcing isRoofVisible to true"),$(!0)),p||(console.log("IntersectionObserver timeout: Forcing isHeaderVisible to true"),w(!0))},2e3);return()=>{t.current&&r.unobserve(t.current),l.current&&r.unobserve(l.current),clearTimeout(c)}},[p,y]),o.useEffect(()=>{const r=setInterval(()=>{B(c=>(c+1)%(a.quotes.length||1))},4e3);return()=>clearInterval(r)},[a.quotes.length]),o.useEffect(()=>{localStorage.setItem("completedChallenges",JSON.stringify(E))},[E]),a.dailyChallenges.length>0&&E.length===a.dailyChallenges.length&&a.dailyChallenges.every((r,c)=>E.includes(c));const d="https://aussiegutpack.github.io/AussieGutPack",h=`${d}${n.pathname==="/"?"":n.pathname}`;return e.jsxs(e.Fragment,{children:[e.jsxs(tt,{children:[e.jsx("title",{children:"Primal Biome - Empowering Digestive Health Naturally"}),e.jsx("meta",{name:"description",content:"Join Primal Biome to improve your gut health and overall wellness with natural tips, workouts, and challenges inspired by Australian Shepherds."}),e.jsx("meta",{name:"keywords",content:"gut health, digestive health, Australian Shepherd, wellness, fitness, daily challenges, Primal Biome"}),e.jsx("meta",{name:"robots",content:"index, follow"}),e.jsx("meta",{property:"og:title",content:"Primal Biome - Empowering Digestive Health Naturally"}),e.jsx("meta",{property:"og:description",content:"Join Primal Biome to improve your gut health and overall wellness with natural tips, workouts, and challenges inspired by Australian Shepherds."}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:url",content:h}),e.jsx("meta",{property:"og:image",content:`${d}/images/og-image.jpg`}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:"Primal Biome - Empowering Digestive Health Naturally"}),e.jsx("meta",{name:"twitter:description",content:"Join Primal Biome to improve your gut health and overall wellness with natural tips, workouts, and challenges inspired by Australian Shepherds."}),e.jsx("meta",{name:"twitter:image",content:`${d}/images/og-image.jpg`}),C&&e.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"BlogPosting",headline:C.title,datePublished:C.date,description:C.excerpt,author:{"@type":"Organization",name:"Primal Biome"},publisher:{"@type":"Organization",name:"Primal Biome",logo:{"@type":"ImageObject",url:`${d}/images/creatine.png`}},mainEntityOfPage:{"@type":"WebPage","@id":`${d}/blog/${C.id}`}})})]}),e.jsx("main",{id:"main-content",className:`min-h-screen flex flex-col ${s?"bg-stone-900":"bg-white"}`,style:{minHeight:"100vh"},children:f?e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsx("p",{className:`text-xl ${s?"text-white":"text-red-600"}`,children:"Loading content..."})}):b?e.jsx("div",{className:"text-center text-red-600 p-4",children:b}):e.jsxs(e.Fragment,{children:[console.log("Rendering sections, content:",a),e.jsx("section",{ref:t,className:`py-2 px-6 ${s?"bg-stone-900":"bg-white"}`,style:{minHeight:"150px"},children:e.jsx("div",{className:"container mx-auto text-center",children:e.jsxs("header",{children:[e.jsx("h1",{className:`text-4xl font-bold mb-8 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Welcome to Primal Biome"}),e.jsx("p",{className:`text-2xl max-w-2xl mx-auto mb-8 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Empowering Digestive Health Naturally"})]})})}),e.jsx("section",{className:`pt-4 pb-8 px-6 w-full m-12 ${s?"bg-stone-800 rounded-lg shadow-lg":"bg-gray-100 rounded-lg shadow-lg"}`,children:e.jsxs("div",{className:"container mx-auto text-left p-6",children:[e.jsx("h3",{className:`text-3xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"About Us"}),e.jsx("p",{className:`text-lg ${s?"text-white":"text-stone-700"}`,children:a.aboutUs})]})}),e.jsxs("div",{className:"flex flex-wrap -mx-6 mt-8",children:[e.jsx("section",{className:`workout-section py-8 px-6 w-full md:w-1/2 m-12 ${s?"bg-stone-800 rounded-lg shadow-lg":"bg-gray-100 rounded-lg shadow-lg"}`,"aria-labelledby":"workout-heading",children:e.jsxs("div",{className:"container mx-auto text-left p-6",children:[e.jsx("h3",{id:"workout-heading",className:`text-4xl font-bold mb-8 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Workout of the Day"}),e.jsx("p",{className:`${s?"text-white":"text-stone-700"}`,children:a.currentWorkout.description}),a.currentWorkout.sections&&a.currentWorkout.sections.length>0?a.currentWorkout.sections.map((r,c)=>e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:`mb-2 ${s?"text-red-400":"text-red-800"}`,children:r.title}),r.exercises&&r.exercises.length>0?e.jsx("ul",{className:`list-disc list-inside ${s?"text-white":"text-stone-700"}`,children:r.exercises.map((g,R)=>e.jsx("li",{children:g},R))}):e.jsx("p",{className:`${s?"text-white":"text-stone-700"}`,children:"No exercises listed for this section."})]},c)):e.jsx("p",{className:`${s?"text-white":"text-stone-700"} mt-4`,children:"No workout sections defined."})]})}),e.jsx("section",{className:`py-8 px-6 w-full md:w-1/2 m-12 ${s?"bg-stone-800 rounded-lg shadow-lg":"bg-gray-100 rounded-lg shadow-lg"}`,children:e.jsxs("div",{className:"container mx-auto text-left p-6",children:[e.jsx("h3",{className:`text-3xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Daily Challenges"}),e.jsx("ul",{className:`list-disc list-inside ${s?"text-white":"text-stone-700"}`,children:a.dailyChallenges.map((r,c)=>e.jsx("li",{children:r},c))})]})})]})]})})]})}const Ge=o.createContext(),yt=({children:s})=>{const[t,l]=o.useState([]),n=p=>{l(w=>w.find($=>$.id===p.id)?w.map($=>$.id===p.id?{...$,quantity:$.quantity+1}:$):[...w,{...p,quantity:1}])},f=(p,w)=>{w<=0?N(p):l(y=>y.map($=>$.id===p?{...$,quantity:w}:$))},N=p=>{l(w=>w.filter(y=>y.id!==p))},b=()=>{l([])},u=()=>t.reduce((p,w)=>p+w.price*w.quantity,0);return e.jsx(Ge.Provider,{value:{cart:t,addToCart:n,updateQuantity:f,removeFromCart:N,clearCart:b,getTotalPrice:u},children:s})},Ce=()=>o.useContext(Ge);function $t(){var de;const{isDarkMode:s}=o.useContext(q),{cart:t,addToCart:l,updateQuantity:n,removeFromCart:f,getTotalPrice:N}=Ce(),[b,u]=o.useState([]),[p,w]=o.useState([]),[y,$]=o.useState(!1),[a,m]=o.useState(""),[M,B]=o.useState(""),[C,L]=o.useState(""),[S,W]=o.useState(!1),[E,k]=o.useState(!0),[A,d]=o.useState(!1),[h,r]=o.useState(!1),c=o.useRef(null),g=o.useRef(null),R=Z();o.useEffect(()=>{console.log("isMiniCartOpen updated to:",S)},[S]),o.useEffect(()=>{console.log("showAll updated to:",y)},[y]),o.useEffect(()=>{const j=F=>{const z=document.querySelector(".cart-button"),Y=F.target.closest(".add-to-cart-button"),ce=Date.now(),D=g.current?ce-g.current:1/0;console.log("Outside click handler triggered, target:",F.target),console.log("Is target an Add to Cart button?",!!Y),console.log("Time since last Add to Cart click:",D),console.log("IsMiniCartOpen?",S),console.log("OpenedByAdd?",A),S&&!F.target.closest(".mini-cart-sidebar")&&!(z!=null&&z.contains(F.target))&&!Y&&D>100&&!A&&(console.log("Outside click detected, closing sidebar"),W(!1))};return document.addEventListener("click",j),()=>document.removeEventListener("click",j)},[S,A]),o.useEffect(()=>{(async()=>{try{k(!0);const z=(await X(K(V,"categories"))).docs.map(D=>({id:D.id,...D.data()}));u(z);const ce=(await X(K(V,"products"))).docs.map(D=>({id:D.id,...D.data()}));w(ce)}catch(F){console.error("Error fetching data from Firestore:",F)}finally{k(!1)}})()},[]),o.useEffect(()=>(t.length>0&&(c.current&&clearTimeout(c.current),console.log("Cart updated, opening sidebar, cart length:",t.length),d(!0),W(!0),t.length!==1&&(c.current=setTimeout(()=>{console.log("Auto-closing sidebar after 3 seconds"),W(!1),d(!1)},3e3))),()=>{c.current&&clearTimeout(c.current)}),[t]),o.useEffect(()=>{t.length===0&&S&&(console.log("Cart is empty, closing sidebar"),W(!1),d(!1))},[t,S]);const U=j=>{g.current=Date.now(),l(j)},Q=j=>{const F=[...j];switch(a){case"price-asc":return F.sort((z,Y)=>z.price-Y.price);case"price-desc":return F.sort((z,Y)=>Y.price-z.price);case"name-asc":return F.sort((z,Y)=>z.name.localeCompare(Y.name));case"name-desc":return F.sort((z,Y)=>Y.name.localeCompare(z.name));default:return F}},G=p.filter(j=>C?j.name.toLowerCase().includes(C.toLowerCase())||j.description.toLowerCase().includes(C.toLowerCase()):!0),ae=M?G.filter(j=>j.categoryId===M):G,ee=Q(ae);return e.jsxs("div",{className:`min-h-screen container mx-auto px-4 py-8 md:px-6 md:py-12 ${s?"bg-stone-900":"bg-stone-50"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:`text-3xl md:text-4xl font-bold transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Gut Pack"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{className:"cart-button relative flex items-center gap-2 px-3 py-2 rounded-md font-semibold transition-all duration-300 ease-in-out bg-red-800 text-white hover:bg-red-900 active:bg-red-950 md:px-4",onClick:j=>{j.stopPropagation(),console.log("Cart button clicked, isMiniCartOpen:",S),W(!S)},children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 md:h-6 md:w-6 transition-transform duration-300 ease-in-out group-hover:scale-110",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("span",{className:"hidden md:inline",children:"Cart"}),Array.isArray(t)&&t.length>0&&e.jsx("span",{className:`absolute -top-2 -right-2 bg-yellow-500 text-black rounded-full h-5 w-5 md:h-6 md:w-6 flex items-center justify-center text-xs md:text-sm transition-all duration-300 ease-in-out ${t.length>0?"animate-bounce":""}`,children:t.reduce((j,F)=>j+F.quantity,0)})]}),e.jsx("button",{onClick:()=>r(!h),className:"md:hidden text-white focus:outline-none",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})})]})]}),e.jsxs("div",{className:`${h?"block":"hidden"} md:block mb-6 transition-all duration-300 ease-in-out`,children:[e.jsx("h2",{className:`text-2xl md:text-3xl font-bold mb-4 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Products"}),e.jsx("div",{className:"mb-6",children:e.jsx("input",{type:"text",placeholder:"Search products by name or description...",value:C,onChange:j=>L(j.target.value),className:`w-full px-4 py-2 border rounded-md focus:outline-none transition-all duration-300 ease-in-out ${s?"bg-stone-700 border-stone-600 text-white placeholder-stone-400 focus:ring-red-500 focus:border-red-500":"bg-white border-red-300 text-red-600 placeholder-stone-400 focus:ring-red-500 focus:border-red-500"}`})}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 w-full",children:[e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("label",{className:`text-base md:text-lg font-medium transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Filter by Section:"}),e.jsxs("select",{value:M,onChange:j=>B(j.target.value),className:`w-full sm:w-auto px-4 py-2 border rounded-md focus:outline-none transition-all duration-300 ease-in-out ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500 focus:border-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500 focus:border-red-500"}`,children:[e.jsx("option",{value:"",children:"All Sections"}),b.map(j=>e.jsx("option",{value:j.id,children:j.name},j.id))]})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("label",{className:`text-base md:text-lg font-medium transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Sort By:"}),e.jsxs("select",{value:a,onChange:j=>m(j.target.value),className:`w-full sm:w-auto px-4 py-2 border rounded-md focus:outline-none transition-all duration-300 ease-in-out ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500 focus:border-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500 focus:border-red-500"}`,children:[e.jsx("option",{value:"",children:"None"}),e.jsx("option",{value:"price-asc",children:"Price: Low to High"}),e.jsx("option",{value:"price-desc",children:"Price: High to Low"}),e.jsx("option",{value:"name-asc",children:"Name: A-Z"}),e.jsx("option",{value:"name-desc",children:"Name: Z-A"})]})]})]}),e.jsx("button",{onClick:()=>{console.log("Show All button clicked, current showAll:",y),$(j=>{const F=!j;return console.log("Setting showAll to:",F),F&&(console.log("Resetting filterCategory to show all products"),B("")),F})},className:`w-full sm:w-auto px-4 py-2 rounded-md font-semibold transition-all duration-300 ease-in-out ${s?"bg-red-600 text-white hover:bg-red-700 active:bg-red-800":"bg-red-800 text-white hover:bg-red-900 active:bg-red-950"}`,children:y?"Group by Category":"Show All Products"})]})]}),E?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-red-600"})}):M?e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:`text-xl md:text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:((de=b.find(j=>j.id===M))==null?void 0:de.name)||"Section"}),ee.length===0?e.jsx("p",{className:`text-base md:text-lg transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:"No products found in this section."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:ee.map(j=>e.jsxs("div",{className:`p-3 md:p-4 border rounded-md shadow-md transition-all duration-300 ease-in-out hover:shadow-lg ${s?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[e.jsx("img",{src:j.image,alt:j.name,className:"w-full h-40 md:h-48 object-cover rounded-md mb-3 md:mb-4 transition-transform duration-300 ease-in-out hover:scale-105",onError:F=>{F.target.src="/UW_placeholder.jpg",console.error(`Failed to load image for ${j.name}`)}}),e.jsx("h3",{className:`text-base md:text-lg font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:j.name}),e.jsx("p",{className:`text-xs md:text-sm mb-2 transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:j.description}),e.jsxs("p",{className:`text-xs md:text-sm mb-3 md:mb-4 transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:["Price: $",j.price.toFixed(2)]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:F=>{F.stopPropagation(),g.current=Date.now(),U(j)},className:"add-to-cart-button bg-red-800 text-white px-3 py-1 md:px-4 md:py-2 rounded-md font-semibold hover:bg-red-900 active:bg-red-950 transition-all duration-300 ease-in-out flex-1 text-sm md:text-base",children:"Add to Cart"}),e.jsx("button",{onClick:()=>R(`/shop/product/${j.id}`),className:`bg-gray-600 text-white px-3 py-1 md:px-4 md:py-2 rounded-md font-semibold hover:bg-gray-700 active:bg-gray-800 transition-all duration-300 ease-in-out flex-1 text-sm md:text-base ${s?"bg-gray-500":"bg-gray-600"}`,children:"View Details"})]})]},j.id))})]}):y?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:ee.map(j=>e.jsxs("div",{className:`p-3 md:p-4 border rounded-md shadow-md transition-all duration-300 ease-in-out hover:shadow-lg ${s?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[e.jsx("img",{src:j.image,alt:j.name,className:"w-full h-40 md:h-48 object-cover rounded-md mb-3 md:mb-4 transition-transform duration-300 ease-in-out hover:scale-105",onError:F=>{F.target.src="/UW_placeholder.jpg",console.error(`Failed to load image for ${j.name}`)}}),e.jsx("h3",{className:`text-base md:text-lg font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:j.name}),e.jsx("p",{className:`text-xs md:text-sm mb-2 transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:j.description}),e.jsxs("p",{className:`text-xs md:text-sm mb-3 md:mb-4 transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:["Price: $",j.price.toFixed(2)]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:F=>{F.stopPropagation(),g.current=Date.now(),U(j)},className:"add-to-cart-button bg-red-800 text-white px-3 py-1 md:px-4 md:py-2 rounded-md font-semibold hover:bg-red-900 active:bg-red-950 transition-all duration-300 ease-in-out flex-1 text-sm md:text-base",children:"Add to Cart"}),e.jsx("button",{onClick:()=>R(`/shop/product/${j.id}`),className:`bg-gray-600 text-white px-3 py-1 md:px-4 md:py-2 rounded-md font-semibold hover:bg-gray-700 active:bg-gray-800 transition-all duration-300 ease-in-out flex-1 text-sm md:text-base ${s?"bg-gray-500":"bg-gray-600"}`,children:"View Details"})]})]},j.id))}):b.map(j=>e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:`text-xl md:text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:j.name}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:Q(p.filter(F=>F.categoryId===j.id)).map(F=>e.jsxs("div",{className:`p-3 md:p-4 border rounded-md shadow-md transition-all duration-300 ease-in-out hover:shadow-lg ${s?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[e.jsx("img",{src:F.image,alt:F.name,className:"w-full h-40 md:h-48 object-cover rounded-md mb-3 md:mb-4 transition-transform duration-300 ease-in-out hover:scale-105",onError:z=>{z.target.src="/UW_placeholder.jpg",console.error(`Failed to load image for ${F.name}`)}}),e.jsx("h3",{className:`text-base md:text-lg font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:F.name}),e.jsx("p",{className:`text-xs md:text-sm mb-2 transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:F.description}),e.jsxs("p",{className:`text-xs md:text-sm mb-3 md:mb-4 transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:["Price: $",F.price.toFixed(2)]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:z=>{z.stopPropagation(),g.current=Date.now(),U(F)},className:"add-to-cart-button bg-red-800 text-white px-3 py-1 md:px-4 md:py-2 rounded-md font-semibold hover:bg-red-900 active:bg-red-950 transition-all duration-300 ease-in-out flex-1 text-sm md:text-base",children:"Add to Cart"}),e.jsx("button",{onClick:()=>R(`/shop/product/${F.id}`),className:`bg-gray-600 text-white px-3 py-1 md:px-4 md:py-2 rounded-md font-semibold hover:bg-gray-700 active:bg-gray-800 transition-all duration-300 ease-in-out flex-1 text-sm md:text-base ${s?"bg-gray-500":"bg-gray-600"}`,children:"View Details"})]})]},F.id))})]},j.id)),S&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mini-cart-backdrop fixed inset-0 bg-black bg-opacity-50 z-40 active",onClick:j=>{j.stopPropagation(),console.log("Backdrop clicked, closing sidebar"),W(!1)}}),e.jsx("div",{className:`mini-cart-sidebar w-64 md:w-80 p-4 md:p-6 border-l shadow-lg h-screen fixed right-0 top-0 z-50 overflow-y-auto transition-transform duration-300 ease-in-out transform ${S?"translate-x-0":"translate-x-full"} ${s?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:e.jsxs("div",{className:`mini-cart-content ${S?"active":""}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:`text-lg md:text-xl font-semibold transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Your Cart"}),e.jsx("button",{onClick:j=>{j.stopPropagation(),console.log("Close button clicked, closing sidebar"),W(!1)},className:`text-base md:text-lg transition-colors duration-300 ease-in-out ${s?"text-stone-300 hover:text-red-400":"text-stone-600 hover:text-red-600"}`,children:"✕"})]}),!Array.isArray(t)||t.length===0?e.jsx("p",{className:`text-xs md:text-sm transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:"Your cart is empty."}):e.jsxs("div",{className:"space-y-4",children:[e.jsx(Ie,{component:null,children:t.map(j=>e.jsx(_e,{timeout:300,classNames:"cart-item",children:e.jsxs("div",{className:`flex items-center gap-4 p-3 border rounded-md transition-all duration-300 ease-in-out ${s?"border-stone-600":"border-red-300"}`,children:[e.jsx("img",{src:j.image,alt:j.name,className:"w-12 h-12 md:w-16 md:h-16 object-cover rounded-md",onError:F=>{F.target.src="/UW_placeholder.jpg"}}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`text-xs md:text-sm font-medium transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:j.name}),e.jsxs("p",{className:`text-xs transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:["$",j.price.toFixed(2)," x ",j.quantity]}),e.jsx("div",{className:"flex items-center gap-2 mt-2",children:e.jsxs("div",{className:"flex items-center border-2 border-red-300 rounded-full px-2 py-1",children:[j.quantity===1?e.jsx("button",{onClick:F=>{F.stopPropagation(),f(j.id)},className:"text-red-600 hover:text-red-800 active:text-red-900 transition-all duration-300 ease-in-out",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 md:h-5 md:w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5-4h4M9 7h6m-5 4v6m4-6v6"})})}):e.jsx("button",{onClick:F=>{F.stopPropagation(),n(j.id,j.quantity-1)},className:"text-black px-1 md:px-2 py-1 rounded-full hover:bg-gray-200 active:bg-gray-300 transition-all duration-300 ease-in-out",children:"-"}),e.jsx("span",{className:`text-xs md:text-sm mx-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:j.quantity}),e.jsx("button",{onClick:F=>{F.stopPropagation(),n(j.id,j.quantity+1)},className:"text-black px-1 md:px-2 py-1 rounded-full hover:bg-gray-200 active:bg-gray-300 transition-all duration-300 ease-in-out",children:"+"})]})})]}),e.jsx("button",{onClick:F=>{F.stopPropagation(),f(j.id)},className:"text-red-600 hover:text-red-800 active:text-red-900 transition-all duration-300 ease-in-out",children:"✕"})]})},j.id))}),e.jsxs("div",{className:"border-t pt-4 mt-4",children:[e.jsxs("p",{className:`text-base md:text-lg font-semibold transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:["Subtotal: $",N().toFixed(2)]}),e.jsx("button",{onClick:j=>{j.stopPropagation(),W(!1),R("/cart")},className:"w-full bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 active:bg-red-950 transition-all duration-300 ease-in-out mt-4 text-sm md:text-base",children:"Go to Cart"}),e.jsx("button",{onClick:j=>{j.stopPropagation(),W(!1),R("/cart")},className:"w-full bg-red-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-700 active:bg-red-800 transition-all duration-300 ease-in-out mt-2 text-sm md:text-base",children:"Proceed to Checkout"})]})]})]})})]})]})}function kt(){const{id:s}=je(),{isDarkMode:t}=o.useContext(q),{addToCart:l}=Ce(),[n,f]=o.useState(null),[N,b]=o.useState(!0),[u,p]=o.useState([]),[w,y]=o.useState(0),[$,a]=o.useState(0),[m,M]=o.useState(""),[B,C]=o.useState(null),L=Z();o.useEffect(()=>{const k=le.onAuthStateChanged(A=>{C(A)});return()=>k()},[]),o.useEffect(()=>{(async()=>{try{b(!0);const A=re(V,"products",s),d=await fe(A);d.exists()?f({id:d.id,...d.data()}):(console.error("Product not found"),L("/products"));const h=K(V,"products",s,"reviews"),c=(await X(h)).docs.map(g=>({id:g.id,...g.data()}));if(p(c),c.length>0){const g=c.reduce((R,U)=>R+U.rating,0);y(g/c.length)}else y(0)}catch(A){console.error("Error fetching product or reviews:",A),L("/products")}finally{b(!1)}})()},[s,L]);const S=k=>{a(k)},W=k=>{a(k)},E=async k=>{if(k.preventDefault(),!B){alert("Please sign in to submit a review.");return}if($<1||$>5){alert("Please select a rating between 1 and 5 stars.");return}if(!m.trim()){alert("Please enter a review comment.");return}try{const A={rating:$,comment:m,userId:B.uid,userEmail:B.email,timestamp:new Date().toISOString()},d=K(V,"products",s,"reviews");await ge(d,A),p([...u,A]);const h=[...u,A].reduce((r,c)=>r+c.rating,0);y(h/(u.length+1)),a(0),M("")}catch(A){console.error("Error submitting review:",A),alert("Failed to submit review. Please try again.")}};return N?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-red-600"})}):n?e.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[e.jsx("button",{onClick:()=>L("/products"),className:`mb-6 text-sm font-semibold transition-colors duration-300 ease-in-out ${t?"text-red-400 hover:text-red-500":"text-red-600 hover:text-red-800"}`,children:"← Back to Products"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("div",{className:"md:w-1/2",children:e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-96 object-cover rounded-md",onError:k=>{k.target.src="https://via.placeholder.com/300x200.png?text=No+Image",console.error(`Failed to load image for ${n.name}`)}})}),e.jsxs("div",{className:"md:w-1/2",children:[e.jsx("h1",{className:`text-3xl font-bold mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:n.name}),e.jsx("p",{className:`text-lg mb-4 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:n.description}),e.jsxs("p",{className:`text-xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["Price: $",n.price.toFixed(2)]}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex",children:[1,2,3,4,5].map(k=>e.jsx("svg",{className:`w-6 h-6 ${k<=Math.round(w)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.97a1 1 0 00.95.69h4.15c.969 0 1.371 1.24.588 1.81l-3.357 2.44a1 1 0 00-.364 1.118l1.287 3.971c.3.921-.755 1.688-1.54 1.118l-3.357-2.44a1 1 0 00-1.175 0l-3.357 2.44c-.784.57-1.838-.197-1.54-1.118l1.287-3.971a1 1 0 00-.364-1.118L2.31 9.397c-.784-.57-.38-1.81.588-1.81h4.15a1 1 0 00.95-.69l1.286-3.97z"})},k))}),e.jsxs("span",{className:`ml-2 text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["(",w.toFixed(1)," from ",u.length," reviews)"]})]}),e.jsx("button",{onClick:()=>l(n),className:"bg-red-800 text-white px-6 py-3 rounded-md font-semibold hover:bg-red-900 active:bg-red-950 transition-all duration-300 ease-in-out",children:"Add to Cart"})]})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("h2",{className:`text-2xl font-semibold mb-6 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Customer Reviews"}),e.jsxs("div",{className:`p-6 border rounded-md mb-8 ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[e.jsx("h3",{className:`text-lg font-medium mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Write a Review"}),B?e.jsxs("form",{onSubmit:E,children:[e.jsx("div",{className:"flex mb-4",children:[1,2,3,4,5].map(k=>e.jsx("svg",{onMouseEnter:()=>S(k),onMouseLeave:()=>S($),onClick:()=>W(k),className:`w-8 h-8 cursor-pointer ${k<=$?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.97a1 1 0 00.95.69h4.15c.969 0 1.371 1.24.588 1.81l-3.357 2.44a1 1 0 00-.364 1.118l1.287 3.971c.3.921-.755 1.688-1.54 1.118l-3.357-2.44a1 1 0 00-1.175 0l-3.357 2.44c-.784.57-1.838-.197-1.54-1.118l1.287-3.971a1 1 0 00-.364-1.118L2.31 9.397c-.784-.57-.38-1.81.588-1.81h4.15a1 1 0 00.95-.69l1.286-3.97z"})},k))}),e.jsx("textarea",{value:m,onChange:k=>M(k.target.value),placeholder:"Write your review here...",className:`w-full p-3 border rounded-md focus:outline-none transition-all duration-300 ease-in-out mb-4 ${t?"bg-stone-700 border-stone-600 text-white placeholder-stone-400 focus:ring-red-500 focus:border-red-500":"bg-white border-red-300 text-red-600 placeholder-stone-400 focus:ring-red-500 focus:border-red-500"}`,rows:"4"}),e.jsx("button",{type:"submit",className:"bg-red-800 text-white px-6 py-2 rounded-md font-semibold hover:bg-red-900 active:bg-red-950 transition-all duration-300 ease-in-out",children:"Submit Review"})]}):e.jsxs("p",{className:`text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["Please"," ",e.jsx("a",{href:"/login",className:"text-red-600 hover:underline",children:"sign in"})," ","to write a review."]})]}),u.length===0?e.jsx("p",{className:`text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:"No reviews yet. Be the first to review this product!"}):e.jsx("div",{className:"space-y-6",children:u.map(k=>e.jsxs("div",{className:`p-4 border rounded-md ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"flex",children:[1,2,3,4,5].map(A=>e.jsx("svg",{className:`w-5 h-5 ${A<=k.rating?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.97a1 1 0 00.95.69h4.15c.969 0 1.371 1.24.588 1.81l-3.357 2.44a1 1 0 00-.364 1.118l1.287 3.971c.3.921-.755 1.688-1.54 1.118l-3.357-2.44a1 1 0 00-1.175 0l-3.357 2.44c-.784.57-1.838-.197-1.54-1.118l1.287-3.971a1 1 0 00-.364-1.118L2.31 9.397c-.784-.57-.38-1.81.588-1.81h4.15a1 1 0 00.95-.69l1.286-3.97z"})},A))}),e.jsx("span",{className:`ml-2 text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:new Date(k.timestamp).toLocaleDateString()})]}),e.jsx("p",{className:`text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:k.comment}),e.jsxs("p",{className:`text-xs mt-2 transition-colors duration-300 ease-in-out ${t?"text-stone-400":"text-stone-500"}`,children:["By: ",k.userEmail]})]},k.id))})]})]}):null}function St(){const{isDarkMode:s}=o.useContext(q),{cart:t,updateQuantity:l,removeFromCart:n,clearCart:f,getTotalPrice:N}=Ce(),[b,u]=o.useState(!1),[p,w]=o.useState({name:"",email:"",address:""}),y=Z(),$=async a=>{if(a.preventDefault(),!p.name||!p.email||!p.address){alert("Please fill in all fields to proceed with checkout.");return}u(!0);try{const m={items:t,total:N(),customer:p,createdAt:new Date().toISOString(),status:"pending"};await ge(K(V,"orders"),m),f(),alert("Order placed successfully! Thank you for your purchase."),y("/")}catch(m){console.error("Error placing order:",m),alert("Failed to place order. Please try again.")}finally{u(!1),w({name:"",email:"",address:""})}};return e.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${s?"bg-stone-900":"bg-stone-50"}`,children:[e.jsx("h1",{className:`text-4xl font-bold mb-8 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Your Cart"}),t.length===0?e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:`text-lg mb-4 ${s?"text-stone-300":"text-stone-600"}`,children:"Your cart is empty."}),e.jsx("button",{onClick:()=>y("/products"),className:"bg-red-800 text-white px-6 py-3 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Shop Now"})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"space-y-4",children:t.map(a=>e.jsxs("div",{className:`flex items-center gap-4 p-4 border rounded-md ${s?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[e.jsx("img",{src:a.image,alt:a.name,className:"w-20 h-20 object-cover rounded-md",onError:m=>{m.target.src="https://via.placeholder.com/80"}}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`text-lg font-medium ${s?"text-white":"text-red-600"}`,children:a.name}),e.jsxs("p",{className:`text-sm ${s?"text-stone-300":"text-stone-600"}`,children:["Price: $",a.price.toFixed(2)]}),e.jsxs("p",{className:`text-sm ${s?"text-stone-300":"text-stone-600"}`,children:["Subtotal: $",(a.price*a.quantity).toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>l(a.id,a.quantity-1),className:"bg-gray-300 text-black px-2 py-1 rounded-md hover:bg-gray-400 transition-colors duration-300 ease-in-out",disabled:b,children:"-"}),e.jsx("span",{className:`text-lg ${s?"text-white":"text-red-600"}`,children:a.quantity}),e.jsx("button",{onClick:()=>l(a.id,a.quantity+1),className:"bg-gray-300 text-black px-2 py-1 rounded-md hover:bg-gray-400 transition-colors duration-300 ease-in-out",disabled:b,children:"+"})]}),e.jsx("button",{onClick:()=>n(a.id),className:"bg-red-600 text-white px-4 py-1 rounded-md font-semibold hover:bg-red-700 transition-colors duration-300 ease-in-out",disabled:b,children:"Remove"})]},a.id))}),e.jsxs("div",{className:`p-6 border rounded-md ${s?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[e.jsx("h2",{className:`text-2xl font-semibold mb-4 ${s?"text-white":"text-red-600"}`,children:"Order Summary"}),e.jsxs("p",{className:`text-lg mb-4 ${s?"text-stone-300":"text-stone-600"}`,children:["Total: $",N().toFixed(2)]}),e.jsxs("form",{onSubmit:$,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-white":"text-red-600"}`,children:"Full Name"}),e.jsx("input",{type:"text",value:p.name,onChange:a=>w({...p,name:a.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"John Doe",disabled:b})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-white":"text-red-600"}`,children:"Email"}),e.jsx("input",{type:"email",value:p.email,onChange:a=>w({...p,email:a.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"john.doe@example.com",disabled:b})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-white":"text-red-600"}`,children:"Shipping Address"}),e.jsx("textarea",{value:p.address,onChange:a=>w({...p,address:a.target.value}),required:!0,rows:"3",className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"123 Main St, City, Country",disabled:b})]}),e.jsx("button",{type:"submit",className:`w-full px-4 py-2 rounded-md font-semibold transition-colors duration-300 ease-in-out ${b?"bg-gray-500 text-white cursor-not-allowed":"bg-red-800 text-white hover:bg-red-900"}`,disabled:b,children:b?"Processing...":"Place Order"})]})]})]})]})}function Ct(){const{isDarkMode:s}=o.useContext(q),{cart:t,updateQuantity:l,removeFromCart:n}=Ce(),f=Object.values(t).reduce((b,u)=>b+u.price*u.quantity,0),N=()=>{alert("Order placed successfully!"),Object.keys(t).forEach(b=>n(b))};return e.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${s?"bg-stone-900":"bg-stone-50"}`,children:[e.jsxs("header",{className:"text-center mb-12",children:[e.jsx("h1",{className:`text-4xl font-bold mb-4 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Checkout"}),e.jsx("p",{className:`text-lg max-w-2xl mx-auto transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:"Review your cart and place your order."})]}),Object.keys(t).length===0?e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:"Your cart is empty."}),e.jsx(ie,{to:"/shop",variant:"primary",className:"mt-4 bg-red-800 text-white hover:bg-red-900",children:"Continue Shopping"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-6",children:Object.entries(t).map(([b,u])=>e.jsxs("div",{className:"flex items-center py-3 transition-colors duration-300 ease-in-out",children:[e.jsx("div",{className:"w-20 h-20 flex-shrink-0",children:e.jsx("img",{src:u.image||"https://via.placeholder.com/80",alt:u.name,className:"w-full h-full object-cover rounded"})}),e.jsxs("div",{className:"flex-1 ml-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`text-base font-semibold transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:u.name}),e.jsxs("p",{className:`text-sm transition-colors duration-300 ease-in-out ${s?"text-stone-400":"text-stone-500"}`,children:["Color: ",u.color]}),e.jsxs("p",{className:`text-sm transition-colors duration-300 ease-in-out ${s?"text-stone-400":"text-stone-500"}`,children:["Size: ",u.size]})]}),e.jsx("button",{onClick:()=>n(b),className:`text-lg transition-colors duration-300 ease-in-out ${s?"text-stone-400 hover:text-stone-300":"text-stone-500 hover:text-stone-600"}`,children:"✕"})]}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx("button",{onClick:()=>l(b,-1),className:`w-8 h-8 flex items-center justify-center border rounded-l transition-colors duration-300 ease-in-out ${s?"border-stone-600 bg-stone-700 text-white hover:bg-stone-600":"border-stone-300 bg-stone-200 text-stone-600 hover:bg-stone-300"}`,children:"-"}),e.jsx("span",{className:`w-10 h-8 flex items-center justify-center border-t border-b transition-colors duration-300 ease-in-out ${s?"border-stone-600 text-white":"border-stone-300 text-stone-600"}`,children:u.quantity}),e.jsx("button",{onClick:()=>l(b,1),className:`w-8 h-8 flex items-center justify-center border rounded-r transition-colors duration-300 ease-in-out ${s?"border-stone-600 bg-stone-700 text-white hover:bg-stone-600":"border-stone-300 bg-stone-200 text-stone-600 hover:bg-stone-300"}`,children:"+"})]})]}),e.jsx("div",{className:"text-right ml-4",children:u.originalPrice?e.jsxs("div",{children:[e.jsxs("p",{className:`text-sm line-through transition-colors duration-300 ease-in-out ${s?"text-stone-400":"text-stone-500"}`,children:["$",(u.originalPrice*u.quantity).toFixed(2)]}),e.jsxs("p",{className:`text-base font-semibold transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:["$",(u.price*u.quantity).toFixed(2)]})]}):e.jsxs("p",{className:`text-base font-semibold transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:["$",(u.price*u.quantity).toFixed(2)]})})]},b))}),e.jsxs("div",{className:"mt-12 text-right",children:[e.jsxs("p",{className:`text-xl font-semibold transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:["Total: $",f.toFixed(2)]}),e.jsx(ie,{onClick:N,variant:"primary",className:"mt-4 bg-red-800 text-white hover:bg-red-900",children:"Place Order"})]})]})]})}const Ae=[{id:1,title:"Microbiome Basics",content:"Your gut contains over 100 trillion bacteria, with more than 1000 different species playing crucial roles in digestion, immunity, and overall health.",category:"Fundamentals"},{id:2,title:"Probiotics Matter",content:"Probiotics are live bacteria that can improve digestive health, boost immune function, and potentially help with mental health.",category:"Nutrition"},{id:3,title:"This means nothing to me",content:"This is all just filler crap",category:"Nutrition"},{id:4,title:"Worst for Gut Microbiome",content:["The following harm gut health (in order of severity):","• Stress: Elevates cortisol, disrupting gut flora and increasing permeability","• Glyphosate: Kills beneficial bacteria, feeds pathogenic ones","• Antibiotics: Kills good and bad bacteria; pair with spore-based probiotics to avoid yeast infections","• Seed Oils: Feed pathogenic bacteria, have a long half-life","• Refined Sugars: Feed harmful bacteria, promote dysbiosis","• Long-term Restrictive Diets: Reduce microbiome diversity","• Processed Foods: Contain antibiotics, glyphosate, and dyes that feed pathogenic bacteria and cancer cells"],category:"Gut Microbiome Education"},{id:5,title:"Types of Probiotics",content:`Key probiotic types include:
• Bacillus (subtilis, coagulans, clausii, indicus): Endospore-protected, survives gastric system and antibiotics, colonizes all gut areas, called 'next-generation probiotics'
• Lactobacillus (acidophilus, rhamnosus, reuteri, plantarum, casei, gasseri): Some strains survive gastric system, mainly colonize upper intestines
• Bifidobacterium (longum, infantis, bifidum, animalis, lactis): Doesn’t survive gastric system or antibiotics, functions in lower intestines; seek exopolysaccharide strains for dendritic cell communication
• Saccharomyces (boulardii, cerevisiae): Gram-positive yeast, survives antibiotics but not gastric system, aids antibiotic-associated diarrhea`,category:"Gut Microbiome Education"},{id:6,title:"Pillars of a Healthy Gut",content:`Build a resilient gut with:
• A nutrient-dense, diverse, unprocessed diet with prebiotics
• Healthy exercise, sleep, and an uplifting social life worth enjoying
• Sun exposure and skin contact with nature
• Research-backed, third-party-tested supplements tailored to your needs`,category:"Gut Microbiome Education"},{id:7,title:"Boosts Cognition",content:"A healthy gut strengthens your immune system and helps fight off infections.",category:"Benefits"},{id:8,title:"Improves Digestion",content:"Proper gut health aids digestion, prevents bloating, and reduces stomach discomfort.",category:"Benefits"},{id:9,title:"Enhances Mental Health",content:"Your gut and brain are connected—good gut health can help reduce anxiety and improve mood.",category:"Benefits"}];function $e({title:s,content:t,footer:l,className:n}){const{isDarkMode:f}=o.useContext(q);return e.jsxs("div",{className:`p-4 border rounded-lg shadow-md ${f?"bg-stone-800 border-stone-700":"bg-white border-red-300"} ${n}`,children:[e.jsx("h3",{className:`text-xl font-semibold transition-colors duration-300 ease-in-out ${f?"text-red-400":"text-red-800"}`,children:s}),t&&e.jsx("p",{className:`mt-2 transition-colors duration-300 ease-in-out ${f?"text-white":"text-red-600"}`,children:t}),l&&e.jsx("p",{className:`mt-2 text-sm transition-colors duration-300 ease-in-out ${f?"text-white":"text-red-600"}`,children:l})]})}function Dt(){const{isDarkMode:s}=o.useContext(q);o.useEffect(()=>{});const t=Ae.filter(n=>n.category==="Benefits"),l=Ae.filter(n=>n.category!=="Benefits");return e.jsxs("div",{className:`container mx-auto px-4 py-8 min-h-screen flex flex-col ${s?"bg-stone-900":"bg-white"}`,children:[e.jsx("div",{className:"pt-16"}),e.jsx("h1",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Understanding Gut Health"}),e.jsxs("section",{className:"mb-8 flex-grow",children:[e.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"What is Gut Health?"}),e.jsx("p",{className:`leading-relaxed transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Gut health refers to the balance and function of bacteria in the digestive system..."})]}),e.jsxs("section",{className:"py-12 px-6 flex-grow",children:[e.jsx("h2",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Why Gut Health Matters"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:t.map(n=>e.jsx(J,{to:`/gut-health/${n.id}`,children:e.jsx($e,{title:n.title,content:n.content,className:"hover:shadow-lg transition-shadow duration-300 ease-in-out"})},n.id))})]}),e.jsxs("section",{className:"flex-grow",children:[e.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Gut Health Facts"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 gap-4",children:l.map(n=>e.jsx(J,{to:`/gut-health/${n.id}`,children:e.jsx($e,{title:n.title,content:n.content,footer:`Category: ${n.category}`,className:`border-l-4 border-red-500 hover:shadow-lg transition-shadow duration-300 ease-in-out ${s?"bg-stone-800":"bg-stone-50"}`})},n.id))})]})]})}function Pt(){const{id:s}=je(),{isDarkMode:t}=o.useContext(q);Z();const l=Ae.find(n=>n.id.toString()===s);return l?e.jsxs("div",{className:`min-h-screen container mx-auto p-6 ${t?"bg-stone-900":"bg-white"}`,children:[e.jsx("h1",{className:`text-3xl font-bold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:l.title}),e.jsxs("p",{className:`mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:["Category: ",l.category]}),Array.isArray(l.content)?e.jsx("ul",{className:`text-lg mb-6 list-disc pl-6 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:l.content.map((n,f)=>e.jsx("li",{className:"mb-2",children:n},f))}):e.jsx("p",{className:`text-lg mb-6 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:l.content}),e.jsx(ie,{to:"/gut-health",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Gut Health"})]}):e.jsxs("div",{className:`min-h-screen container mx-auto p-6 ${t?"bg-stone-900":"bg-white"}`,children:[e.jsx("h1",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Fact Not Found"}),e.jsx(ie,{to:"/gut-health",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Gut Health"})]})}const Et=[{id:1,name:"Enterogermina",description:"spore-forming probiotic that survives antibiotics and stomach acids, promoting gut health and recovery.",price:"",category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"],url:"https://a.co/d/ePluKSI"},{id:2,name:"Just thrive probiotic",description:"Something here about the product",price:29.99,category:"Long Term",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]},{id:3,name:"Megasporebiotic",description:"Something here about the product",price:29.99,category:"Fiber",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]}];function At(){const{isDarkMode:s}=o.useContext(q),[t,l]=o.useState([]),n=b=>l([...t,b]),f=b=>l(t.filter(u=>u.id!==b)),N=t.reduce((b,u)=>b+u.price,0);return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:`text-3xl font-bold mb-6 ${s?"text-green-300":"text-green-800"}`,children:"Purchase Gut Health Supplements"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl font-semibold mb-4 ${s?"text-green-200":"text-green-700"}`,children:"Available Products"}),Et.map(b=>e.jsxs("div",{className:`border p-4 mb-4 rounded-lg flex justify-between items-center ${s?"border-gray-700 bg-gray-800":"border-gray-300 bg-white"}`,children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-bold ${s?"text-gray-300":"text-gray-800"}`,children:b.name}),e.jsxs("p",{className:`${s?"text-green-400":"text-green-700"}`,children:["$",b.price]})]}),e.jsx(ie,{onClick:()=>n(b),variant:"primary",children:"Add to Cart"})]},b.id))]}),e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl font-semibold mb-4 ${s?"text-green-200":"text-green-700"}`,children:"Your Cart"}),t.length===0?e.jsx("p",{className:`${s?"text-gray-400":"text-gray-500"}`,children:"Your cart is empty"}):e.jsxs(e.Fragment,{children:[t.map(b=>e.jsxs("div",{className:`flex justify-between items-center border-b py-2 ${s?"border-gray-700":"border-gray-300"}`,children:[e.jsx("span",{className:`${s?"text-gray-300":"text-gray-800"}`,children:b.name}),e.jsxs("div",{children:[e.jsxs("span",{className:`mr-4 ${s?"text-green-400":"text-green-700"}`,children:["$",b.price]}),e.jsx("button",{onClick:()=>f(b.id),className:"text-red-500 hover:text-red-600",children:"Remove"})]})]},b.id)),e.jsxs("div",{className:`mt-4 font-bold ${s?"text-green-300":"text-green-800"}`,children:["Total: $",N.toFixed(2)]}),e.jsx(ie,{className:"mt-4 w-full",variant:"primary",disabled:t.length===0,children:"Checkout"})]})]})]})]})}const Mt=()=>{const{isDarkMode:s}=o.useContext(q),[t,l]=o.useState([]),[n,f]=o.useState(!0),[N,b]=o.useState(null);o.useEffect(()=>{(async()=>{try{const m=K(V,"content","blog","posts"),B=(await X(m)).docs.map(C=>{var L,S;return{id:C.id,title:C.data().title,blocks:C.data().blocks||[{type:"paragraph",content:""}],date:C.data().date||"",lastEdited:C.data().lastEdited||"",image:((S=(L=C.data().blocks)==null?void 0:L.find(W=>W.type==="image"))==null?void 0:S.content)||""}});if(console.log("Fetched blog posts:",B),B.length>0){const C=B.sort((L,S)=>{const W=L.date?new Date(L.date):null,E=S.date?new Date(S.date):null;return console.log(`Sorting: ${L.title} (${L.date}) -> ${W}, ${S.title} (${S.date}) -> ${E}`),!W||isNaN(W.getTime())?1:!E||isNaN(E.getTime())?-1:E-W});console.log("Sorted blog posts:",C),l(C)}else l([])}catch(m){console.error("Error fetching blog posts:",m),b("Failed to load blog posts. Please try again later."),l([])}finally{f(!1)}})()},[]);const u=a=>{if(!a)return"Date not set";const m=new Date(a);return isNaN(m.getTime())?"Invalid Date":m.toLocaleDateString([],{year:"numeric",month:"numeric",day:"numeric"})},p=a=>{if(!a)return"Never edited";const m=new Date(a);return isNaN(m.getTime())?"Invalid Timestamp":m.toLocaleString([],{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0})},w=a=>{if(!a.blocks||a.blocks.length===0)return"Read more...";const m=a.blocks.find(M=>M.type==="paragraph"||M.type==="list"||M.type==="bullet");return m?m.type==="paragraph"?m.content.split(" ").slice(0,15).join(" ")+"...":Array.isArray(m.content)?m.content[0]+(m.content.length>1?"...":""):"Read more...":"Read more..."},y=a=>{if(!a.date)return!1;const m=new Date("2025-04-16T00:00:00Z"),M=new Date(a.date);return isNaN(M.getTime())?!1:M>m},$={hidden:{opacity:0,y:20},visible:a=>({opacity:1,y:0,transition:{delay:a*.1,duration:.5,ease:"easeOut"}})};return n?e.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${s?"bg-stone-900":"bg-stone-50"}`,children:[e.jsx("h1",{className:`text-4xl md:text-5xl font-extrabold mb-12 text-center transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Our Blog"}),e.jsx("div",{className:"text-center",children:e.jsx(pe,{color:s?"#f87171":"#b91c1c"})})]}):N?e.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${s?"bg-stone-900":"bg-stone-50"}`,children:[e.jsx("h1",{className:`text-4xl md:text-5xl font-extrabold mb-12 text-center transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Our Blog"}),e.jsx("p",{className:`text-lg text-center transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-600"}`,children:N})]}):e.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${s?"bg-stone-900":"bg-stone-50"}`,children:[e.jsx("h1",{className:`text-4xl md:text-5xl font-extrabold mb-12 text-center transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Our Blog"}),t.length===0?e.jsx("p",{className:`text-lg text-center transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:"No blog posts available yet. Check back soon!"}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:e.jsx(st,{children:t.map((a,m)=>{const M=y(a);return e.jsx(qe.div,{custom:m,initial:"hidden",animate:"visible",variants:$,className:"group",children:M?e.jsx($e,{title:e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:`text-xl font-semibold transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-700"} group-hover:underline`,children:a.title}),e.jsx("span",{className:`ml-2 text-sm italic transition-colors duration-300 ease-in-out ${s?"text-stone-400":"text-stone-500"}`,children:"(Coming Soon)"})]}),footer:e.jsxs("div",{className:`text-sm transition-colors duration-300 ease-in-out ${s?"text-stone-400":"text-stone-500"}`,children:[e.jsxs("p",{children:["Publish Date: ",u(a.date)]}),e.jsxs("p",{children:["Last Edited: ",p(a.lastEdited)]})]}),content:e.jsxs(e.Fragment,{children:[a.image&&e.jsx("div",{className:"mb-4 h-48 w-full overflow-hidden rounded-lg",children:e.jsx("img",{src:a.image,alt:"Blog preview",className:"h-full w-full object-cover transition-transform duration-300 ease-in-out"})}),e.jsx("p",{className:`text-base transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"} line-clamp-3`,children:w(a)})]}),className:`relative p-6 rounded-xl shadow-lg transition-all duration-300 ease-in-out border-t-4 ${s?"bg-stone-800 border-red-400/50 opacity-50":"bg-white border-red-800/50 opacity-50"} cursor-not-allowed overflow-hidden`}):e.jsx(J,{to:`/blog/${a.id}`,className:"block",children:e.jsx($e,{title:e.jsx("span",{className:`text-xl font-semibold transition-colors duration-300 ease-in-out ${s?"text-stone-200":"text-stone-800"} group-hover:underline`,children:a.title}),footer:e.jsxs("div",{className:`text-sm transition-colors duration-300 ease-in-out ${s?"text-stone-400":"text-stone-500"}`,children:[e.jsxs("p",{children:["Published: ",u(a.date)]}),e.jsxs("p",{children:["Last Edited: ",p(a.lastEdited)]})]}),content:e.jsxs(e.Fragment,{children:[a.image&&e.jsx("div",{className:"mb-4 h-48 w-full overflow-hidden rounded-lg",children:e.jsx("img",{src:a.image,alt:"Blog preview",className:"h-full w-full object-cover transition-transform duration-300 ease-in-out group-hover:scale-105"})}),e.jsx("p",{className:`text-base transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"} line-clamp-3`,children:w(a)})]}),className:`relative p-6 rounded-xl shadow-lg transition-all duration-300 ease-in-out border-t-4 ${s?"bg-stone-800 border-red-400/50 hover:bg-stone-700 hover:shadow-xl":"bg-white border-red-800/50 hover:bg-stone-100 hover:shadow-xl"} overflow-hidden`})})},a.id)})})})]})},Lt=()=>{const{id:s}=je(),{isDarkMode:t}=o.useContext(q),[l,n]=o.useState(null),[f,N]=o.useState(!0),[b,u]=o.useState(null),[p,w]=o.useState(!1);o.useEffect(()=>{(async()=>{try{N(!0),u(null);const M=re(V,"content","blog","posts",s),B=await fe(M);if(B.exists()){const C={id:B.id,...B.data()},L=new Date("2025-04-16T00:00:00Z"),S=C.date?new Date(C.date):null;S&&S>L?w(!0):w(!1),n(C)}else n(null)}catch(M){console.error("Error fetching blog post:",M),u("Failed to load blog post. Please try again later.")}finally{N(!1)}})()},[s]);const y=m=>m?new Date(m).toLocaleDateString([],{year:"numeric",month:"numeric",day:"numeric"}):"Date not set",$=m=>m?new Date(m).toLocaleString([],{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}):"Never edited",a={hidden:{opacity:0,y:20},visible:m=>({opacity:1,y:0,transition:{delay:m*.1,duration:.5,ease:"easeOut"}})};return f?e.jsx("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:e.jsx("div",{className:"text-center",children:e.jsx(pe,{color:t?"#f87171":"b91c1c"})})}):b?e.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[e.jsx("h1",{className:`text-4xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Error"}),e.jsx("p",{className:`text-lg text-center transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-600"}`,children:b}),e.jsx(ie,{to:"/blog",variant:"primary",className:"mt-4 bg-red-800 text-white px-6 py-2 rounded-lg hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Blog"})]}):l?p?e.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[e.jsx("h1",{className:`text-4xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Coming Soon"}),e.jsxs("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["This blog post will be available on ",y(l.date),"."]}),e.jsx(ie,{to:"/blog",variant:"primary",className:"mt-4 bg-red-800 text-white px-6 py-2 rounded-lg hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Blog"})]}):e.jsx("div",{className:`min-h-screen container mx-auto px-4 sm:px-6 lg:px-8 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:`relative rounded-xl shadow-lg p-8 mb-12 overflow-hidden border-t-4 ${t?"bg-gradient-to-r from-stone-800 to-stone-700 border-red-400/50":"bg-gradient-to-r from-white to-stone-100 border-red-800/50"}`,children:[e.jsx("h1",{className:`text-4xl md:text-5xl font-extrabold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:l.title}),e.jsxs("div",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-400":"text-stone-500"} flex flex-col sm:flex-row sm:items-center sm:space-x-4`,children:[e.jsxs("p",{children:["Published: ",y(l.date)]}),e.jsxs("p",{children:["Last Edited: ",$(l.lastEdited)]})]})]}),e.jsx("div",{className:`prose prose-lg max-w-none transition-colors duration-300 ease-in-out ${t?"text-stone-200 prose-invert":"text-stone-700"}`,children:l.blocks&&l.blocks.length>0?l.blocks.map((m,M)=>e.jsx(qe.div,{custom:M,initial:"hidden",animate:"visible",variants:a,className:"mb-8",children:m.type==="paragraph"?e.jsx("p",{className:"leading-relaxed",children:m.content}):m.type==="list"&&Array.isArray(m.content)?e.jsx("ol",{className:"list-decimal pl-6 space-y-2",children:m.content.map((B,C)=>e.jsx("li",{className:"leading-relaxed",children:B},C))}):m.type==="bullet"&&Array.isArray(m.content)?e.jsx("ul",{className:"list-disc pl-6 space-y-2",children:m.content.map((B,C)=>e.jsx("li",{className:"leading-relaxed",children:B},C))}):m.type==="image"&&m.content?e.jsx("div",{className:"my-6",children:e.jsx("img",{src:m.content,alt:"Blog content",className:"w-full max-w-lg mx-auto rounded-lg shadow-md"})}):m.type==="link"&&m.content.url?e.jsx(J,{to:m.content.url,target:"_blank",rel:"noopener noreferrer",className:`underline transition-colors duration-300 ease-in-out ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-500"}`,children:m.content.text||m.content.url}):e.jsx("p",{className:"text-red-500",children:"Invalid block format"})},M)):e.jsx("p",{children:"No content available."})}),e.jsxs(ie,{to:"/blog",variant:"primary",className:"mt-12 inline-flex items-center px-6 py-3 rounded-lg shadow-md transition-all duration-300 ease-in-out bg-red-800 text-white hover:bg-red-900 hover:shadow-lg",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Back to Blog"]})]})}):e.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[e.jsx("h1",{className:`text-4xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Post Not Found"}),e.jsx(ie,{to:"/blog",variant:"primary",className:"bg-red-800 text-white px-6 py-2 rounded-lg hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Blog"})]})},Ft=[{question:"What is gut health?",answer:"Gut health refers to the balance of microorganisms in your digestive tract."},{question:"How can I improve my gut health?",answer:"Eating fiber-rich foods, fermented foods, and avoiding processed sugars can help."},{question:"What foods are good for gut health?",answer:"Fermented foods like yogurt, kimchi, and kefir, along with fiber-rich vegetables like broccoli and beans, are great for gut health."},{question:"Can stress affect gut health?",answer:"Yes, stress can alter the balance of gut bacteria and affect digestion, leading to issues like bloating or stomach discomfort."}];function Wt(){const{isDarkMode:s}=o.useContext(q);return e.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[e.jsx("h1",{className:`text-4xl font-extrabold text-center mb-6 ${s?"text-green-300":"text-green-700"}`,children:"Frequently Asked Questions"}),e.jsx("div",{className:"space-y-4",children:Ft.map((t,l)=>e.jsxs("details",{className:`group border p-4 rounded-lg shadow-md transition-all duration-300 ease-in-out ${s?"bg-gray-800 border-gray-700 text-gray-300":"bg-white border-gray-300 text-gray-800"}`,children:[e.jsxs("summary",{className:`cursor-pointer font-semibold text-lg flex justify-between items-center ${s?"group-open:text-green-400":"group-open:text-green-600"}`,children:[t.question,e.jsx("span",{className:"text-green-500 group-open:rotate-180 transition-transform duration-300",children:"▼"})]}),e.jsx("p",{className:"mt-2 text-gray-600",children:t.answer})]},l))})]})}function Tt(){const{isDarkMode:s}=o.useContext(q),[t,l]=o.useState({name:"",email:"",message:""}),[n,f]=o.useState(""),N=u=>{const{name:p,value:w}=u.target;l(y=>({...y,[p]:w}))},b=u=>{u.preventDefault(),f("Sending..."),rt.send("service_abc123","template_xyz789",{from_name:t.name,from_email:t.email,message:t.message,to_email:"ThomasScales13@yahoo.com"},"user_123456").then(p=>{f("Thank you! Your inquiry has been sent."),l({name:"",email:"",message:""}),setTimeout(()=>f(""),3e3)},p=>{f("Failed to send message. Please try again."),console.error("EmailJS error:",p.text),setTimeout(()=>f(""),3e3)})};return e.jsx("div",{className:`min-h-screen py-12 px-4 ${s?"bg-stone-900":"bg-white"}`,children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-6 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Contact Us"}),e.jsx("p",{className:`mb-8 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Have any questions or inquiries? Fill out the form below, and we'll get back to you as soon as possible!"}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Name"}),e.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:N,required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Your Name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:N,required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"your@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Message"}),e.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:N,required:!0,rows:"5",className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Your inquiry or message..."})]}),e.jsx("button",{type:"submit",className:"bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out w-full",children:"Send Message"}),n&&e.jsx("p",{className:`mt-4 text-center transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:n})]})]})})}function Bt(){const{isDarkMode:s}=o.useContext(q),[t,l]=o.useState(""),[n,f]=o.useState(""),[N,b]=o.useState(!1),[u,p]=o.useState(null),w=Z();o.useEffect(()=>{const a=ke(le,m=>{b(!!m)});return()=>a()},[]);const y=async a=>{a.preventDefault(),p(null);try{await ot(le,t,n),b(!0)}catch(m){p("Failed to log in: "+m.message)}},$=async()=>{try{await Se(le),b(!1),w("/admin")}catch(a){p("Failed to log out: "+a.message)}};return N?e.jsxs("div",{className:`min-h-screen flex flex-col items-center justify-center ${s?"bg-stone-900":"bg-white"}`,children:[e.jsx("h2",{className:`text-3xl transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"} mb-8`,children:"Admin Dashboard"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("button",{onClick:()=>w("/admin/home"),className:"bg-red-800 text-white px-6 py-3 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Edit Home Page Content"}),e.jsx("button",{onClick:()=>w("/admin/blog"),className:"bg-red-800 text-white px-6 py-3 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Manage Blog Posts"}),e.jsx("button",{onClick:()=>w("/admin/products"),className:"bg-red-800 text-white px-6 py-3 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Manage Products"}),e.jsx("button",{onClick:()=>w("/"),className:"bg-red-800 text-white px-6 py-3 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Home"}),e.jsx("button",{onClick:$,className:"bg-red-800 text-white px-6 py-3 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Log Out"})]})]}):e.jsx("div",{className:`min-h-screen flex items-center justify-center ${s?"bg-stone-900":"bg-white"}`,children:e.jsxs("div",{className:`p-6 ${s?"bg-stone-800":"bg-stone-100"} rounded shadow`,children:[e.jsx("h2",{className:`text-2xl transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"} mb-4`,children:"Admin Login"}),u&&e.jsx("p",{className:`text-red-500 mb-4 ${s?"text-red-400":"text-red-600"}`,children:u}),e.jsxs("form",{onSubmit:y,children:[e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"email",value:t,onChange:a=>l(a.target.value),className:`border p-2 w-full mb-4 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Enter email",required:!0})}),e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"password",value:n,onChange:a=>f(a.target.value),className:`border p-2 w-full mb-4 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Enter password",required:!0})}),e.jsx("button",{type:"submit",className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Login"})]})]})})}function Ot(){const{isDarkMode:s}=o.useContext(q),[t,l]=o.useState([""]),[n,f]=o.useState(""),[N,b]=o.useState([{title:"Main Workout",exercises:[""]}]),[u,p]=o.useState([]),[w,y]=o.useState(""),[$,a]=o.useState([""]),[m,M]=o.useState(null),B=Z();o.useEffect(()=>{const D=ke(le,v=>{v||B("/admin")});return()=>D()},[B]),o.useEffect(()=>{(async()=>{var v,i,x,P,O,T,H,I;try{const oe=re(V,"content","home"),we=await fe(oe);if(we.exists()){const se=we.data();l((v=se.quotes)!=null&&v.length?se.quotes:[""]),f(((i=se.currentWorkout)==null?void 0:i.description)||"");const be=(P=(x=se.currentWorkout)==null?void 0:x.sections)!=null&&P.length?se.currentWorkout.sections:[],ve=(T=(O=se.currentWorkout)==null?void 0:O.warmup)!=null&&T.length?se.currentWorkout.warmup:[],De=be.findIndex(ne=>ne.title==="Warm Up");if(ve.length>0&&De===-1)b([{title:"Warm Up",exercises:ve},...be]);else if(ve.length>0&&De!==-1){const ne=[...be];ne[De].exercises=ve,b(ne)}else be.length>0?b(be):b([{title:"Main Workout",exercises:[""]}]);p((H=se.scheduledWorkouts)!=null&&H.length?se.scheduledWorkouts.map(ne=>{var Te;const ze=(Te=ne.sections)!=null&&Te.length?ne.sections:[{title:"Warm Up",exercises:ne.warmup||[""]},{title:"Main Workout",exercises:ne.main||[""]}];return{description:ne.description||"",sections:ze,updateDateTime:ne.updateDateTime||""}}):[{description:"",sections:[{title:"Warm Up",exercises:[""]},{title:"Main Workout",exercises:[""]}],updateDateTime:new Date().toISOString()}]),y(se.aboutUs||""),a((I=se.dailyChallenges)!=null&&I.length?se.dailyChallenges:[""])}}catch(oe){M("Failed to load content: "+oe.message)}})()},[]);const C=async()=>{M(null);const D={quotes:t.filter(v=>v.trim()!==""),currentWorkout:{description:n,sections:N.filter(v=>v.title.trim()&&v.exercises.some(i=>i.trim())).map(v=>({title:v.title,exercises:v.exercises.filter(i=>i.trim()!=="")}))},scheduledWorkouts:u.filter(v=>v.description.trim()&&v.sections.some(i=>i.title.trim()&&i.exercises.some(x=>x.trim()))&&v.updateDateTime.trim()).map(v=>({description:v.description,sections:v.sections.filter(i=>i.title.trim()&&i.exercises.some(x=>x.trim())).map(i=>({title:i.title,exercises:i.exercises.filter(x=>x.trim()!=="")})),updateDateTime:v.updateDateTime})),aboutUs:w.trim(),dailyChallenges:$.filter(v=>v.trim()!==""),lastUpdated:new Date().toISOString()};try{await ye(re(V,"content","home"),D),alert("Home page content saved successfully!"),B("/admin")}catch(v){M("Error saving changes: "+v.message)}},L=async()=>{try{await Se(le),B("/admin")}catch(D){M("Failed to log out: "+D.message)}},S=()=>l([...t,""]),W=D=>l(t.filter((v,i)=>i!==D)),E=(D,v)=>{const i=[...t];i[D]=v,l(i)},k=()=>b([...N,{title:"",exercises:[""]}]),A=D=>b(N.filter((v,i)=>i!==D)),d=(D,v)=>{const i=[...N];i[D].title=v,b(i)},h=D=>{const v=[...N];v[D].exercises.push(""),b(v)},r=(D,v)=>{const i=[...N];i[D].exercises=i[D].exercises.filter((x,P)=>P!==v),b(i)},c=(D,v,i)=>{const x=[...N];x[D].exercises[v]=i,b(x)},g=()=>p([...u,{description:"",sections:[{title:"Warm Up",exercises:[""]},{title:"Main Workout",exercises:[""]}],updateDateTime:new Date().toISOString()}]),R=D=>p(u.filter((v,i)=>i!==D)),U=D=>{if(console.log("toESTDateTimeString received isoString:",D),!D)return"";const v=new Date(D);console.log("toESTDateTimeString parsed UTC date object:",v);const i=new Date(v.getTime()+v.getTimezoneOffset()*6e4);console.log("toESTDateTimeString calculated localDate object:",i);const x=i.getFullYear(),P=String(i.getMonth()+1).padStart(2,"0"),O=String(i.getDate()).padStart(2,"0"),T=String(i.getHours()).padStart(2,"0"),H=String(i.getMinutes()).padStart(2,"0"),I=`${x}-${P}-${O}T${T}:${H}`;return console.log("toESTDateTimeString returning formatted string:",I),I},Q=(D,v,i)=>{console.log("updateScheduledWorkout received value:",i);const x=[...u];if(v==="updateDateTime"){const P=new Date(i);console.log("updateScheduledWorkout parsed localDate object:",P);const O=new Date(P.getTime()-P.getTimezoneOffset()*6e4);console.log("updateScheduledWorkout calculated utcDate object:",O),x[D][v]=O.toISOString(),console.log(`Scheduled workout ${D} updateDateTime set to (UTC ISO): ${x[D][v]}`)}else x[D][v]=i;p(x)},G=D=>{const v=[...u];v[D].sections.push({title:"",exercises:[""]}),p(v)},ae=(D,v)=>{const i=[...u];i[D].sections=i[D].sections.filter((x,P)=>P!==v),p(i)},ee=(D,v,i)=>{const x=[...u];x[D].sections[v].title=i,p(x)},de=(D,v)=>{const i=[...u];i[D].sections[v].exercises.push(""),p(i)},j=(D,v,i)=>{const x=[...u];x[D].sections[v].exercises=x[D].sections[v].exercises.filter((P,O)=>O!==i),p(x)},F=(D,v,i,x)=>{const P=[...u];P[D].sections[v].exercises[i]=x,p(P)},z=()=>a([...$,""]),Y=D=>a($.filter((v,i)=>i!==D)),ce=(D,v)=>{const i=[...$];i[D]=v,a(i)};return e.jsxs("div",{className:`min-h-screen p-6 ${s?"bg-stone-900":"bg-white"}`,children:[e.jsx("h2",{className:`text-3xl transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"} mb-6`,children:"Edit Home Page Content"}),m&&e.jsx("p",{className:`text-red-500 mb-4 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-600"}`,children:m}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"} mb-2`,children:"Quotes"}),t.map((D,v)=>e.jsxs("div",{className:"flex mb-2",children:[e.jsx("input",{type:"text",value:D,onChange:i=>E(v,i.target.value),className:`border p-2 w-full mr-2 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Quote ${v+1}`}),e.jsx("button",{onClick:()=>W(v),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:t.length===1,children:"Remove"})]},v)),e.jsx("button",{onClick:S,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Quote"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"} mb-2`,children:"About Us"}),e.jsx("textarea",{value:w,onChange:D=>y(D.target.value),className:`border p-2 w-full h-24 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"About Us text"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:`text-2xl font-semibold mb-4 ${s?"text-red-400":"text-red-800"}`,children:"Current Workout"}),e.jsxs("div",{className:`p-4 rounded ${s?"bg-stone-700":"bg-stone-200"}`,children:[e.jsx("label",{htmlFor:"workoutDesc",className:"block text-lg font-semibold mb-2",children:"Description:"}),e.jsx("input",{type:"text",id:"workoutDesc",value:n,onChange:D=>f(D.target.value),className:`border p-2 w-full mb-4 ${s?"bg-stone-600 border-stone-500 text-white":"bg-white border-stone-300 text-stone-700"}`}),e.jsx("h4",{className:`text-xl font-semibold mt-4 mb-2 ${s?"text-red-400":"text-red-800"}`,children:"Sections:"}),N.map((D,v)=>e.jsxs("div",{className:`p-4 mb-4 rounded ${s?"bg-stone-600":"bg-stone-300"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("input",{type:"text",placeholder:"Section Title (e.g., Warm Up, Main Workout)",value:D.title,onChange:i=>d(v,i.target.value),className:`border p-2 w-3/4 ${s?"bg-stone-700 border-stone-500 text-white":"bg-white border-stone-300 text-stone-700"}`}),e.jsx("button",{onClick:()=>A(v),className:"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700 transition-colors duration-300",children:"Remove Section"})]}),e.jsx("h5",{className:`text-md font-semibold mb-2 ${s?"text-red-300":"text-red-700"}`,children:"Exercises:"}),D.exercises.map((i,x)=>e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("input",{type:"text",placeholder:"Exercise",value:i,onChange:P=>c(v,x,P.target.value),className:`border p-2 w-full mr-2 ${s?"bg-stone-700 border-stone-500 text-white":"bg-white border-stone-300 text-stone-700"}`}),e.jsx("button",{onClick:()=>r(v,x),className:"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700 transition-colors duration-300",children:"Remove Exercise"})]},x)),e.jsx("button",{onClick:()=>h(v),className:"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 transition-colors duration-300 mt-2",children:"Add Exercise"})]},v)),e.jsx("button",{onClick:k,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors duration-300 mt-4",children:"Add New Section"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"} mb-2`,children:"Scheduled Workouts"}),u.map((D,v)=>e.jsxs("div",{className:`mb-4 border p-4 rounded ${s?"border-stone-600":"border-red-300"}`,children:[e.jsx("input",{type:"datetime-local",value:U(D.updateDateTime),onChange:i=>Q(v,"updateDateTime",i.target.value),className:`border p-2 w-full mb-2 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Update Date and Time"}),e.jsx("textarea",{value:D.description,onChange:i=>Q(v,"description",i.target.value),className:`border p-2 w-full h-24 mb-2 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Workout Description"}),D.sections.map((i,x)=>e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("input",{type:"text",value:i.title,onChange:P=>ee(v,x,P.target.value),className:`border p-2 w-full mr-2 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Section Title (e.g., Strength, Conditioning)"}),e.jsx("button",{onClick:()=>ae(v,x),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:D.sections.length===1,children:"Remove Section"})]}),i.exercises.map((P,O)=>e.jsxs("div",{className:"flex mb-2",children:[e.jsx("input",{type:"text",value:P,onChange:T=>F(v,x,O,T.target.value),className:`border p-2 w-full mr-2 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Exercise ${O+1}`}),e.jsx("button",{onClick:()=>j(v,x,O),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:i.exercises.length===1,children:"Remove"})]},`scheduled-section-${v}-${x}-exercise-${O}`)),e.jsx("button",{onClick:()=>de(v,x),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Exercise"})]},`scheduled-section-${v}-${x}`)),e.jsx("button",{onClick:()=>G(v),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-4 mr-2",children:"Add Workout Section"}),e.jsx("button",{onClick:()=>R(v),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",disabled:u.length===1&&!u[0].description,children:"Remove Workout"})]},v)),e.jsx("button",{onClick:g,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Scheduled Workout"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"} mb-2`,children:"Daily Gut Health Challenges"}),$.map((D,v)=>e.jsxs("div",{className:"flex mb-2",children:[e.jsx("input",{type:"text",value:D,onChange:i=>ce(v,i.target.value),className:`border p-2 w-full mr-2 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Challenge ${v+1}`}),e.jsx("button",{onClick:()=>Y(v),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:$.length===1,children:"Remove"})]},v)),e.jsx("button",{onClick:z,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Challenge"})]}),e.jsx("button",{onClick:C,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mr-4",children:"Save Changes"}),e.jsx("button",{onClick:()=>B("/admin"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mr-4",children:"Back to Admin Dashboard"}),e.jsx("button",{onClick:L,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Log Out"})]})}function Rt(){const{isDarkMode:s}=o.useContext(q),[t,l]=o.useState([]),[n,f]=o.useState(null),[N,b]=o.useState(null),u=Z();o.useEffect(()=>{const d=ke(le,h=>{h||u("/admin")});return()=>d()},[u]),o.useEffect(()=>{(async()=>{try{const h=K(V,"content","blog","posts"),g=(await X(h)).docs.map(R=>({id:R.id,title:R.data().title||"",blocks:R.data().blocks||[{type:"paragraph",content:""}],date:R.data().date||"",lastEdited:R.data().lastEdited||""})).sort((R,U)=>{const Q=R.date?new Date(R.date):new Date(0);return(U.date?new Date(U.date):new Date(0))-Q});l(g.length?g:[{id:"",title:"",blocks:[{type:"paragraph",content:""}],date:new Date().toISOString().split("T")[0],lastEdited:""}])}catch(h){b("Failed to load blog posts: "+h.message)}})()},[]);const p=async()=>{b(null);try{const d=K(V,"content","blog","posts"),h=await X(d);for(const r of h.docs)await Ne(r.ref);for(const r of t)if(r.title.trim()&&r.blocks.some(c=>c.type==="paragraph"||c.type==="image"||c.type==="link"?c.content.trim():c.content.some(g=>g.trim()))){const c=r.id||Date.now().toString();await ye(re(d,c),{id:c,title:r.title,blocks:r.blocks.map(g=>({type:g.type,content:g.type==="paragraph"||g.type==="image"?g.content:g.type==="link"?{url:g.content.url,text:g.content.text}:g.content.filter(R=>R.trim()!=="")})),date:r.date||new Date().toISOString(),lastEdited:r.lastEdited||new Date().toISOString()})}alert("Blog posts saved successfully!"),f(null),u("/admin")}catch(d){b("Error saving blog posts: "+d.message)}},w=async()=>{try{await Se(le),u("/admin")}catch(d){b("Failed to log out: "+d.message)}},y=()=>{const d=[...t,{id:"",title:"",blocks:[{type:"paragraph",content:""}],date:new Date().toISOString().split("T")[0],lastEdited:new Date().toISOString()}];l(d),f(d.length-1)},$=d=>{const h=t.filter((r,c)=>c!==d);l(h),f(null)},a=(d,h,r)=>{const c=[...t];c[d]={...c[d],[h]:r,lastEdited:new Date().toISOString()},l(c)},m=(d,h)=>{const r=[...t];r[d].blocks.push({type:h,content:h==="paragraph"||h==="image"?"":h==="link"?{url:"",text:""}:[""]}),r[d].lastEdited=new Date().toISOString(),l(r)},M=(d,h)=>{const r=[...t];r[d].blocks=r[d].blocks.filter((c,g)=>g!==h),r[d].lastEdited=new Date().toISOString(),l(r)},B=(d,h,r)=>{const c=[...t];c[d].blocks[h]={type:r,content:r==="paragraph"||r==="image"?"":r==="link"?{url:"",text:""}:[""]},c[d].lastEdited=new Date().toISOString(),l(c)},C=(d,h,r)=>{const c=[...t];c[d].blocks[h].content=r,c[d].lastEdited=new Date().toISOString(),l(c)},L=(d,h,r,c)=>{const g=[...t];g[d].blocks[h].content[r]=c,g[d].lastEdited=new Date().toISOString(),l(g)},S=(d,h)=>{const r=[...t];r[d].blocks[h].content.push(""),r[d].lastEdited=new Date().toISOString(),l(r)},W=(d,h,r)=>{const c=[...t];c[d].blocks[h].content=c[d].blocks[h].content.filter((g,R)=>R!==r),c[d].lastEdited=new Date().toISOString(),l(c)},E=(d,h,r,c)=>{const g=[...t];g[d].blocks[h].content[r]=c,g[d].lastEdited=new Date().toISOString(),l(g)},k=d=>d?new Date(d).toLocaleString([],{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}):"Never edited",A=d=>d?new Date(d).toLocaleDateString():"Not set";return e.jsxs("div",{className:`min-h-screen p-6 ${s?"bg-stone-900":"bg-white"}`,children:[e.jsx("h2",{className:`text-3xl transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"} mb-6`,children:"Manage Blog Posts"}),N&&e.jsx("p",{className:`text-red-500 mb-4 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-600"}`,children:N}),n===null?e.jsxs("div",{className:"mb-6",children:[t.length===0?e.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${s?"text-stone-300":"text-stone-600"}`,children:"No blog posts available. Add a new post to get started."}):e.jsx("div",{className:"grid gap-4",children:t.map((d,h)=>e.jsxs("div",{className:`p-4 border rounded cursor-pointer transition-all duration-300 ease-in-out hover:shadow-lg ${s?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,onClick:()=>f(h),children:[e.jsx("h3",{className:`text-xl font-semibold transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:d.title||"Untitled Post"}),e.jsxs("p",{className:`text-sm italic transition-colors duration-300 ease-in-out ${s?"text-stone-400":"text-stone-500"}`,children:["Publish Date: ",A(d.date)]}),e.jsxs("p",{className:`text-sm italic transition-colors duration-300 ease-in-out ${s?"text-stone-400":"text-stone-500"}`,children:["Last Edited: ",k(d.lastEdited)]})]},h))}),e.jsx("button",{onClick:y,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-4",children:"Add Blog Post"}),e.jsx("button",{onClick:()=>u("/admin"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-4 ml-4",children:"Back to Admin Dashboard"}),e.jsx("button",{onClick:w,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-4 ml-4",children:"Log Out"})]}):e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:`mb-4 border p-4 rounded ${s?"border-stone-600":"border-red-300"}`,children:[e.jsx("input",{type:"text",value:t[n].title,onChange:d=>a(n,"title",d.target.value),className:`border p-2 w-full mb-2 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Blog Title"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:`block mb-1 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Publish Date:"}),e.jsx("input",{type:"date",value:t[n].date.split("T")[0]||"",onChange:d=>a(n,"date",d.target.value),className:`border p-2 w-full ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`})]}),e.jsxs("p",{className:`text-sm italic mb-4 transition-colors duration-300 ease-in-out ${s?"text-stone-400":"text-stone-500"}`,children:["Last Edited:"," ",k(t[n].lastEdited)]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Content Blocks"}),t[n].blocks.map((d,h)=>e.jsxs("div",{className:"mb-4 border-t pt-2 mt-2 border-stone-400",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("label",{className:`mr-4 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Block Type:"}),e.jsxs("select",{value:d.type,onChange:r=>B(n,h,r.target.value),className:`border p-2 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,children:[e.jsx("option",{value:"paragraph",children:"Paragraph"}),e.jsx("option",{value:"list",children:"Numbered List"}),e.jsx("option",{value:"bullet",children:"Bullet Points"}),e.jsx("option",{value:"image",children:"Image"}),e.jsx("option",{value:"link",children:"Link"})]}),e.jsx("button",{onClick:()=>M(n,h),className:"ml-2 bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:t[n].blocks.length===1,children:"Remove Block"})]}),d.type==="paragraph"?e.jsx("textarea",{value:d.content,onChange:r=>C(n,h,r.target.value),className:`border p-2 w-full h-24 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Paragraph Content"}):d.type==="image"?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",value:d.content,onChange:r=>C(n,h,r.target.value),className:`border p-2 w-full ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Image URL (e.g., https://example.com/image.jpg)"}),d.content&&e.jsx("img",{src:d.content,alt:"Preview",className:"w-full max-w-xs rounded-lg shadow-md"})]}):d.type==="link"?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",value:d.content.url,onChange:r=>L(n,h,"url",r.target.value),className:`border p-2 w-full ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Link URL (e.g., https://example.com)"}),e.jsx("input",{type:"text",value:d.content.text,onChange:r=>L(n,h,"text",r.target.value),className:`border p-2 w-full ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Link Text (e.g., Click here)"})]}):e.jsxs("div",{children:[d.content.map((r,c)=>e.jsxs("div",{className:"flex mb-2",children:[e.jsx("input",{type:"text",value:r,onChange:g=>E(n,h,c,g.target.value),className:`border p-2 w-full mr-2 ${s?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Item ${c+1}`}),e.jsx("button",{onClick:()=>W(n,h,c),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:t[n].blocks[h].content.length===1,children:"Remove"})]},c)),e.jsx("button",{onClick:()=>S(n,h),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add List Item"})]})]},h)),e.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[e.jsx("button",{onClick:()=>m(n,"paragraph"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Paragraph"}),e.jsx("button",{onClick:()=>m(n,"list"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Numbered List"}),e.jsx("button",{onClick:()=>m(n,"bullet"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Bullet Points"}),e.jsx("button",{onClick:()=>m(n,"image"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 easement-in-out",children:"Add Image"}),e.jsx("button",{onClick:()=>m(n,"link"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Link"})]})]}),e.jsx("button",{onClick:()=>$(n),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2 mr-4",disabled:t.length===1,children:"Remove Post"}),e.jsx("button",{onClick:()=>f(null),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Back to List"})]}),e.jsx("button",{onClick:p,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mr-4",children:"Save Changes"}),e.jsx("button",{onClick:()=>u("/admin"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mr-4",children:"Back to Admin Dashboard"}),e.jsx("button",{onClick:w,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Log Out"})]})]})}function Ut(){const{isDarkMode:s}=o.useContext(q),[t,l]=o.useState([]),[n,f]=o.useState([]),[N,b]=o.useState(""),[u,p]=o.useState({categoryId:"",name:"",price:"",description:"",image:null}),[w,y]=o.useState(null),[$,a]=o.useState(null),[m,M]=o.useState(null),B=Z();o.useEffect(()=>{const r=ke(le,c=>{c||B("/admin")});return()=>r()},[B]),o.useEffect(()=>{(async()=>{try{const g=(await X(K(V,"categories"))).docs.map(Q=>({id:Q.id,...Q.data()}));l(g);const U=(await X(K(V,"products"))).docs.map(Q=>({id:Q.id,...Q.data()}));f(U)}catch(c){M("Error fetching data from Firestore: "+c.message)}})()},[]);const C=async r=>{if(r.preventDefault(),!!N)try{const c=await ge(K(V,"categories"),{name:N});l([...t,{id:c.id,name:N}]),b("")}catch(c){M("Error adding category: "+c.message)}},L=async r=>{try{const c=re(V,"categories",r.id);await Be(c,{name:r.name}),l(t.map(g=>g.id===r.id?{...g,name:r.name}:g)),y(null)}catch(c){M("Error updating category: "+c.message)}},S=async r=>{try{await Ne(re(V,"categories",r)),l(t.filter(g=>g.id!==r));const c=n.filter(g=>g.categoryId===r);for(const g of c){if(g.image&&g.image!=="https://via.placeholder.com/80"){const R=g.image.split("/products%2F")[1].split("?")[0],U=Pe(Ee,`products/${decodeURIComponent(R)}`);await Oe(U).catch(Q=>{M(`Error deleting image for product ${g.id}: `+Q.message)})}await Ne(re(V,"products",g.id))}f(n.filter(g=>g.categoryId!==r))}catch(c){M("Error deleting category: "+c.message)}},W=async r=>{if(!r)return null;const c=Pe(Ee,`products/${r.name}`);return await nt(c,r),await at(c)},E=r=>r.categoryId?r.name.trim()?r.description.trim()?!r.price||isNaN(r.price)||Number(r.price)<=0?"A valid price is required.":r.image?"":"An image is required.":"Description is required.":"Name is required.":"Category is required.",k=async r=>{r.preventDefault();const c=E(u);if(c){M(c);return}try{const g=await W(u.image),R=await ge(K(V,"products"),{categoryId:u.categoryId,name:u.name,price:parseFloat(u.price),description:u.description,image:g||"https://via.placeholder.com/80"});f([...n,{id:R.id,categoryId:u.categoryId,name:u.name,price:parseFloat(u.price),description:u.description,image:g||"https://via.placeholder.com/80"}]),p({categoryId:"",name:"",price:"",description:"",image:null}),M(null)}catch(g){M("Error adding product: "+g.message),alert("Failed to add product. Check Firebase Storage rules and ensure Storage is enabled.")}},A=async r=>{const c=E(r);if(c){M(c);return}try{const g=r.image instanceof File?await W(r.image):r.image,R=re(V,"products",r.id);await Be(R,{categoryId:r.categoryId,name:r.name,price:parseFloat(r.price),description:r.description,image:g||"https://via.placeholder.com/80"}),f(n.map(U=>U.id===r.id?{...U,categoryId:r.categoryId,name:r.name,price:parseFloat(r.price),description:r.description,image:g||"https://via.placeholder.com/80"}:U)),a(null),M(null)}catch(g){M("Error updating product: "+g.message),alert("Failed to update product. Check Firebase Storage rules and ensure Storage is enabled.")}},d=async r=>{try{const c=n.find(g=>g.id===r);if(c.image&&c.image!=="https://via.placeholder.com/80"){const g=c.image.split("/products%2F")[1].split("?")[0],R=Pe(Ee,`products/${decodeURIComponent(g)}`);await Oe(R).catch(U=>{M(`Error deleting image for product ${r}: `+U.message)})}await Ne(re(V,"products",r)),f(n.filter(g=>g.id!==r)),M(null)}catch(c){M("Error deleting product: "+c.message)}},h=async()=>{try{await Se(le),B("/admin")}catch(r){M("Failed to log out: "+r.message)}};return e.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${s?"bg-stone-900":"bg-stone-50"}`,children:[e.jsx("h1",{className:`text-4xl font-bold mb-6 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:"Admin - Manage Products"}),m&&e.jsx("p",{className:`text-red-500 mb-4 transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-600"}`,children:m}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Add New Category"}),e.jsxs("form",{onSubmit:C,className:"flex gap-4",children:[e.jsx("input",{type:"text",value:N,onChange:r=>b(r.target.value),placeholder:"Category Name",className:`flex-1 px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`}),e.jsx("button",{type:"submit",className:"bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Category"})]})]}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Manage Categories"}),e.jsx("div",{className:"space-y-4",children:t.map(r=>e.jsx("div",{className:`p-4 border rounded-md ${s?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:(w==null?void 0:w.id)===r.id?e.jsxs("div",{className:"flex gap-4",children:[e.jsx("input",{type:"text",value:w.name,onChange:c=>y({...w,name:c.target.value}),className:`flex-1 px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`}),e.jsx("button",{onClick:()=>L(w),className:"bg-green-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-green-700 transition-colors duration-300 ease-in-out",children:"Save"}),e.jsx("button",{onClick:()=>y(null),className:"bg-gray-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-gray-700 transition-colors duration-300 ease-in-out",children:"Cancel"})]}):e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`text-lg font-medium ${s?"text-white":"text-red-600"}`,children:r.name}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>y(r),className:"bg-blue-600 text-white px-4 py-1 rounded-md font-semibold hover:bg-blue-700 transition-colors duration-300 ease-in-out",children:"Edit"}),e.jsx("button",{onClick:()=>S(r.id),className:"bg-red-600 text-white px-4 py-1 rounded-md font-semibold hover:bg-red-700 transition-colors duration-300 ease-in-out",children:"Delete"})]})]})},r.id))})]}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Add New Product"}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Category"}),e.jsxs("select",{value:u.categoryId,onChange:r=>p({...u,categoryId:r.target.value}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,children:[e.jsx("option",{value:"",children:"Select a category"}),t.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Name"}),e.jsx("input",{type:"text",value:u.name,onChange:r=>p({...u,name:r.target.value}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Product Name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Price"}),e.jsx("input",{type:"number",step:"0.01",value:u.price,onChange:r=>p({...u,price:r.target.value}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Price (e.g., 29.99)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Description"}),e.jsx("textarea",{value:u.description,onChange:r=>p({...u,description:r.target.value}),rows:"3",className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-purple-300 text-purple-600 focus:ring-purple-500"}`,placeholder:"Product Description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:r=>p({...u,image:r.target.files[0]}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),e.jsx("button",{type:"submit",className:"bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out w-full",children:"Add Product"})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Manage Products"}),e.jsx("div",{className:"space-y-4",children:n.map(r=>{var c;return e.jsx("div",{className:`p-4 border rounded-md ${s?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:($==null?void 0:$.id)===r.id?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Category"}),e.jsxs("select",{value:$.categoryId,onChange:g=>a({...$,categoryId:g.target.value}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,children:[e.jsx("option",{value:"",children:"Select a category"}),t.map(g=>e.jsx("option",{value:g.id,children:g.name},g.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Name"}),e.jsx("input",{type:"text",value:$.name,onChange:g=>a({...$,name:g.target.value}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Price"}),e.jsx("input",{type:"number",step:"0.01",value:$.price,onChange:g=>a({...$,price:g.target.value}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Description"}),e.jsx("textarea",{value:$.description,onChange:g=>a({...$,description:g.target.value}),rows:"3",className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:"Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:g=>a({...$,image:g.target.files[0]}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${s?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`}),$.image&&typeof $.image=="string"&&e.jsx("img",{src:$.image,alt:"Current product",className:"w-32 h-32 object-cover mt-2 rounded-md"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>A($),className:"bg-green-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-green-700 transition-colors duration-300 ease-in-out w-full",children:"Save"}),e.jsx("button",{onClick:()=>a(null),className:"bg-gray-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-gray-700 transition-colors duration-300 ease-in-out w-full",children:"Cancel"})]})]}):e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[r.image&&r.image!=="https://via.placeholder.com/80"&&e.jsx("img",{src:r.image,alt:r.name,className:"w-16 h-16 object-cover rounded-md"}),e.jsxs("div",{children:[e.jsx("span",{className:`text-lg font-medium ${s?"text-white":"text-red-600"}`,children:r.name}),e.jsxs("p",{className:`text-sm ${s?"text-stone-300":"text-stone-600"}`,children:["Category:"," ",((c=t.find(g=>g.id===r.categoryId))==null?void 0:c.name)||"Unknown"]}),e.jsxs("p",{className:`text-sm ${s?"text-stone-300":"text-stone-600"}`,children:["Price: $",r.price.toFixed(2)]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>a(r),className:"bg-blue-600 text-white px-4 py-1 rounded-md font-semibold hover:bg-blue-700 transition-colors duration-300 ease-in-out",children:"Edit"}),e.jsx("button",{onClick:()=>d(r.id),className:"bg-red-600 text-white px-4 py-1 rounded-md font-semibold hover:bg-red-700 transition-colors duration-300 ease-in-out",children:"Delete"})]})]})},r.id)})})]}),e.jsxs("div",{className:"mt-6 flex gap-4",children:[e.jsx("button",{onClick:()=>B("/admin"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Admin Dashboard"}),e.jsx("button",{onClick:h,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Log Out"})]})]})}const It=()=>{const s=Z(),{isDarkMode:t}=o.useContext(q),l=()=>{s("/fitness-tracker/create-custom-plan")};return e.jsx("div",{className:`min-h-screen pt-20 ${t?"bg-stone-900 text-red-400":"bg-white text-red-800"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-10",children:[e.jsx("h1",{className:`text-4xl font-bold text-center mb-8 ${t?"text-red-400":"text-red-800"}`,children:"Fitness Tracker"}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:`p-6 rounded-lg shadow-md mb-6 ${t?"bg-stone-800":"bg-red-50"}`,children:[e.jsx("h2",{className:`text-2xl font-semibold text-center mb-4 ${t?"text-red-400":"text-red-800"}`,children:"Create a Custom Plan"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:l,className:"px-6 py-2 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:"Create Custom Plan"})})]}),e.jsxs("div",{className:`p-6 rounded-lg shadow-md ${t?"bg-stone-800":"bg-red-50"}`,children:[e.jsx("h2",{className:`text-2xl font-semibold text-center mb-4 ${t?"text-red-400":"text-red-800"}`,children:"Track Your Progress"}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx(J,{to:"/fitness-tracker/log",className:"px-6 py-2 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:"Log Meals & Workouts"}),e.jsx(J,{to:"/fitness-tracker/history",className:"px-6 py-2 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:"View History"})]})]})]})]})})},_t=()=>{const{id:s}=je(),{isDarkMode:t}=o.useContext(q),[l,n]=o.useState(null),[f,N]=o.useState(!0);o.useEffect(()=>{(async()=>{const w=me(),y=await fe(re(w,"customPlans",s));y.exists()&&n({id:y.id,...y.data()}),N(!1)})()},[s]);const b=p=>{if(!(l!=null&&l.startDate))return"";const w=new Date(l.startDate);return w.setDate(w.getDate()+p*7),w.toLocaleDateString()},u=(p,w)=>{if(!(l!=null&&l.startDate))return"";const y=new Date(l.startDate);return y.setDate(y.getDate()+p*7+w),y.toLocaleDateString()};return f?e.jsx("div",{className:`min-h-screen pt-20 flex items-center justify-center ${t?"bg-stone-900 text-red-400":"bg-white text-red-800"}`,children:e.jsx("p",{className:"text-xl",children:"Loading..."})}):l?e.jsx("div",{className:`min-h-screen pt-20 ${t?"bg-stone-900 text-red-400":"bg-white text-red-800"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-10",children:[e.jsx("h1",{className:`text-4xl font-bold text-center mb-8 ${t?"text-red-400":"text-red-800"}`,children:l.name}),e.jsx("div",{className:"max-w-4xl mx-auto",children:l.weeks.map((p,w)=>e.jsxs("div",{className:`mb-8 p-6 rounded-lg shadow-md ${t?"bg-stone-800":"bg-red-50"}`,children:[e.jsxs("h2",{className:`text-2xl font-semibold mb-4 ${t?"text-red-400":"text-red-800"}`,children:["Week ",p.week," (",b(w),")"]}),p.days.map((y,$)=>e.jsxs("div",{className:`border p-4 rounded-md mb-4 ${t?"border-stone-600":"border-red-200"}`,children:[e.jsxs("h3",{className:`text-xl font-semibold mb-2 ${t?"text-red-400":"text-red-800"}`,children:[y.day," (",u(w,$),")"]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("h4",{className:`font-semibold mb-1 ${t?"text-red-400":"text-red-800"}`,children:"Workouts:"}),e.jsx("ul",{className:"list-disc pl-5",children:y.workouts.map((a,m)=>e.jsxs("li",{children:[a.name,": ",a.sets," sets x ",a.reps," ","reps"]},m))})]})]},$))]},w))})]})}):e.jsx("div",{className:`min-h-screen pt-20 flex items-center justify-center ${t?"bg-stone-900 text-red-400":"bg-white text-red-800"}`,children:e.jsx("p",{className:"text-xl",children:"Plan not found."})})},qt=()=>{const s=Z(),{isDarkMode:t}=o.useContext(q),[l,n]=o.useState(""),[f,N]=o.useState(new Date().toISOString().split("T")[0]),[b,u]=o.useState([]),[p,w]=o.useState({}),[y,$]=o.useState(Array.from({length:6},(E,k)=>({week:k+1,days:[{day:"Monday",workouts:[]},{day:"Tuesday",workouts:[]},{day:"Wednesday",workouts:[]},{day:"Thursday",workouts:[]},{day:"Friday",workouts:[]},{day:"Saturday",workouts:[]},{day:"Sunday",workouts:[]}]}))),[a,m]=o.useState(Array(6).fill(!1));o.useEffect(()=>{(async()=>{const k=me(),d=(await X(K(k,"workouts"))).docs.map(r=>({id:r.id,...r.data()})),h=d.reduce((r,c)=>{const g=c.muscleGroup||"Other";return r[g]||(r[g]=[]),r[g].push(c),r},{});u(d),w(h)})()},[]);const M=E=>{const k=[...a];k[E]=!k[E],m(k)},B=(E,k)=>{var d;const A=[...y];A[E].days[k].workouts.push({name:((d=b[0])==null?void 0:d.name)||"",sets:3,reps:10}),$(A)},C=(E,k,A,d,h)=>{const r=[...y];r[E].days[k].workouts[A][d]=h,$(r)},L=async E=>{E.preventDefault();const k=me(),A={userId:"anonymous",name:l,startDate:new Date(f).toISOString(),weeks:y},d=await ge(K(k,"customPlans"),A);s(`/fitness-tracker/plan/${d.id}`)},S=E=>{const k=new Date(f);return k.setDate(k.getDate()+E*7),k.toLocaleDateString()},W=(E,k)=>{const A=new Date(f);return A.setDate(A.getDate()+E*7+k),A.toLocaleDateString()};return e.jsx("div",{className:`min-h-screen pt-20 ${t?"bg-stone-900 text-red-400":"bg-white text-red-800"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-10",children:[e.jsx("h1",{className:`text-4xl font-bold text-center mb-8 ${t?"text-red-400":"text-red-800"}`,children:"Create Custom Plan"}),e.jsxs("form",{onSubmit:L,children:[e.jsx("div",{className:`mb-8 p-6 rounded-lg shadow-md ${t?"bg-stone-800":"bg-red-50"}`,children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-xl font-semibold mb-2 ${t?"text-red-400":"text-red-800"}`,children:"Plan Name"}),e.jsx("input",{type:"text",value:l,onChange:E=>n(E.target.value),className:`w-full p-3 border rounded-md focus:outline-none focus:ring-2 ${t?"bg-stone-800 border-stone-600 text-red-400 focus:ring-red-800":"bg-white border-red-200 text-red-800 focus:ring-red-800"}`,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-xl font-semibold mb-2 ${t?"text-red-400":"text-red-800"}`,children:"Start Date"}),e.jsx("input",{type:"date",value:f,onChange:E=>N(E.target.value),className:`w-full p-3 border rounded-md focus:outline-none focus:ring-2 ${t?"bg-stone-800 border-stone-600 text-red-400 focus:ring-red-800":"bg-white border-red-200 text-red-800 focus:ring-red-800"}`,required:!0})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:y.map((E,k)=>e.jsxs("div",{className:`p-6 rounded-lg shadow-md ${t?"bg-stone-800":"bg-red-50"}`,children:[e.jsxs("div",{className:`flex justify-between items-center cursor-pointer p-2 rounded-md transition-colors duration-200 ${t?"hover:bg-stone-700":"hover:bg-red-100"}`,onClick:()=>M(k),children:[e.jsxs("h2",{className:`text-2xl font-semibold ${t?"text-red-400":"text-red-800"}`,children:["Week ",E.week," (",S(k),")"]}),a[k]?e.jsx(Le,{className:`w-6 h-6 ${t?"text-red-400":"text-red-800"}`}):e.jsx(Fe,{className:`w-6 h-6 ${t?"text-red-400":"text-red-800"}`})]}),a[k]&&e.jsx("div",{className:"mt-4",children:E.days.map((A,d)=>e.jsxs("div",{className:`border p-4 rounded-md mb-4 ${t?"border-stone-600":"border-red-200"}`,children:[e.jsxs("h3",{className:`text-xl font-semibold mb-2 ${t?"text-red-400":"text-red-800"}`,children:[A.day," (",W(k,d),")"]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:`text-base font-semibold mb-2 ${t?"text-red-400":"text-red-800"}`,children:"Workouts:"}),A.workouts.length>0?A.workouts.map((h,r)=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 mb-3",children:[e.jsx("select",{value:h.name,onChange:c=>C(k,d,r,"name",c.target.value),className:`w-full sm:w-1/3 p-2 border rounded-md focus:outline-none focus:ring-2 mb-2 sm:mb-0 ${t?"bg-stone-800 border-stone-600 text-red-400 focus:ring-red-800":"bg-white border-red-200 text-red-800 focus:ring-red-800"}`,children:Object.keys(p).map(c=>e.jsx("optgroup",{label:c,children:p[c].map(g=>e.jsx("option",{value:g.name,children:g.name},g.id))},c))}),e.jsx("input",{type:"number",value:h.sets,onChange:c=>C(k,d,r,"sets",Number(c.target.value)),className:`w-full sm:w-20 p-2 border rounded-md focus:outline-none focus:ring-2 mb-2 sm:mb-0 ${t?"bg-stone-800 border-stone-600 text-red-400 focus:ring-red-800":"bg-white border-red-200 text-red-800 focus:ring-red-800"}`,placeholder:"Sets"}),e.jsx("input",{type:"text",value:h.reps,onChange:c=>C(k,d,r,"reps",c.target.value),className:`w-full sm:w-20 p-2 border rounded-md focus:outline-none focus:ring-2 ${t?"bg-stone-800 border-stone-600 text-red-400 focus:ring-red-800":"bg-white border-red-200 text-red-800 focus:ring-red-800"}`,placeholder:"Reps"})]},r)):e.jsx("p",{className:`text-sm italic ${t?"text-red-400":"text-red-800"}`,children:"No workouts added yet."}),e.jsx("button",{type:"button",onClick:()=>B(k,d),className:"mt-2 w-full p-2 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:"Add Workout"})]})]},d))})]},k))}),e.jsx("div",{className:"mt-8 max-w-md mx-auto",children:e.jsx("button",{type:"submit",className:"w-full p-3 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:"Save Plan"})})]})]})})},Gt=()=>{const s=Z(),{isDarkMode:t}=o.useContext(q),{user:l,loading:n}=o.useContext(ue),[f,N]=o.useState([]),[b,u]=o.useState([]),[p,w]=o.useState([]),[y,$]=o.useState([]),[a,m]=o.useState(new Date().toISOString().split("T")[0]);o.useEffect(()=>{(async()=>{try{const d=me(),h=await X(K(d,"workouts")),r=await X(K(d,"foods")),c=h.docs.map(R=>({id:R.id,...R.data()})),g=r.docs.map(R=>({id:R.id,...R.data()}));console.log("Fetched workouts from 'workouts' collection:",c),console.log("Fetched meals from 'foods' collection:",g),N(c),u(g),c.length===0&&console.warn("No workouts found in Firestore 'workouts' collection."),g.length===0&&console.warn("No meals found in Firestore 'foods' collection.")}catch(d){console.error("Error fetching data:",d)}})()},[]);const M=b.reduce((A,d)=>{const h=d.category||"Misc";return A[h]||(A[h]=[]),A[h].push(d),A},{}),B=["Meat","Fruit","Vegetable","Starch","Misc"],C=()=>{if(f.length===0){alert("No workouts available to add. Please add workouts in Firestore.");return}w([...p,{name:f[0].name,sets:0,reps:0}])},L=(A,d,h)=>{const r=[...p];r[A][d]=d==="sets"||d==="reps"?Number(h):h,w(r)},S=()=>{if(b.length===0){alert("No meals available to add. Please add meals in Firestore.");return}$([...y,{name:b[0].name,quantity:1}])},W=(A,d,h)=>{const r=[...y];r[A][d]=d==="quantity"?Number(h):h,$(r)},E=A=>{const d=b.find(h=>h.name===A.name);return d?{protein:d.macros.protein*A.quantity,carbs:d.macros.carbs*A.quantity,fats:d.macros.fats*A.quantity}:{protein:0,carbs:0,fats:0}},k=async A=>{if(A.preventDefault(),!l){alert("Please log in to save a fitness log."),s("/login");return}const d=me(),h={userId:l.uid,date:new Date(a).toISOString(),workouts:p,meals:y.map(r=>({...r,macros:E(r)}))};await ge(K(d,"userLogs"),h),s("/fitness-tracker/history")};return n?e.jsx("div",{className:"container mx-auto px-4 py-10",children:"Loading..."}):e.jsxs("div",{className:"container mx-auto px-4 py-10",children:[e.jsx("h1",{className:`text-4xl font-bold text-center mb-8 ${t?"text-red-400":"text-red-800"}`,children:"Log Fitness"}),e.jsxs("form",{onSubmit:k,className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:`mb-8 p-6 rounded-lg shadow-md ${t?"bg-stone-800":"bg-red-50"}`,children:[e.jsx("label",{className:`block text-xl font-semibold mb-2 ${t?"text-red-400":"text-red-800"}`,children:"Date"}),e.jsx("input",{type:"date",value:a,onChange:A=>m(A.target.value),className:`w-full p-3 border rounded-md focus:outline-none focus:ring-2 ${t?"bg-stone-800 border-stone-600 text-red-400 focus:ring-red-800":"bg-white border-red-200 text-red-800 focus:ring-red-800"}`,required:!0})]}),e.jsxs("div",{className:`mb-8 p-6 rounded-lg shadow-md ${t?"bg-stone-800":"bg-red-50"}`,children:[e.jsx("h2",{className:`text-2xl font-semibold mb-4 ${t?"text-red-400":"text-red-800"}`,children:"Workouts"}),f.length===0?e.jsx("p",{className:`text-sm italic ${t?"text-red-400":"text-red-800"}`,children:"No workouts available. Please add workouts in Firestore."}):p.length>0?p.map((A,d)=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 mb-3",children:[e.jsx("select",{value:A.name,onChange:h=>L(d,"name",h.target.value),className:`w-full sm:w-1/3 p-2 border rounded-md focus:outline-none focus:ring-2 mb-2 sm:mb-0 ${t?"bg-stone-800 border-stone-600 text-red-400 focus:ring-red-800":"bg-white border-red-200 text-red-800 focus:ring-red-800"}`,children:f.map(h=>e.jsx("option",{value:h.name,children:h.name},h.id))}),e.jsx("input",{type:"number",value:A.sets,onChange:h=>L(d,"sets",h.target.value),className:`w-full sm:w-24 p-2 border rounded-md focus:outline-none focus:ring-2 mb-2 sm:mb-0 ${t?"bg-stone-800 border-stone-600 text-red-400 focus:ring-red-800":"bg-white border-red-200 text-red-800 focus:ring-red-800"}`,placeholder:"Sets"}),e.jsx("input",{type:"number",value:A.reps,onChange:h=>L(d,"reps",h.target.value),className:`w-full sm:w-24 p-2 border rounded-md focus:outline-none focus:ring-2 ${t?"bg-stone-800 border-stone-600 text-red-400 focus:ring-red-800":"bg-white border-red-200 text-red-800 focus:ring-red-800"}`,placeholder:"Reps"})]},d)):e.jsx("p",{className:`text-sm italic ${t?"text-red-400":"text-red-800"}`,children:"No workouts added yet."}),e.jsx("button",{type:"button",onClick:C,className:"mt-2 px-4 py-2 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:"Add Workout"})]}),e.jsxs("div",{className:`mb-8 p-6 rounded-lg shadow-md ${t?"bg-stone-800":"bg-red-50"}`,children:[e.jsx("h2",{className:`text-2xl font-semibold mb-4 ${t?"text-red-400":"text-red-800"}`,children:"Meals"}),b.length===0?e.jsx("p",{className:`text-sm italic ${t?"text-red-400":"text-red-800"}`,children:"No meals available. Please add meals in Firestore."}):y.length>0?y.map((A,d)=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 mb-3",children:[e.jsx("select",{value:A.name,onChange:h=>W(d,"name",h.target.value),className:`w-full sm:w-1/3 p-2 border rounded-md focus:outline-none focus:ring-2 mb-2 sm:mb-0 ${t?"bg-stone-800 border-stone-600 text-red-400 focus:ring-red-800":"bg-white border-red-200 text-red-800 focus:ring-red-800"}`,children:B.map(h=>M[h]&&e.jsx("optgroup",{label:h,children:M[h].map(r=>e.jsx("option",{value:r.name,children:r.name},r.id))},h))}),e.jsx("input",{type:"number",value:A.quantity,onChange:h=>W(d,"quantity",h.target.value),className:`w-full sm:w-24 p-2 border rounded-md focus:outline-none focus:ring-2 ${t?"bg-stone-800 border-stone-600 text-red-400 focus:ring-red-800":"bg-white border-red-200 text-red-800 focus:ring-red-800"}`,placeholder:"Quantity"})]},d)):e.jsx("p",{className:`text-sm italic ${t?"text-red-400":"text-red-800"}`,children:"No meals added yet."}),e.jsx("button",{type:"button",onClick:S,className:"mt-2 px-4 py-2 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:"Add Meal"})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"submit",className:"px-6 py-2 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:"Save Log"})})]})]})},zt=()=>{const{isDarkMode:s}=o.useContext(q),[t,l]=o.useState([]);return o.useEffect(()=>{(async()=>{const f=me(),b=(await X(K(f,"userLogs"))).docs.map(u=>({id:u.id,...u.data()}));l(b.sort((u,p)=>new Date(p.date)-new Date(u.date)))})()},[]),e.jsx("div",{className:`min-h-screen pt-20 ${s?"bg-stone-900 text-red-400":"bg-white text-red-800"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-10",children:[e.jsx("h1",{className:`text-4xl font-bold text-center mb-8 ${s?"text-red-400":"text-red-800"}`,children:"Fitness History"}),e.jsx("div",{className:"max-w-2xl mx-auto",children:t.length>0?t.map(n=>e.jsxs("div",{className:`border p-6 rounded-lg shadow-md mb-6 ${s?"border-stone-600 bg-stone-800":"border-red-200 bg-red-50"}`,children:[e.jsx("h2",{className:`text-xl font-semibold mb-2 ${s?"text-red-400":"text-red-800"}`,children:new Date(n.date).toLocaleDateString()}),e.jsxs("div",{className:"mt-2",children:[e.jsx("h3",{className:`font-semibold mb-1 ${s?"text-red-400":"text-red-800"}`,children:"Workouts:"}),e.jsx("ul",{className:"list-disc pl-5",children:n.workouts.map((f,N)=>e.jsxs("li",{children:[f.name,": ",f.sets," sets x ",f.reps," ","reps"]},N))})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("h3",{className:`font-semibold mb-1 ${s?"text-red-400":"text-red-800"}`,children:"Meals:"}),e.jsx("ul",{className:"list-disc pl-5",children:n.meals.map((f,N)=>e.jsxs("li",{children:[f.name," (",f.quantity,"g): Protein"," ",f.macros.protein.toFixed(1),"g, Carbs"," ",f.macros.carbs.toFixed(1),"g, Fats"," ",f.macros.fats.toFixed(1),"g"]},N))})]})]},n.id)):e.jsx("p",{className:`text-center text-lg ${s?"text-red-400":"text-red-800"}`,children:"No logs found."})})]})})},Ht=()=>{const s=Z(),{isDarkMode:t}=o.useContext(q),{user:l,loading:n}=o.useContext(ue),[f,N]=o.useState(""),[b,u]=o.useState(new Date().toISOString().split("T")[0]),[p,w]=o.useState([]),[y,$]=o.useState([]),[a,m]=o.useState(!0),[M,B]=o.useState(!0),[C,L]=o.useState(null),[S,W]=o.useState(null),[E,k]=o.useState(Array.from({length:6},(i,x)=>({week:x+1,days:[{day:"Monday",meals:[],macros:{protein:0,carbs:0,fats:0},loggedMeals:{Breakfast:[],Lunch:[],Dinner:[],Snacks:[]}},{day:"Tuesday",meals:[],macros:{protein:0,carbs:0,fats:0},loggedMeals:{Breakfast:[],Lunch:[],Dinner:[],Snacks:[]}},{day:"Wednesday",meals:[],macros:{protein:0,carbs:0,fats:0},loggedMeals:{Breakfast:[],Lunch:[],Dinner:[],Snacks:[]}},{day:"Thursday",meals:[],macros:{protein:0,carbs:0,fats:0},loggedMeals:{Breakfast:[],Lunch:[],Dinner:[],Snacks:[]}},{day:"Friday",meals:[],macros:{protein:0,carbs:0,fats:0},loggedMeals:{Breakfast:[],Lunch:[],Dinner:[],Snacks:[]}},{day:"Saturday",meals:[],macros:{protein:0,carbs:0,fats:0},loggedMeals:{Breakfast:[],Lunch:[],Dinner:[],Snacks:[]}},{day:"Sunday",meals:[],macros:{protein:0,carbs:0,fats:0},loggedMeals:{Breakfast:[],Lunch:[],Dinner:[],Snacks:[]}}]}))),[A,d]=o.useState(Array(6).fill(!1)),[h,r]=o.useState(null);o.useEffect(()=>{(async()=>{try{m(!0),L(null);const{data:x,error:P}=await te.from("foods").select("*");if(P)throw P;console.log("Fetched meals from Supabase 'foods' table:",x),w(x),x.length===0&&console.warn("No meals found in Supabase 'foods' table.")}catch(x){console.error("Error fetching meals:",x),L("Failed to load meals. Please try again later.")}finally{m(!1)}})()},[]),o.useEffect(()=>{(async()=>{if(l)try{B(!0),W(null);const{data:x,error:P}=await te.from("nutrition_plans").select("*").eq("user_id",l.id);if(P)throw P;console.log("Fetched nutrition plans from Supabase:",x),$(x)}catch(x){console.error("Error fetching nutrition plans:",x),W("Failed to load your nutrition plans. Please try again later.")}finally{B(!1)}})()},[l]);const c=p.reduce((i,x)=>{const P=x.category||"Misc";return i[P]||(i[P]=[]),i[P].push(x),i},{}),g=["Meat","Fruit","Vegetable","Starch","Misc"],R=["Breakfast","Lunch","Dinner","Snacks"],U=i=>{const x=[...A];x[i]=!x[i],d(x)},Q=(i,x)=>{if(p.length===0){alert("No meals available to add. Please add meals in Supabase.");return}const P=[...E];P[i].days[x].meals.push({name:p[0].name,grams:p[0].portion||100,referencePortion:p[0].portion||100,macros:p[0].macros,mealTime:"Breakfast"}),k(P)},G=(i,x,P,O,T)=>{const H=[...E],I=H[i].days[x].meals[P];if(O==="name"){const oe=p.find(we=>we.name===T);I.name=T,I.grams=oe.portion||100,I.referencePortion=oe.portion||100,I.macros=oe.macros}else I[O]=O==="grams"?Number(T):T;k(H)},ae=(i,x,P,O)=>{const T=[...E];T[i].days[x].macros[P]=Number(O),k(T)},ee=(i,x)=>{const P=[...E],O=P[i].days[x],T={...O.meals[O.meals.length-1]};T.name&&(O.loggedMeals[T.mealTime].push(T),O.meals[O.meals.length-1]={name:p[0].name,grams:p[0].portion||100,referencePortion:p[0].portion||100,macros:p[0].macros,mealTime:"Breakfast"},k(P))},de=(i,x,P,O,T)=>{r({weekIndex:i,dayIndex:x,mealTime:P,mealIndex:O,meal:T})},j=()=>{if(!h)return;const{weekIndex:i,dayIndex:x,mealTime:P,mealIndex:O,meal:T}=h,H=[...E];H[i].days[x].loggedMeals[P][O]=T,k(H),r(null)},F=(i,x,P,O)=>{const T=[...E];T[i].days[x].loggedMeals[P].splice(O,1),k(T)},z=i=>Object.values(i).flat().reduce((P,O)=>{const T=O.grams/O.referencePortion;return{protein:P.protein+O.macros.protein*T,carbs:P.carbs+O.macros.carbs*T,fats:P.fats+O.macros.fats*T}},{protein:0,carbs:0,fats:0}),Y=(i,x)=>({protein:i.protein>=x.protein,carbs:i.carbs>=x.carbs,fats:i.fats>=x.fats}),ce=i=>{const x=new Date(b);return x.setDate(x.getDate()+i*7),x.toLocaleDateString()},D=(i,x)=>{const P=new Date(b);return P.setDate(P.getDate()+i*7+x),P.toLocaleDateString()},v=async i=>{if(i.preventDefault(),!l){alert("Please log in to save a nutrition plan."),s("/login");return}try{const x={user_id:l.id,name:f,start_date:new Date(b).toISOString().split("T")[0],weeks:JSON.stringify(E)},{data:P,error:O}=await te.from("nutrition_plans").insert(x).select();if(O)throw O;s(`/nutrition-plan/${P[0].id}`)}catch(x){console.error("Error saving nutrition plan:",x),alert("Failed to save nutrition plan. Please try again.")}};return n?e.jsx("div",{className:"container mx-auto px-4 py-10 text-center text-lg",children:e.jsx(pe,{color:t?"#f87171":"#b91c1c"})}):a||M?e.jsx("div",{className:"container mx-auto px-4 py-10 text-center text-lg",children:e.jsx(pe,{color:t?"#f87171":"#b91c1c"})}):C?e.jsx("div",{className:"container mx-auto px-4 py-10 text-center text-lg text-red-500",children:C}):e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsx("h1",{className:`text-4xl md:text-5xl font-extrabold text-center mb-10 tracking-tight ${t?"text-red-400":"text-red-800"}`,children:"Create Your Nutrition Plan"}),S?e.jsx("div",{className:"text-center text-red-500 mb-12",children:S}):y.length>0?e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:`text-3xl font-bold mb-6 ${t?"text-red-400":"text-red-800"} tracking-tight`,children:"Your Nutrition Plans"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(i=>e.jsxs("div",{className:`p-6 rounded-xl shadow-lg cursor-pointer transition-all duration-200 ${t?"bg-stone-800/90 hover:bg-stone-700":"bg-red-50/90 hover:bg-red-100"} border ${t?"border-stone-700":"border-red-200"}`,onClick:()=>s(`/nutrition-plan/${i.id}`),children:[e.jsx("h3",{className:`text-xl font-semibold ${t?"text-red-400":"text-red-800"} tracking-tight`,children:i.name}),e.jsxs("p",{className:`text-sm mt-2 ${t?"text-stone-400":"text-stone-600"}`,children:["Start Date: ",i.start_date]})]},i.id))})]}):e.jsx("div",{className:"text-center text-lg mb-12",children:"No nutrition plans yet. Create one below!"}),e.jsxs("form",{onSubmit:v,children:[e.jsx("div",{className:`mb-10 p-6 rounded-xl shadow-lg ${t?"bg-stone-800/90":"bg-red-50/90"} backdrop-blur-sm border ${t?"border-stone-700":"border-red-200"}`,children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-lg font-semibold mb-2 ${t?"text-red-400":"text-red-800"} tracking-wide`,children:"Plan Name"}),e.jsx("input",{type:"text",value:f,onChange:i=>N(i.target.value),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"} placeholder-stone-400`,placeholder:"Enter plan name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-lg font-semibold mb-2 ${t?"text-red-400":"text-red-800"} tracking-wide`,children:"Start Date"}),e.jsx("input",{type:"date",value:b,onChange:i=>u(i.target.value),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"}`,required:!0})]})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:E.map((i,x)=>e.jsxs("div",{className:`p-6 rounded-xl shadow-lg ${t?"bg-stone-800/90":"bg-red-50/90"} backdrop-blur-sm border ${t?"border-stone-700":"border-red-200"} transition-all duration-300`,children:[e.jsxs("div",{className:`flex justify-between items-center cursor-pointer p-4 rounded-lg transition-colors duration-200 ${t?"hover:bg-stone-700":"hover:bg-red-100"}`,onClick:()=>U(x),children:[e.jsxs("h2",{className:`text-2xl font-bold ${t?"text-red-400":"text-red-800"} tracking-tight`,children:["Week ",i.week," ",e.jsxs("span",{className:"text-sm font-normal",children:["(",ce(x),")"]})]}),A[x]?e.jsx(Le,{className:`w-6 h-6 ${t?"text-red-400":"text-red-800"} transition-transform duration-200`}):e.jsx(Fe,{className:`w-6 h-6 ${t?"text-red-400":"text-red-800"} transition-transform duration-200`})]}),A[x]&&e.jsx("div",{className:"mt-6 space-y-6",children:i.days.map((P,O)=>e.jsxs("div",{className:`border p-6 rounded-lg ${t?"border-stone-600 bg-stone-700/50":"border-red-200 bg-white/50"} transition-all duration-200`,children:[e.jsxs("h3",{className:`text-xl font-semibold mb-4 ${t?"text-red-400":"text-red-800"} tracking-tight`,children:[P.day," ",e.jsxs("span",{className:"text-sm font-normal",children:["(",D(x,O),")"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:`text-lg font-semibold mb-3 ${t?"text-red-400":"text-red-800"} tracking-wide`,children:"Macro Goals"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-red-400":"text-red-800"}`,children:"Protein (g)"}),e.jsx("input",{type:"number",value:P.macros.protein,onChange:T=>ae(x,O,"protein",T.target.value),className:`w-full p-2 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-red-400":"text-red-800"}`,children:"Carbs (g)"}),e.jsx("input",{type:"number",value:P.macros.carbs,onChange:T=>ae(x,O,"carbs",T.target.value),className:`w-full p-2 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-red-400":"text-red-800"}`,children:"Fats (g)"}),e.jsx("input",{type:"number",value:P.macros.fats,onChange:T=>ae(x,O,"fats",T.target.value),className:`w-full p-2 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"}`})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:`text-lg font-semibold mb-3 ${t?"text-red-400":"text-red-800"} tracking-wide`,children:"Plan a Meal"}),p.length===0?e.jsx("p",{className:`text-sm italic ${t?"text-red-400":"text-red-800"}`,children:"No meals available. Please add meals in Supabase."}):P.meals.length>0?P.meals.map((T,H)=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 mb-4 p-4 rounded-lg bg-opacity-50 border border-opacity-30",children:[e.jsx("select",{value:T.name,onChange:I=>G(x,O,H,"name",I.target.value),className:`w-full sm:w-1/3 p-2 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"}`,children:g.map(I=>c[I]&&e.jsx("optgroup",{label:I,children:c[I].map(oe=>e.jsx("option",{value:oe.name,children:oe.name},oe.id))},I))}),e.jsx("input",{type:"number",value:T.grams,onChange:I=>G(x,O,H,"grams",I.target.value),className:`w-full sm:w-24 p-2 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"}`,placeholder:"Grams"}),e.jsx("select",{value:T.mealTime,onChange:I=>G(x,O,H,"mealTime",I.target.value),className:`w-full sm:w-24 p-2 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"}`,children:R.map(I=>e.jsx("option",{value:I,children:I},I))}),e.jsx("button",{type:"button",onClick:()=>ee(x,O),className:`mt-2 sm:mt-0 px-3 py-1 text-sm rounded-lg transition-all duration-200 font-medium ${t?"bg-red-700 text-white hover:bg-red-800":"bg-red-600 text-white hover:bg-red-700"} shadow-sm hover:shadow-md`,children:"Log"})]},H)):e.jsx("p",{className:`text-sm italic ${t?"text-red-400":"text-red-800"}`,children:"No meals added yet."}),e.jsx("button",{type:"button",onClick:()=>Q(x,O),className:`mt-4 w-full p-3 rounded-lg transition-all duration-200 font-medium ${t?"bg-red-700 text-white hover:bg-red-800":"bg-red-600 text-white hover:bg-red-700"} shadow-sm hover:shadow-md`,children:"Add Meal"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-lg font-semibold mb-3 ${t?"text-red-400":"text-red-800"} tracking-wide`,children:"Logged Meals"}),Object.keys(P.loggedMeals).every(T=>P.loggedMeals[T].length===0)?e.jsx("p",{className:`text-sm italic ${t?"text-red-400":"text-red-800"}`,children:"No meals logged yet."}):R.map(T=>e.jsxs("div",{className:"mb-6",children:[e.jsx("h5",{className:`text-base font-semibold mb-2 ${t?"text-red-400":"text-red-800"} tracking-wide border-b ${t?"border-stone-600":"border-red-200"} pb-1`,children:T}),P.loggedMeals[T].length>0?e.jsx("ul",{className:"space-y-2",children:P.loggedMeals[T].map((H,I)=>e.jsxs("li",{className:`flex items-center justify-between p-2 rounded-lg ${t?"bg-stone-600/30":"bg-red-100/30"} transition-all duration-200 hover:bg-opacity-50`,children:[e.jsxs("span",{className:"text-sm",children:[H.name,": ",H.grams,"g"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>de(x,O,T,I,{...H}),className:`p-1 rounded-md transition-colors duration-200 ${t?"text-red-400 hover:bg-stone-500":"text-red-800 hover:bg-red-200"}`,children:e.jsx(it,{className:"w-5 h-5"})}),e.jsx("button",{type:"button",onClick:()=>F(x,O,T,I),className:`p-1 rounded-md transition-colors duration-200 ${t?"text-red-400 hover:bg-stone-500":"text-red-800 hover:bg-red-200"}`,children:e.jsx(lt,{className:"w-5 h-5"})})]})]},I))}):e.jsxs("p",{className:`text-sm italic ${t?"text-red-400":"text-red-800"}`,children:["No ",T.toLowerCase()," logged."]})]},T)),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:`text-base font-semibold mb-3 ${t?"text-red-400":"text-red-800"} tracking-wide border-b ${t?"border-stone-600":"border-red-200"} pb-1`,children:"Total Macros"}),(()=>{const T=z(P.loggedMeals),H=Y(T,P.macros);return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"w-24 font-medium",children:"Protein:"}),e.jsx("div",{className:"flex-1 bg-stone-200 dark:bg-stone-600 rounded-full h-4 overflow-hidden",children:e.jsx("div",{className:`h-full ${H.protein?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.min(T.protein/P.macros.protein*100,100)}%`}})}),e.jsxs("span",{className:"text-sm",children:[T.protein.toFixed(1),"g /"," ",P.macros.protein,"g"]}),H.protein?e.jsx(xe,{className:"w-5 h-5 text-green-500"}):e.jsx(he,{className:"w-5 h-5 text-red-500"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"w-24 font-medium",children:"Carbs:"}),e.jsx("div",{className:"flex-1 bg-stone-200 dark:bg-stone-600 rounded-full h-4 overflow-hidden",children:e.jsx("div",{className:`h-full ${H.carbs?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.min(T.carbs/P.macros.carbs*100,100)}%`}})}),e.jsxs("span",{className:"text-sm",children:[T.carbs.toFixed(1),"g /"," ",P.macros.carbs,"g"]}),H.carbs?e.jsx(xe,{className:"w-5 h-5 text-green-500"}):e.jsx(he,{className:"w-5 h-5 text-red-500"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"w-24 font-medium",children:"Fats:"}),e.jsx("div",{className:"flex-1 bg-stone-200 dark:bg-stone-600 rounded-full h-4 overflow-hidden",children:e.jsx("div",{className:`h-full ${H.fats?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.min(T.fats/P.macros.fats*100,100)}%`}})}),e.jsxs("span",{className:"text-sm",children:[T.fats.toFixed(1),"g /"," ",P.macros.fats,"g"]}),H.fats?e.jsx(xe,{className:"w-5 h-5 text-green-500"}):e.jsx(he,{className:"w-5 h-5 text-red-500"})]})]})})()]})]})]},O))})]},x))}),e.jsx("div",{className:"mt-12 max-w-md mx-auto",children:e.jsx("button",{type:"submit",className:`w-full p-4 rounded-lg transition-all duration-200 font-semibold text-lg ${t?"bg-red-700 text-white hover:bg-red-800":"bg-red-600 text-white hover:bg-red-700"} shadow-md hover:shadow-lg`,children:"Save Plan"})})]}),h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:e.jsxs("div",{className:`p-8 rounded-xl shadow-2xl max-w-md w-full ${t?"bg-stone-800":"bg-red-50"} border ${t?"border-stone-700":"border-red-200"}`,children:[e.jsx("h3",{className:`text-2xl font-semibold mb-6 ${t?"text-red-400":"text-red-800"} tracking-tight`,children:"Edit Meal"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-red-400":"text-red-800"} tracking-wide`,children:"Meal"}),e.jsx("select",{value:h.meal.name,onChange:i=>{const x=p.find(P=>P.name===i.target.value);r({...h,meal:{...h.meal,name:i.target.value,grams:x.portion||100,referencePortion:x.portion||100,macros:x.macros}})},className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"}`,children:g.map(i=>c[i]&&e.jsx("optgroup",{label:i,children:c[i].map(x=>e.jsx("option",{value:x.name,children:x.name},x.id))},i))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-red-400":"text-red-800"} tracking-wide`,children:"Grams"}),e.jsx("input",{type:"number",value:h.meal.grams,onChange:i=>r({...h,meal:{...h.meal,grams:Number(i.target.value)}}),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"}`})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-red-400":"text-red-800"} tracking-wide`,children:"Meal Time"}),e.jsx("select",{value:h.meal.mealTime,onChange:i=>r({...h,meal:{...h.meal,mealTime:i.target.value}}),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"}`,children:R.map(i=>e.jsx("option",{value:i,children:i},i))})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:j,className:`flex-1 p-3 rounded-lg transition-all duration-200 font-medium ${t?"bg-red-700 text-white hover:bg-red-800":"bg-red-600 text-white hover:bg-red-700"} shadow-sm hover:shadow-md`,children:"Save"}),e.jsx("button",{type:"button",onClick:()=>r(null),className:`flex-1 p-3 rounded-lg transition-all duration-200 font-medium ${t?"bg-stone-600 text-white hover:bg-stone-700":"bg-red-200 text-red-800 hover:bg-red-300"} shadow-sm hover:shadow-md`,children:"Cancel"})]})]})})]})},Jt=()=>{const{id:s}=je(),{isDarkMode:t}=o.useContext(q),[l,n]=o.useState(null),[f,N]=o.useState(!0),[b,u]=o.useState(null),[p,w]=o.useState([]);o.useEffect(()=>{(async()=>{try{N(!0),u(null);const{data:L,error:S}=await te.from("nutrition_plans").select("*").eq("id",s).single();if(S)throw S;const W=JSON.parse(L.weeks);n({...L,weeks:W}),w(Array(W.length).fill(!1))}catch(L){console.error("Error fetching nutrition plan:",L),u("Failed to load nutrition plan. Please try again later.")}finally{N(!1)}})()},[s]);const y=C=>{const L=[...p];L[C]=!L[C],w(L)},$=C=>Object.values(C).flat().reduce((S,W)=>{const E=W.grams/W.referencePortion;return{protein:S.protein+W.macros.protein*E,carbs:S.carbs+W.macros.carbs*E,fats:S.fats+W.macros.fats*E}},{protein:0,carbs:0,fats:0}),a=(C,L)=>({protein:C.protein>=L.protein,carbs:C.carbs>=L.carbs,fats:C.fats>=L.fats}),m=C=>{const L=new Date(l.start_date);return L.setDate(L.getDate()+C*7),L.toLocaleDateString()},M=(C,L)=>{const S=new Date(l.start_date);return S.setDate(S.getDate()+C*7+L),S.toLocaleDateString()};if(f)return e.jsx("div",{className:"container mx-auto px-4 py-10 text-center text-lg",children:e.jsx(pe,{color:t?"#f87171":"#b91c1c"})});if(b)return e.jsx("div",{className:"container mx-auto px-4 py-10 text-center text-lg text-red-500",children:b});if(!l)return e.jsx("div",{className:"container mx-auto px-4 py-10 text-center text-lg",children:"Nutrition plan not found."});const B=["Breakfast","Lunch","Dinner","Snacks"];return e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsx("h1",{className:`text-4xl md:text-5xl font-extrabold text-center mb-10 tracking-tight ${t?"text-red-400":"text-red-800"}`,children:l.name}),e.jsxs("p",{className:`text-center text-lg mb-10 ${t?"text-stone-400":"text-stone-600"}`,children:["Start Date: ",new Date(l.start_date).toLocaleDateString()]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:l.weeks.map((C,L)=>e.jsxs("div",{className:`p-6 rounded-xl shadow-lg ${t?"bg-stone-800/90":"bg-red-50/90"} backdrop-blur-sm border ${t?"border-stone-700":"border-red-200"} transition-all duration-300`,children:[e.jsxs("div",{className:`flex justify-between items-center cursor-pointer p-4 rounded-lg transition-colors duration-200 ${t?"hover:bg-stone-700":"hover:bg-red-100"}`,onClick:()=>y(L),children:[e.jsxs("h2",{className:`text-2xl font-bold ${t?"text-red-400":"text-red-800"} tracking-tight`,children:["Week ",C.week," ",e.jsxs("span",{className:"text-sm font-normal",children:["(",m(L),")"]})]}),p[L]?e.jsx(Le,{className:`w-6 h-6 ${t?"text-red-400":"text-red-800"} transition-transform duration-200`}):e.jsx(Fe,{className:`w-6 h-6 ${t?"text-red-400":"text-red-800"} transition-transform duration-200`})]}),p[L]&&e.jsx("div",{className:"mt-6 space-y-6",children:C.days.map((S,W)=>e.jsxs("div",{className:`border p-6 rounded-lg ${t?"border-stone-600 bg-stone-700/50":"border-red-200 bg-white/50"} transition-all duration-200`,children:[e.jsxs("h3",{className:`text-xl font-semibold mb-4 ${t?"text-red-400":"text-red-800"} tracking-tight`,children:[S.day," ",e.jsxs("span",{className:"text-sm font-normal",children:["(",M(L,W),")"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:`text-lg font-semibold mb-3 ${t?"text-red-400":"text-red-800"} tracking-wide`,children:"Macro Goals"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-red-400":"text-red-800"}`,children:"Protein (g)"}),e.jsxs("p",{className:`text-sm ${t?"text-stone-400":"text-stone-600"}`,children:[S.macros.protein,"g"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-red-400":"text-red-800"}`,children:"Carbs (g)"}),e.jsxs("p",{className:`text-sm ${t?"text-stone-400":"text-stone-600"}`,children:[S.macros.carbs,"g"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-red-400":"text-red-800"}`,children:"Fats (g)"}),e.jsxs("p",{className:`text-sm ${t?"text-stone-400":"text-stone-600"}`,children:[S.macros.fats,"g"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-lg font-semibold mb-3 ${t?"text-red-400":"text-red-800"} tracking-wide`,children:"Logged Meals"}),Object.keys(S.loggedMeals).every(E=>S.loggedMeals[E].length===0)?e.jsx("p",{className:`text-sm italic ${t?"text-red-400":"text-red-800"}`,children:"No meals logged yet."}):B.map(E=>e.jsxs("div",{className:"mb-6",children:[e.jsx("h5",{className:`text-base font-semibold mb-2 ${t?"text-red-400":"text-red-800"} tracking-wide border-b ${t?"border-stone-600":"border-red-200"} pb-1`,children:E}),S.loggedMeals[E].length>0?e.jsx("ul",{className:"space-y-2",children:S.loggedMeals[E].map((k,A)=>e.jsx("li",{className:`flex items-center justify-between p-2 rounded-lg ${t?"bg-stone-600/30":"bg-red-100/30"} transition-all duration-200 hover:bg-opacity-50`,children:e.jsxs("span",{className:"text-sm",children:[k.name,": ",k.grams,"g"]})},A))}):e.jsxs("p",{className:`text-sm italic ${t?"text-red-400":"text-red-800"}`,children:["No ",E.toLowerCase()," logged."]})]},E)),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:`text-base font-semibold mb-3 ${t?"text-red-400":"text-red-800"} tracking-wide border-b ${t?"border-stone-600":"border-red-200"} pb-1`,children:"Total Macros"}),(()=>{const E=$(S.loggedMeals),k=a(E,S.macros);return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"w-24 font-medium",children:"Protein:"}),e.jsx("div",{className:"flex-1 bg-stone-200 dark:bg-stone-600 rounded-full h-4 overflow-hidden",children:e.jsx("div",{className:`h-full ${k.protein?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.min(E.protein/S.macros.protein*100,100)}%`}})}),e.jsxs("span",{className:"text-sm",children:[E.protein.toFixed(1),"g /"," ",S.macros.protein,"g"]}),k.protein?e.jsx(xe,{className:"w-5 h-5 text-green-500"}):e.jsx(he,{className:"w-5 h-5 text-red-500"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"w-24 font-medium",children:"Carbs:"}),e.jsx("div",{className:"flex-1 bg-stone-200 dark:bg-stone-600 rounded-full h-4 overflow-hidden",children:e.jsx("div",{className:`h-full ${k.carbs?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.min(E.carbs/S.macros.carbs*100,100)}%`}})}),e.jsxs("span",{className:"text-sm",children:[E.carbs.toFixed(1),"g /"," ",S.macros.carbs,"g"]}),k.carbs?e.jsx(xe,{className:"w-5 h-5 text-green-500"}):e.jsx(he,{className:"w-5 h-5 text-red-500"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"w-24 font-medium",children:"Fats:"}),e.jsx("div",{className:"flex-1 bg-stone-200 dark:bg-stone-600 rounded-full h-4 overflow-hidden",children:e.jsx("div",{className:`h-full ${k.fats?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.min(E.fats/S.macros.fats*100,100)}%`}})}),e.jsxs("span",{className:"text-sm",children:[E.fats.toFixed(1),"g /"," ",S.macros.fats,"g"]}),k.fats?e.jsx(xe,{className:"w-5 h-5 text-green-500"}):e.jsx(he,{className:"w-5 h-5 text-red-500"})]})]})})()]})]})]},W))})]},L))})]})},Vt=()=>{const[s,t]=o.useState(""),[l,n]=o.useState(""),[f,N]=o.useState(null),[b,u]=o.useState(!1),{login:p}=o.useContext(ue),{isDarkMode:w}=o.useContext(q),y=Z(),$=async a=>{var m,M;a.preventDefault(),N(null),u(!0);try{await p(s,l);const B=((M=(m=location.state)==null?void 0:m.from)==null?void 0:M.pathname)||"/profile";y(B,{replace:!0})}catch(B){N(B.message),console.error("Login error:",B.message)}finally{u(!1)}};return e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsx("h1",{className:`text-4xl md:text-5xl font-extrabold text-center mb-10 tracking-tight ${w?"text-red-400":"text-red-800"}`,children:"Login"}),e.jsxs("div",{className:`max-w-md mx-auto p-6 rounded-lg shadow-md ${w?"bg-stone-800 text-red-400":"bg-white text-red-800"}`,children:[e.jsxs("form",{onSubmit:$,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:`block text-lg font-semibold mb-2 ${w?"text-red-400":"text-red-800"} tracking-wide`,children:"Email"}),e.jsx("input",{type:"email",value:s,onChange:a=>t(a.target.value),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${w?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"} placeholder-stone-400`,placeholder:"Enter your email",required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:`block text-lg font-semibold mb-2 ${w?"text-red-400":"text-red-800"} tracking-wide`,children:"Password"}),e.jsx("input",{type:"password",value:l,onChange:a=>n(a.target.value),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${w?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"} placeholder-stone-400`,placeholder:"Enter your password",required:!0})]}),f&&e.jsx("p",{className:`text-center text-sm mb-4 ${w?"text-red-400":"text-red-800"}`,children:f}),e.jsx("button",{type:"submit",disabled:b,className:`w-full p-3 rounded-lg font-semibold text-lg flex items-center justify-center ${w?"bg-red-700 text-white hover:bg-red-800":"bg-red-600 text-white hover:bg-red-700"} transition-all duration-200 shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed`,children:b?e.jsxs(e.Fragment,{children:[e.jsx(dt,{className:"animate-spin mr-2"}),"Logging in..."]}):"Login"})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(J,{to:"/forgot-password",className:`text-sm hover:underline ${w?"text-red-400 hover:text-red-300":"text-red-800 hover:text-red-600"}`,children:"Forgot Password?"})}),e.jsx("div",{className:"mt-2 text-center",children:e.jsxs("p",{className:`text-sm ${w?"text-stone-300":"text-stone-600"}`,children:["Don't have an account?"," ",e.jsx(J,{to:"/signup",className:`hover:underline ${w?"text-red-400 hover:text-red-300":"text-red-800 hover:text-red-600"}`,children:"Sign up"})]})})]})]})},Yt=()=>{const s=Z(),{isDarkMode:t}=o.useContext(q),{signup:l,user:n,loading:f}=o.useContext(ue),[N,b]=o.useState(""),[u,p]=o.useState(""),[w,y]=o.useState(null),$=async a=>{a.preventDefault(),y(null);try{await l(N,u),s("/login")}catch(m){m.message.includes("User already exists")?y("Email already in use. A confirmation email has been resent."):m.message.includes("rate limit")?y("Too many signup attempts. Please wait and try again later."):y("An error occurred during signup. Please try again.")}};return f?e.jsx("div",{children:"Loading..."}):n?(s("/nutrition"),null):e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsx("h1",{className:`text-4xl md:text-5xl font-extrabold text-center mb-10 tracking-tight ${t?"text-red-400":"text-red-800"}`,children:"Sign Up"}),e.jsxs("form",{onSubmit:$,className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:`block text-lg font-semibold mb-2 ${t?"text-red-400":"text-red-800"} tracking-wide`,children:"Email"}),e.jsx("input",{type:"email",value:N,onChange:a=>b(a.target.value),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"} placeholder-stone-400`,placeholder:"Enter your email",required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:`block text-lg font-semibold mb-2 ${t?"text-red-400":"text-red-800"} tracking-wide`,children:"Password"}),e.jsx("input",{type:"password",value:u,onChange:a=>p(a.target.value),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${t?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"} placeholder-stone-400`,placeholder:"Enter your password",required:!0})]}),w&&e.jsx("p",{className:`text-center text-sm mb-6 ${t?"text-red-400":"text-red-800"}`,children:w}),e.jsx("button",{type:"submit",className:`w-full p-4 rounded-lg transition-all duration-200 font-semibold text-lg ${t?"bg-red-700 text-white hover:bg-red-800":"bg-red-600 text-white hover:bg-red-700"} shadow-md hover:shadow-lg`,children:"Sign Up"})]}),e.jsxs("p",{className:`text-center mt-6 text-sm ${t?"text-stone-400":"text-stone-600"}`,children:["Already have an account?"," ",e.jsx("a",{href:"/login",className:"text-red-600 hover:underline",children:"Log in"})]})]})},Qt=()=>{var B,C,L;const{user:s,loading:t,refreshUser:l}=o.useContext(ue),{isDarkMode:n}=o.useContext(q),f=Z(),[N,b]=o.useState(((B=s==null?void 0:s.user_metadata)==null?void 0:B.displayName)||""),[u,p]=o.useState([]),[w,y]=o.useState(null),[$,a]=o.useState(null);if(o.useEffect(()=>{(async()=>{if(s)try{const{data:W,error:E}=await te.from("nutrition_plans").select("*").eq("user_id",s.id);if(E)throw E;p(W||[])}catch(W){console.error("Error fetching nutrition plans:",W.message)}})()},[s]),t)return e.jsx("div",{children:"Loading..."});if(!s)return f("/login"),null;const m=async S=>{S.preventDefault(),y(null),a(null);try{const{error:W}=await te.auth.updateUser({data:{displayName:N}});if(W)throw W;a("Profile updated successfully!"),await l()}catch(W){y("Failed to update profile. Please try again."),console.error("Update profile error:",W.message)}},M=(C=s==null?void 0:s.user_metadata)!=null&&C.displayName?s.user_metadata.displayName.charAt(0).toUpperCase()+s.user_metadata.displayName.slice(1):"User";return e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsxs("h1",{className:`text-4xl md:text-5xl font-extrabold text-center mb-4 tracking-tight ${n?"text-red-400":"text-red-800"}`,children:[M," - Dashboard "]}),e.jsxs("p",{className:`text-center text-lg mb-10 ${n?"text-stone-300":"text-stone-600"}`,children:["Welcome back, ",M,"!"]}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:`p-6 rounded-lg shadow-md mb-6 ${n?"bg-stone-800 text-red-400":"bg-white text-red-800"}`,children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Profile Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",s.email]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Username:"})," ",((L=s.user_metadata)==null?void 0:L.displayName)||"Not set"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Account Created:"})," ",new Date(s.created_at).toLocaleDateString()]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Last Updated:"})," ",new Date(s.updated_at).toLocaleDateString()]}),s.user_metadata&&Object.keys(s.user_metadata).length>0?e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Additional Info:"}),e.jsx("ul",{className:"list-disc list-inside ml-4",children:Object.entries(s.user_metadata).map(([S,W])=>e.jsxs("li",{children:[S,": ",W]},S))})]}):e.jsx("p",{children:"No additional user metadata available."})]})]}),e.jsxs("div",{className:`p-6 rounded-lg shadow-md mb-6 ${n?"bg-stone-800 text-red-400":"bg-white text-red-800"}`,children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Your Nutrition Plans"}),u.length>0?e.jsx("ul",{className:"space-y-2",children:u.map(S=>e.jsx("li",{children:e.jsx(Link,{to:`/nutrition-plan/${S.id}`,className:"hover:text-red-600 transition-colors duration-200",children:S.name||`Plan ${S.id}`})},S.id))}):e.jsx("p",{children:"No nutrition plans found."})]}),e.jsxs("div",{className:`p-6 rounded-lg shadow-md mb-6 ${n?"bg-stone-800 text-red-400":"bg-white text-red-800"}`,children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Update Profile"}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:`block text-lg font-semibold mb-2 ${n?"text-red-400":"text-red-800"} tracking-wide`,children:"Display Name"}),e.jsx("input",{type:"text",value:N,onChange:S=>b(S.target.value),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 transition-all duration-200 ${n?"bg-stone-700 border-stone-600 text-red-400 focus:ring-red-600":"bg-white border-red-200 text-red-800 focus:ring-red-600"} placeholder-stone-400`,placeholder:"Enter your display name"})]}),w&&e.jsx("p",{className:`text-center text-sm mb-4 ${n?"text-red-400":"text-red-800"}`,children:w}),$&&e.jsx("p",{className:`text-center text-sm mb-4 ${n?"text-green-400":"text-green-600"}`,children:$}),e.jsx("button",{type:"submit",className:`w-full p-3 rounded-lg font-semibold text-lg ${n?"bg-red-700 text-white hover:bg-red-800":"bg-red-600 text-white hover:bg-red-700"} transition-all duration-200 shadow-md hover:shadow-lg`,children:"Update Profile"})]})]}),e.jsxs("div",{className:`p-6 rounded-lg shadow-md ${n?"bg-stone-800 text-red-400":"bg-white text-red-800"}`,children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Account Actions"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:()=>f("/nutrition"),className:`w-full p-3 rounded-lg font-semibold text-lg ${n?"bg-red-700 text-white hover:bg-red-800":"bg-red-600 text-white hover:bg-red-700"} transition-all duration-200 shadow-md hover:shadow-lg`,children:"Create Nutrition Plan"}),e.jsx("button",{onClick:()=>f("/fitness-tracker"),className:`w-full p-3 rounded-lg font-semibold text-lg ${n?"bg-red-700 text-white hover:bg-red-800":"bg-red-600 text-white hover:bg-red-700"} transition-all duration-200 shadow-md hover:shadow-lg`,children:"Fitness Tracker"}),e.jsx("button",{onClick:()=>f("/nutrition"),className:`w-full p-3 rounded-lg font-semibold text-lg ${n?"bg-red-700 text-white hover:bg-red-800":"bg-red-600 text-white hover:bg-red-700"} transition-all duration-200 shadow-md hover:shadow-lg`,children:"View Nutrition Plans"}),e.jsx("button",{onClick:()=>f("/reset-password"),className:`w-full p-3 rounded-lg font-semibold text-lg ${n?"bg-red-700 text-white hover:bg-red-800":"bg-red-600 text-white hover:bg-red-700"} transition-all duration-200 shadow-md hover:shadow-lg`,children:"Change Password"})]})]})]})]})},Kt=()=>{const{user:s,loading:t}=o.useContext(ue),l=Me();return t?e.jsx("div",{children:"Loading..."}):s?e.jsx(Ue,{}):e.jsx(ct,{to:"/login",state:{from:l},replace:!0})},Zt=()=>(o.useEffect(()=>{(async()=>{try{const t=K(V,"content","blog","posts"),n=(await X(t)).docs.map(w=>({id:w.id,date:w.data().date||new Date().toISOString()})),N=`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  ${[{url:"https://yourdomain.com/",date:new Date().toISOString()},{url:"https://yourdomain.com/about",date:new Date().toISOString()},{url:"https://yourdomain.com/contact",date:new Date().toISOString()}].map(w=>`
  <url>
    <loc>${w.url}</loc>
    <lastmod>${w.date}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.8</priority>
  </url>`).join("")}
  ${n.map(w=>`
  <url>
    <loc>https://yourdomain.com/blog/${w.id}</loc>
    <lastmod>${new Date(w.date).toISOString()}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>0.9</priority>
  </url>`).join("")}
</urlset>`,b=new Blob([N],{type:"application/xml"}),u=URL.createObjectURL(b),p=document.createElement("a");p.href=u,p.download="sitemap.xml",document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(u),console.log("Sitemap generated:",N)}catch(t){console.error("Error generating sitemap:",t)}})()},[]),e.jsx("div",{children:"Generating sitemap..."})),q=o.createContext();function Xt(){const[s,t]=o.useState(()=>{const n=localStorage.getItem("theme");return n?JSON.parse(n):!0});o.useEffect(()=>{localStorage.setItem("theme",JSON.stringify(s))},[s]);const l=()=>t(n=>!n);return console.log("Switched back to HashRouter"),e.jsx(ut,{children:e.jsx(yt,{children:e.jsx(ft,{children:e.jsx(q.Provider,{value:{isDarkMode:s,toggleTheme:l},children:e.jsx(mt,{children:e.jsx(Ie,{children:e.jsx(_e,{classNames:"fade",timeout:300,children:e.jsx(xt,{children:e.jsxs(_,{path:"/",element:e.jsx(wt,{}),children:[e.jsx(_,{index:!0,element:e.jsx(Nt,{})}),e.jsx(_,{path:"products",element:e.jsx($t,{})}),e.jsx(_,{path:"cart",element:e.jsx(St,{})}),e.jsx(_,{path:"checkout",element:e.jsx(Ct,{})}),e.jsx(_,{path:"gut-health",element:e.jsx(Dt,{})}),e.jsx(_,{path:"gut-health/:id",element:e.jsx(Pt,{})}),e.jsx(_,{path:"purchase",element:e.jsx(At,{})}),e.jsx(_,{path:"blog",element:e.jsx(Mt,{})}),e.jsx(_,{path:"blog/:id",element:e.jsx(Lt,{})}),e.jsx(_,{path:"/sitemap.xml",element:e.jsx(Zt,{})}),e.jsx(_,{path:"faq",element:e.jsx(Wt,{})}),e.jsx(_,{path:"contact",element:e.jsx(Tt,{})}),e.jsx(_,{path:"admin",element:e.jsx(Bt,{})}),e.jsx(_,{path:"admin/home",element:e.jsx(Ot,{})}),e.jsx(_,{path:"admin/blog",element:e.jsx(Rt,{})}),e.jsx(_,{path:"admin/products",element:e.jsx(Ut,{})}),e.jsx(_,{path:"/shop/product/:id",element:e.jsx(kt,{})}),e.jsx(_,{path:"fitness-tracker",element:e.jsx(It,{})}),e.jsx(_,{path:"fitness-tracker/plan/:id",element:e.jsx(_t,{})}),e.jsx(_,{path:"fitness-tracker/create-custom-plan",element:e.jsx(qt,{})}),e.jsx(_,{path:"fitness-tracker/log",element:e.jsx(Gt,{})}),e.jsx(_,{path:"fitness-tracker/history",element:e.jsx(zt,{})}),e.jsx(_,{path:"nutrition",element:e.jsx(Ht,{})}),e.jsx(_,{path:"nutrition-plan/:id",element:e.jsx(Jt,{})}),e.jsx(_,{path:"login",element:e.jsx(Vt,{})}),e.jsx(_,{path:"signup",element:e.jsx(Yt,{})}),e.jsx(_,{element:e.jsx(Kt,{}),children:e.jsx(_,{path:"profile",element:e.jsx(Qt,{})})}),e.jsx(_,{path:"*",element:e.jsx("div",{children:"404 - Page Not Found"})})]})})},window.location.pathname)})})})})})})}console.log("Main.jsx is running");ht.createRoot(document.getElementById("root")).render(e.jsx(Re.StrictMode,{children:e.jsx(Xt,{})}));
